!function(na){if("object"==typeof exports)module.exports=na();else if("function"==typeof define&&define.amd)define(na);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self);r.rdfstore=na()}}(function(){return function r(B,y,l){function q(a,e){if(!y[a]){if(!B[a]){var c="function"==typeof require&&require;if(!e&&c)return c(a,!0);if(b)return b(a,!0);throw Error("Cannot find module '"+a+"'");}c=y[a]={exports:{}};B[a][0].call(c.exports,function(b){var e=
B[a][1][b];return q(e?e:b)},c,c.exports,r,B,y,l)}return y[a].exports}for(var b="function"==typeof require&&require,c=0;c<l.length;c++)q(l[c]);return q}({1:[function(r,B,y){},{}],2:[function(r,B,y){function l(a,b,e){if(!(this instanceof l))return new l(a,b,e);var d=typeof a;if("base64"===b&&"string"===d)for(a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");0!==a.length%4;)a+="=";var c;if("number"===d)c=v(a);else if("string"===d)c=l.byteLength(a,b);else if("object"===d)c=v(a.length);else throw Error("First argument needs to be a number, array or string.");
var h;l._useTypedArrays?h=l._augment(new Uint8Array(c)):(h=this,h.length=c,h._isBuffer=!0);if(l._useTypedArrays&&"number"===typeof a.byteLength)h._set(a);else{var g=a;if(J(g)||l.isBuffer(g)||g&&"object"===typeof g&&"number"===typeof g.length)for(b=0;b<c;b++)l.isBuffer(a)?h[b]=a.readUInt8(b):h[b]=a[b];else if("string"===d)h.write(a,0,b);else if("number"===d&&!l._useTypedArrays&&!e)for(b=0;b<c;b++)h[b]=0}return h}function q(a,b,e){var d="";for(e=Math.min(a.length,e);b<e;b++)d+=String.fromCharCode(a[b]);
return d}function b(a,b,e,d){d||(w("boolean"===typeof e,"missing or invalid endian"),w(void 0!==b&&null!==b,"missing offset"),w(b+1<a.length,"Trying to read beyond buffer length"));d=a.length;if(!(b>=d))return e?(e=a[b],b+1<d&&(e|=a[b+1]<<8)):(e=a[b]<<8,b+1<d&&(e|=a[b+1])),e}function c(a,b,e,d){d||(w("boolean"===typeof e,"missing or invalid endian"),w(void 0!==b&&null!==b,"missing offset"),w(b+3<a.length,"Trying to read beyond buffer length"));d=a.length;if(!(b>=d)){var c;e?(b+2<d&&(c=a[b+2]<<16),
b+1<d&&(c|=a[b+1]<<8),c|=a[b],b+3<d&&(c+=a[b+3]<<24>>>0)):(b+1<d&&(c=a[b+1]<<16),b+2<d&&(c|=a[b+2]<<8),b+3<d&&(c|=a[b+3]),c+=a[b]<<24>>>0);return c}}function a(a,e,d,c){c||(w("boolean"===typeof d,"missing or invalid endian"),w(void 0!==e&&null!==e,"missing offset"),w(e+1<a.length,"Trying to read beyond buffer length"));if(!(e>=a.length))return a=b(a,e,d,!0),a&32768?-1*(65535-a+1):a}function e(a,b,e,d){d||(w("boolean"===typeof e,"missing or invalid endian"),w(void 0!==b&&null!==b,"missing offset"),
w(b+3<a.length,"Trying to read beyond buffer length"));if(!(b>=a.length))return a=c(a,b,e,!0),a&2147483648?-1*(4294967295-a+1):a}function g(a,b,e,d){d||(w("boolean"===typeof e,"missing or invalid endian"),w(b+3<a.length,"Trying to read beyond buffer length"));return P.read(a,b,e,23,4)}function h(a,b,e,d){d||(w("boolean"===typeof e,"missing or invalid endian"),w(b+7<a.length,"Trying to read beyond buffer length"));return P.read(a,b,e,52,8)}function d(a,b,e,d,c){c||(w(void 0!==b&&null!==b,"missing value"),
w("boolean"===typeof d,"missing or invalid endian"),w(void 0!==e&&null!==e,"missing offset"),w(e+1<a.length,"trying to write beyond buffer length"),u(b,65535));var h=a.length;if(!(e>=h))for(c=0,h=Math.min(h-e,2);c<h;c++)a[e+c]=(b&255<<8*(d?c:1-c))>>>8*(d?c:1-c)}function f(a,b,e,d,c){c||(w(void 0!==b&&null!==b,"missing value"),w("boolean"===typeof d,"missing or invalid endian"),w(void 0!==e&&null!==e,"missing offset"),w(e+3<a.length,"trying to write beyond buffer length"),u(b,4294967295));var h=a.length;
if(!(e>=h))for(c=0,h=Math.min(h-e,4);c<h;c++)a[e+c]=b>>>8*(d?c:3-c)&255}function m(a,b,e,c,h){h||(w(void 0!==b&&null!==b,"missing value"),w("boolean"===typeof c,"missing or invalid endian"),w(void 0!==e&&null!==e,"missing offset"),w(e+1<a.length,"Trying to write beyond buffer length"),x(b,32767,-32768));e>=a.length||(0<=b?d(a,b,e,c,h):d(a,65535+b+1,e,c,h))}function n(a,b,e,d,c){c||(w(void 0!==b&&null!==b,"missing value"),w("boolean"===typeof d,"missing or invalid endian"),w(void 0!==e&&null!==e,"missing offset"),
w(e+3<a.length,"Trying to write beyond buffer length"),x(b,2147483647,-2147483648));e>=a.length||(0<=b?f(a,b,e,d,c):f(a,4294967295+b+1,e,d,c))}function t(a,b,e,d,c){c||(w(void 0!==b&&null!==b,"missing value"),w("boolean"===typeof d,"missing or invalid endian"),w(void 0!==e&&null!==e,"missing offset"),w(e+3<a.length,"Trying to write beyond buffer length"),z(b,3.4028234663852886E38,-3.4028234663852886E38));e>=a.length||P.write(a,b,e,d,23,4)}function C(a,b,e,d,c){c||(w(void 0!==b&&null!==b,"missing value"),
w("boolean"===typeof d,"missing or invalid endian"),w(void 0!==e&&null!==e,"missing offset"),w(e+7<a.length,"Trying to write beyond buffer length"),z(b,1.7976931348623157E308,-1.7976931348623157E308));e>=a.length||P.write(a,b,e,d,52,8)}function A(a,b,e){if("number"!==typeof a)return e;a=~~a;if(a>=b)return b;if(0<=a)return a;a+=b;return 0<=a?a:0}function v(a){a=~~Math.ceil(+a);return 0>a?0:a}function J(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}
function D(a){return 16>a?"0"+a.toString(16):a.toString(16)}function G(a){for(var b=[],e=0;e<a.length;e++){var d=a.charCodeAt(e);if(127>=d)b.push(a.charCodeAt(e));else{var c=e;55296<=d&&57343>=d&&e++;d=encodeURIComponent(a.slice(c,e+1)).substr(1).split("%");for(c=0;c<d.length;c++)b.push(parseInt(d[c],16))}}return b}function K(a){for(var b=[],e=0;e<a.length;e++)b.push(a.charCodeAt(e)&255);return b}function T(a,b,e,d){for(var c=0;c<d&&!(c+e>=b.length||c>=a.length);c++)b[c+e]=a[c];return c}function s(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}
function u(a,b){w("number"===typeof a,"cannot write a non-number as a number");w(0<=a,"specified a negative value for writing an unsigned value");w(a<=b,"value is larger than maximum value for type");w(Math.floor(a)===a,"value has a fractional component")}function x(a,b,e){w("number"===typeof a,"cannot write a non-number as a number");w(a<=b,"value larger than maximum allowed value");w(a>=e,"value smaller than minimum allowed value");w(Math.floor(a)===a,"value has a fractional component")}function z(a,
b,e){w("number"===typeof a,"cannot write a non-number as a number");w(a<=b,"value larger than maximum allowed value");w(a>=e,"value smaller than minimum allowed value")}function w(a,b){if(!a)throw Error(b||"Failed assertion");}var M=r("base64-js"),P=r("ieee754");y.Buffer=l;y.SlowBuffer=l;y.INSPECT_MAX_BYTES=50;l.poolSize=8192;l._useTypedArrays=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);b.foo=function(){return 42};return 42===b.foo()&&"function"===typeof b.subarray}catch(e){return!1}}();
l.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};l.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)};l.byteLength=function(a,b){var e;a+="";switch(b||"utf8"){case "hex":e=a.length/2;break;case "utf8":case "utf-8":e=G(a).length;break;case "ascii":case "binary":case "raw":e=a.length;break;case "base64":e=M.toByteArray(a).length;
break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=2*a.length;break;default:throw Error("Unknown encoding");}return e};l.concat=function(a,b){w(J(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");if(0===a.length)return new l(0);if(1===a.length)return a[0];var e;if("number"!==typeof b)for(e=b=0;e<a.length;e++)b+=a[e].length;var d=new l(b),c=0;for(e=0;e<a.length;e++){var h=a[e];h.copy(d,c);c+=h.length}return d};l.prototype.write=function(a,b,e,d){if(isFinite(b))isFinite(e)||
(d=e,e=void 0);else{var c=d;d=b;b=e;e=c}b=Number(b)||0;c=this.length-b;e?(e=Number(e),e>c&&(e=c)):e=c;d=String(d||"utf8").toLowerCase();switch(d){case "hex":b=Number(b)||0;d=this.length-b;e?(e=Number(e),e>d&&(e=d)):e=d;d=a.length;w(0===d%2,"Invalid hex string");e>d/2&&(e=d/2);for(d=0;d<e;d++)c=parseInt(a.substr(2*d,2),16),w(!isNaN(c),"Invalid hex string"),this[b+d]=c;l._charsWritten=2*d;a=d;break;case "utf8":case "utf-8":a=l._charsWritten=T(G(a),this,b,e);break;case "ascii":a=l._charsWritten=T(K(a),
this,b,e);break;case "binary":a=l._charsWritten=T(K(a),this,b,e);break;case "base64":a=l._charsWritten=T(M.toByteArray(a),this,b,e);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var h,c=[],g=0;g<a.length;g++)h=a.charCodeAt(g),d=h>>8,h%=256,c.push(h),c.push(d);a=l._charsWritten=T(c,this,b,e);break;default:throw Error("Unknown encoding");}return a};l.prototype.toString=function(a,b,e){a=String(a||"utf8").toLowerCase();b=Number(b)||0;e=void 0!==e?Number(e):e=this.length;if(e===b)return"";
switch(a){case "hex":a=b;b=this.length;if(!a||0>a)a=0;if(!e||0>e||e>b)e=b;for(b="";a<e;a++)b+=D(this[a]);e=b;break;case "utf8":case "utf-8":var d=b;b=a="";for(e=Math.min(this.length,e);d<e;d++)127>=this[d]?(a+=s(b)+String.fromCharCode(this[d]),b=""):b+="%"+this[d].toString(16);e=a+s(b);break;case "ascii":e=q(this,b,e);break;case "binary":e=q(this,b,e);break;case "base64":a=b;e=0===a&&e===this.length?M.fromByteArray(this):M.fromByteArray(this.slice(a,e));break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=
this.slice(b,e);a="";for(b=0;b<e.length;b+=2)a+=String.fromCharCode(e[b]+256*e[b+1]);e=a;break;default:throw Error("Unknown encoding");}return e};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};l.prototype.copy=function(a,b,e,d){e||(e=0);d||0===d||(d=this.length);b||(b=0);if(d!==e&&0!==a.length&&0!==this.length)if(w(d>=e,"sourceEnd < sourceStart"),w(0<=b&&b<a.length,"targetStart out of bounds"),w(0<=e&&e<this.length,"sourceStart out of bounds"),
w(0<=d&&d<=this.length,"sourceEnd out of bounds"),d>this.length&&(d=this.length),a.length-b<d-e&&(d=a.length-b+e),d-=e,100>d||!l._useTypedArrays)for(var c=0;c<d;c++)a[c+b]=this[c+e];else a._set(this.subarray(e,e+d),b)};l.prototype.slice=function(a,b){var e=this.length;a=A(a,e,0);b=A(b,e,e);if(l._useTypedArrays)return l._augment(this.subarray(a,b));for(var e=b-a,d=new l(e,void 0,!0),c=0;c<e;c++)d[c]=this[c+a];return d};l.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");
return this.readUInt8(a)};l.prototype.set=function(a,b){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(a,b)};l.prototype.readUInt8=function(a,b){b||(w(void 0!==a&&null!==a,"missing offset"),w(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]};l.prototype.readUInt16LE=function(a,e){return b(this,a,!0,e)};l.prototype.readUInt16BE=function(a,e){return b(this,a,!1,e)};l.prototype.readUInt32LE=function(a,b){return c(this,
a,!0,b)};l.prototype.readUInt32BE=function(a,b){return c(this,a,!1,b)};l.prototype.readInt8=function(a,b){b||(w(void 0!==a&&null!==a,"missing offset"),w(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]&128?-1*(255-this[a]+1):this[a]};l.prototype.readInt16LE=function(b,e){return a(this,b,!0,e)};l.prototype.readInt16BE=function(b,e){return a(this,b,!1,e)};l.prototype.readInt32LE=function(a,b){return e(this,a,!0,b)};l.prototype.readInt32BE=function(a,b){return e(this,
a,!1,b)};l.prototype.readFloatLE=function(a,b){return g(this,a,!0,b)};l.prototype.readFloatBE=function(a,b){return g(this,a,!1,b)};l.prototype.readDoubleLE=function(a,b){return h(this,a,!0,b)};l.prototype.readDoubleBE=function(a,b){return h(this,a,!1,b)};l.prototype.writeUInt8=function(a,b,e){e||(w(void 0!==a&&null!==a,"missing value"),w(void 0!==b&&null!==b,"missing offset"),w(b<this.length,"trying to write beyond buffer length"),u(a,255));b>=this.length||(this[b]=a)};l.prototype.writeUInt16LE=function(a,
b,e){d(this,a,b,!0,e)};l.prototype.writeUInt16BE=function(a,b,e){d(this,a,b,!1,e)};l.prototype.writeUInt32LE=function(a,b,e){f(this,a,b,!0,e)};l.prototype.writeUInt32BE=function(a,b,e){f(this,a,b,!1,e)};l.prototype.writeInt8=function(a,b,e){e||(w(void 0!==a&&null!==a,"missing value"),w(void 0!==b&&null!==b,"missing offset"),w(b<this.length,"Trying to write beyond buffer length"),x(a,127,-128));b>=this.length||(0<=a?this.writeUInt8(a,b,e):this.writeUInt8(255+a+1,b,e))};l.prototype.writeInt16LE=function(a,
b,e){m(this,a,b,!0,e)};l.prototype.writeInt16BE=function(a,b,e){m(this,a,b,!1,e)};l.prototype.writeInt32LE=function(a,b,e){n(this,a,b,!0,e)};l.prototype.writeInt32BE=function(a,b,e){n(this,a,b,!1,e)};l.prototype.writeFloatLE=function(a,b,e){t(this,a,b,!0,e)};l.prototype.writeFloatBE=function(a,b,e){t(this,a,b,!1,e)};l.prototype.writeDoubleLE=function(a,b,e){C(this,a,b,!0,e)};l.prototype.writeDoubleBE=function(a,b,e){C(this,a,b,!1,e)};l.prototype.fill=function(a,b,e){a||(a=0);b||(b=0);e||(e=this.length);
"string"===typeof a&&(a=a.charCodeAt(0));w("number"===typeof a&&!isNaN(a),"value is not a number");w(e>=b,"end < start");if(e!==b&&0!==this.length)for(w(0<=b&&b<this.length,"start out of bounds"),w(0<=e&&e<=this.length,"end out of bounds");b<e;b++)this[b]=a};l.prototype.inspect=function(){for(var a=[],b=this.length,e=0;e<b;e++)if(a[e]=D(this[e]),e===y.INSPECT_MAX_BYTES){a[e+1]="...";break}return"<Buffer "+a.join(" ")+">"};l.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(l._useTypedArrays)return(new l(this)).buffer;
for(var a=new Uint8Array(this.length),b=0,e=a.length;b<e;b+=1)a[b]=this[b];return a.buffer}throw Error("Buffer.toArrayBuffer not supported in this browser");};var F=l.prototype;l._augment=function(a){a._isBuffer=!0;a._get=a.get;a._set=a.set;a.get=F.get;a.set=F.set;a.write=F.write;a.toString=F.toString;a.toLocaleString=F.toString;a.toJSON=F.toJSON;a.copy=F.copy;a.slice=F.slice;a.readUInt8=F.readUInt8;a.readUInt16LE=F.readUInt16LE;a.readUInt16BE=F.readUInt16BE;a.readUInt32LE=F.readUInt32LE;a.readUInt32BE=
F.readUInt32BE;a.readInt8=F.readInt8;a.readInt16LE=F.readInt16LE;a.readInt16BE=F.readInt16BE;a.readInt32LE=F.readInt32LE;a.readInt32BE=F.readInt32BE;a.readFloatLE=F.readFloatLE;a.readFloatBE=F.readFloatBE;a.readDoubleLE=F.readDoubleLE;a.readDoubleBE=F.readDoubleBE;a.writeUInt8=F.writeUInt8;a.writeUInt16LE=F.writeUInt16LE;a.writeUInt16BE=F.writeUInt16BE;a.writeUInt32LE=F.writeUInt32LE;a.writeUInt32BE=F.writeUInt32BE;a.writeInt8=F.writeInt8;a.writeInt16LE=F.writeInt16LE;a.writeInt16BE=F.writeInt16BE;
a.writeInt32LE=F.writeInt32LE;a.writeInt32BE=F.writeInt32BE;a.writeFloatLE=F.writeFloatLE;a.writeFloatBE=F.writeFloatBE;a.writeDoubleLE=F.writeDoubleLE;a.writeDoubleBE=F.writeDoubleBE;a.fill=F.fill;a.inspect=F.inspect;a.toArrayBuffer=F.toArrayBuffer;return a}},{"base64-js":3,ieee754:4}],3:[function(r,B,y){(function(l){function q(b){b=b.charCodeAt(0);if(b===c||b===d)return 62;if(b===a||b===f)return 63;if(b<e)return-1;if(b<e+10)return b-e+52;if(b<h+26)return b-h;if(b<g+26)return b-g+26}var b="undefined"!==
typeof Uint8Array?Uint8Array:Array,c=43,a=47,e=48,g=97,h=65,d=45,f=95;l.toByteArray=function(a){function e(a){f[D++]=a}var d,c,h,g,f;if(0<a.length%4)throw Error("Invalid string. Length must be a multiple of 4");d=a.length;g="="===a.charAt(d-2)?2:"="===a.charAt(d-1)?1:0;f=new b(3*a.length/4-g);c=0<g?a.length-4:a.length;var D=0;for(d=0;d<c;d+=4)h=q(a.charAt(d))<<18|q(a.charAt(d+1))<<12|q(a.charAt(d+2))<<6|q(a.charAt(d+3)),e((h&16711680)>>16),e((h&65280)>>8),e(h&255);2===g?(h=q(a.charAt(d))<<2|q(a.charAt(d+
1))>>4,e(h&255)):1===g&&(h=q(a.charAt(d))<<10|q(a.charAt(d+1))<<4|q(a.charAt(d+2))>>2,e(h>>8&255),e(h&255));return f};l.fromByteArray=function(a){var b,e=a.length%3,d="",c,h;b=0;for(h=a.length-e;b<h;b+=3)c=(a[b]<<16)+(a[b+1]<<8)+a[b+2],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c&
63),d+=c;switch(e){case 1:c=a[a.length-1];d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>2);d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c<<4&63);d+="==";break;case 2:c=(a[a.length-2]<<8)+a[a.length-1],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>10),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>4&63),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c<<
2&63),d+="="}return d}})("undefined"===typeof y?this.base64js={}:y)},{}],4:[function(r,B,y){y.read=function(l,q,b,c,a){var e;e=8*a-c-1;var g=(1<<e)-1,h=g>>1,d=-7;a=b?a-1:0;var f=b?-1:1,m=l[q+a];a+=f;b=m&(1<<-d)-1;m>>=-d;for(d+=e;0<d;b=256*b+l[q+a],a+=f,d-=8);e=b&(1<<-d)-1;b>>=-d;for(d+=c;0<d;e=256*e+l[q+a],a+=f,d-=8);if(0===b)b=1-h;else{if(b===g)return e?NaN:Infinity*(m?-1:1);e+=Math.pow(2,c);b-=h}return(m?-1:1)*e*Math.pow(2,b-c)};y.write=function(l,q,b,c,a,e){var g,h=8*e-a-1,d=(1<<h)-1,f=d>>1,m=
23===a?Math.pow(2,-24)-Math.pow(2,-77):0;e=c?0:e-1;var n=c?1:-1,t=0>q||0===q&&0>1/q?1:0;q=Math.abs(q);isNaN(q)||Infinity===q?(q=isNaN(q)?1:0,c=d):(c=Math.floor(Math.log(q)/Math.LN2),1>q*(g=Math.pow(2,-c))&&(c--,g*=2),q=1<=c+f?q+m/g:q+m*Math.pow(2,1-f),2<=q*g&&(c++,g/=2),c+f>=d?(q=0,c=d):1<=c+f?(q=(q*g-1)*Math.pow(2,a),c+=f):(q=q*Math.pow(2,f-1)*Math.pow(2,a),c=0));for(;8<=a;l[b+e]=q&255,e+=n,q/=256,a-=8);c=c<<a|q;for(h+=a;0<h;l[b+e]=c&255,e+=n,c/=256,h-=8);l[b+e-n]|=128*t}},{}],5:[function(r,B,y){function l(){this._events=
this._events||{};this._maxListeners=this._maxListeners||void 0}function q(b){return"function"===typeof b}function b(b){return"object"===typeof b&&null!==b}B.exports=l;l.EventEmitter=l;l.prototype._events=void 0;l.prototype._maxListeners=void 0;l.defaultMaxListeners=10;l.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};l.prototype.emit=function(c){var a,e,g,h;this._events||(this._events={});
if("error"===c&&(!this._events.error||b(this._events.error)&&!this._events.error.length)){a=arguments[1];if(a instanceof Error)throw a;throw TypeError('Uncaught, unspecified "error" event.');}e=this._events[c];if(void 0===e)return!1;if(q(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:a=arguments.length;g=Array(a-1);for(h=1;h<a;h++)g[h-1]=arguments[h];e.apply(this,g)}else if(b(e)){a=arguments.length;
g=Array(a-1);for(h=1;h<a;h++)g[h-1]=arguments[h];e=e.slice();a=e.length;for(h=0;h<a;h++)e[h].apply(this,g)}return!0};l.prototype.addListener=function(c,a){var e;if(!q(a))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,q(a.listener)?a.listener:a);this._events[c]?b(this._events[c])?this._events[c].push(a):this._events[c]=[this._events[c],a]:this._events[c]=a;b(this._events[c])&&!this._events[c].warned&&(e=void 0!==this._maxListeners?
this._maxListeners:l.defaultMaxListeners)&&0<e&&this._events[c].length>e&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),"function"===typeof console.trace&&console.trace());return this};l.prototype.on=l.prototype.addListener;l.prototype.once=function(b,a){function e(){this.removeListener(b,e);g||(g=!0,a.apply(this,arguments))}if(!q(a))throw TypeError("listener must be a function");
var g=!1;e.listener=a;this.on(b,e);return this};l.prototype.removeListener=function(c,a){var e,g,h;if(!q(a))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;e=this._events[c];h=e.length;g=-1;if(e===a||q(e.listener)&&e.listener===a)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,a);else if(b(e)){for(;0<h--;)if(e[h]===a||e[h].listener&&e[h].listener===a){g=h;break}if(0>g)return this;1===e.length?(e.length=0,delete this._events[c]):
e.splice(g,1);this._events.removeListener&&this.emit("removeListener",c,a)}return this};l.prototype.removeAllListeners=function(b){var a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[b]&&delete this._events[b],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}a=this._events[b];if(q(a))this.removeListener(b,
a);else for(;a.length;)this.removeListener(b,a[a.length-1]);delete this._events[b];return this};l.prototype.listeners=function(b){return this._events&&this._events[b]?q(this._events[b])?[this._events[b]]:this._events[b].slice():[]};l.listenerCount=function(b,a){return b._events&&b._events[a]?q(b._events[a])?1:b._events[a].length:0}},{}],6:[function(r,B,y){var l=B.exports;r("events");var q=r("./lib/request"),b=r("url");l.request=function(a,e){"string"===typeof a&&(a=b.parse(a));a||(a={});a.host||a.port||
(a.port=parseInt(window.location.port,10));!a.host&&a.hostname&&(a.host=a.hostname);a.scheme||(a.scheme=window.location.protocol.split(":")[0]);a.host||(a.host=window.location.hostname||window.location.host);/:/.test(a.host)&&(a.port||(a.port=a.host.split(":")[1]),a.host=a.host.split(":")[0]);a.port||(a.port="https"==a.scheme?443:80);var g=new q(new c,a);if(e)g.on("response",e);return g};l.get=function(a,b){a.method="GET";var c=l.request(a,b);c.end();return c};l.Agent=function(){};l.Agent.defaultMaxSockets=
4;var c=function(){if("undefined"===typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject)for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],b=0;b<a.length;b++)try{var c=new window.ActiveXObject(a[b]);return function(){if(c){var d=c;c=null;return d}return new window.ActiveXObject(a[b])}}catch(h){}throw Error("ajax not supported in this browser");}();l.STATUS_CODES={100:"Continue",101:"Switching Protocols",
102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",
409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",
503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":7,events:5,url:28}],7:[function(r,B,y){y=r("stream");var l=r("./response"),q=r("Base64");r=r("inherits");var b=B.exports=function(a,b){var h=this;h.writable=!0;h.xhr=a;h.body=[];h.uri=(b.scheme||"http")+"://"+b.host+(b.port?":"+b.port:"")+(b.path||"/");"undefined"===
typeof b.withCredentials&&(b.withCredentials=!0);try{a.withCredentials=b.withCredentials}catch(d){}a.open(b.method||"GET",h.uri,!0);h._headers={};if(b.headers)for(var f=c(b.headers),m=0;m<f.length;m++){var n=f[m];h.isSafeRequestHeader(n)&&h.setHeader(n,b.headers[n])}b.auth&&this.setHeader("Authorization","Basic "+q.btoa(b.auth));var t=new l;t.on("close",function(){h.emit("close")});t.on("ready",function(){h.emit("response",t)});a.onreadystatechange=function(){a.__aborted||t.handle(a)}};r(b,y);b.prototype.setHeader=
function(a,b){this._headers[a.toLowerCase()]=b};b.prototype.getHeader=function(a){return this._headers[a.toLowerCase()]};b.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]};b.prototype.write=function(a){this.body.push(a)};b.prototype.destroy=function(a){this.xhr.__aborted=!0;this.xhr.abort();this.emit("close")};b.prototype.end=function(b){void 0!==b&&this.body.push(b);var g=c(this._headers);for(b=0;b<g.length;b++){var h=g[b],d=this._headers[h];if(a(d))for(var f=0;f<d.length;f++)this.xhr.setRequestHeader(h,
d[f]);else this.xhr.setRequestHeader(h,d)}if(0===this.body.length)this.xhr.send("");else if("string"===typeof this.body[0])this.xhr.send(this.body.join(""));else{if(a(this.body[0]))for(g=[],b=0;b<this.body.length;b++)g.push.apply(g,this.body[b]);else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(b=f=0;b<this.body.length;b++)f+=this.body[b].length;g=new this.body[0].constructor(f);for(b=h=0;b<this.body.length;b++)for(d=this.body[b],f=0;f<d.length;f++)g[h++]=d[f]}else for(g="",
b=0;b<this.body.length;b++)g+=this.body[b].toString();this.xhr.send(g)}};b.unsafeHeaders="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 content-transfer-encoding date expect host keep-alive origin referer te trailer transfer-encoding upgrade user-agent via".split(" ");b.prototype.isSafeRequestHeader=function(a){if(!a)return!1;var c;a:if(c=b.unsafeHeaders,a=a.toLowerCase(),c.indexOf)c=c.indexOf(a);else{for(var h=
0;h<c.length;h++)if(c[h]===a){c=h;break a}c=-1}return-1===c};var c=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b},a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{"./response":8,Base64:9,inherits:11,stream:19}],8:[function(r,B,y){function l(a){a=a.getAllResponseHeaders().split(/\r?\n/);for(var b={},g=0;g<a.length;g++){var h=a[g];if(""!==h){var d=h.match(/^([^:]+):\s*(.*)/);d?(h=d[1].toLowerCase(),d=d[2],void 0!==b[h]?c(b[h])?b[h].push(d):
b[h]=[b[h],d]:b[h]=d):b[h]=!0}}return b}y=r("stream");r=r("util");B=B.exports=function(a){this.offset=0;this.readable=!0};r.inherits(B,y);var q=!0,b=!0;B.prototype.getResponse=function(a){var b=String(a.responseType).toLowerCase();return"blob"===b?a.responseBlob||a.response:"arraybuffer"===b?a.response:a.responseText};B.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]};B.prototype.handle=function(a){if(2===a.readyState&&b){try{this.statusCode=a.status,this.headers=l(a)}catch(e){b=
!1}b&&this.emit("ready")}else if(q&&3===a.readyState){try{this.statusCode||(this.statusCode=a.status,this.headers=l(a),this.emit("ready"))}catch(c){}try{this._emitData(a)}catch(h){q=!1}}else 4===a.readyState&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))};B.prototype._emitData=function(a){a=this.getResponse(a);a.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(a,
this.offset)),this.offset=a.byteLength):a.length>this.offset&&(this.emit("data",a.slice(this.offset)),this.offset=a.length)};var c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{stream:19,util:30}],9:[function(r,B,y){(function(){function l(b){this.message=b}var q="undefined"!=typeof y?y:this;l.prototype=Error();l.prototype.name="InvalidCharacterError";q.btoa||(q.btoa=function(b){for(var c,a,e=0,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
h="";b.charAt(e|0)||(g="=",e%1);h+=g.charAt(63&c>>8-e%1*8)){a=b.charCodeAt(e+=0.75);if(255<a)throw new l("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|a}return h});q.atob||(q.atob=function(b){b=b.replace(/=+$/,"");if(1==b.length%4)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var c=0,a,e,g=0,h="";e=b.charAt(g++);~e&&(a=c%4?64*a+e:e,c++%4)?h+=String.fromCharCode(255&a>>(-2*c&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);
return h})})()},{}],10:[function(r,B,y){var l=r("http");r=B.exports;for(var q in l)l.hasOwnProperty(q)&&(r[q]=l[q]);r.request=function(b,c){b||(b={});b.scheme="https";return l.request.call(this,b,c)}},{http:6}],11:[function(r,B,y){B.exports="function"===typeof Object.create?function(l,q){l.super_=q;l.prototype=Object.create(q.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:function(l,q){l.super_=q;var b=function(){};b.prototype=q.prototype;l.prototype=new b;l.prototype.constructor=
l}},{}],12:[function(r,B,y){(function(l){function q(a,b){for(var c=0,d=a.length-1;0<=d;d--){var f=a[d];"."===f?a.splice(d,1):".."===f?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function b(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;y.resolve=function(){for(var a="",c=!1,h=arguments.length-1;-1<=h&&!c;h--){var d=0<=h?arguments[h]:
l.cwd();if("string"!==typeof d)throw new TypeError("Arguments to path.resolve must be strings");d&&(a=d+"/"+a,c="/"===d.charAt(0))}a=q(b(a.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+a||"."};y.normalize=function(e){var c=y.isAbsolute(e),h="/"===a(e,-1);(e=q(b(e.split("/"),function(a){return!!a}),!c).join("/"))||c||(e=".");e&&h&&(e+="/");return(c?"/":"")+e};y.isAbsolute=function(a){return"/"===a.charAt(0)};y.join=function(){var a=Array.prototype.slice.call(arguments,0);return y.normalize(b(a,
function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};y.relative=function(a,b){function c(a){for(var b=0;b<a.length&&""===a[b];b++);for(var e=a.length-1;0<=e&&""===a[e];e--);return b>e?[]:a.slice(b,e-b+1)}a=y.resolve(a).substr(1);b=y.resolve(b).substr(1);for(var d=c(a.split("/")),f=c(b.split("/")),m=Math.min(d.length,f.length),n=m,t=0;t<m;t++)if(d[t]!==f[t]){n=t;break}m=[];for(t=n;t<d.length;t++)m.push("..");m=m.concat(f.slice(n));
return m.join("/")};y.sep="/";y.delimiter=":";y.dirname=function(a){var b=c.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};y.basename=function(a,b){var h=c.exec(a).slice(1)[2];b&&h.substr(-1*b.length)===b&&(h=h.substr(0,h.length-b.length));return h};y.extname=function(a){return c.exec(a).slice(1)[3]};var a="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){0>b&&(b=a.length+b);return a.substr(b,c)}}).call(this,r("1YiZ5S"))},{"1YiZ5S":13}],
13:[function(r,B,y){function l(){}r=B.exports={};r.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(b){return window.setImmediate(b)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var l=[];window.addEventListener("message",function(b){var c=b.source;c!==window&&null!==c||"process-tick"!==b.data||(b.stopPropagation(),0<l.length&&l.shift()())},!0);return function(b){l.push(b);window.postMessage("process-tick","*")}}return function(b){setTimeout(b,
0)}}();r.title="browser";r.browser=!0;r.env={};r.argv=[];r.on=l;r.addListener=l;r.once=l;r.off=l;r.removeListener=l;r.removeAllListeners=l;r.emit=l;r.binding=function(l){throw Error("process.binding is not supported");};r.cwd=function(){return"/"};r.chdir=function(l){throw Error("process.chdir is not supported");}},{}],14:[function(r,B,y){(function(l){(function(q){function b(a){throw RangeError(r[a]);}function c(a,b){for(var e=a.length;e--;)a[e]=b(a[e]);return a}function a(a,b){return c(a.split(w),
b).join(".")}function e(a){for(var b=[],e=0,d=a.length,c,h;e<d;)c=a.charCodeAt(e++),55296<=c&&56319>=c&&e<d?(h=a.charCodeAt(e++),56320==(h&64512)?b.push(((c&1023)<<10)+(h&1023)+65536):(b.push(c),e--)):b.push(c);return b}function g(a){return c(a,function(a){var b="";65535<a&&(a-=65536,b+=ba(a>>>10&1023|55296),a=56320|a&1023);return b+=ba(a)}).join("")}function h(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function d(a,b,e){var d=0;a=e?F(a/K):a>>1;for(a+=F(a/b);a>P*D>>1;d+=v)a=F(a/P);return F(d+(P+1)*a/
(a+G))}function f(a){var e=[],c=a.length,h,f=0,n=s,x=T,m,t,w,z,l;m=a.lastIndexOf(u);0>m&&(m=0);for(t=0;t<m;++t)128<=a.charCodeAt(t)&&b("not-basic"),e.push(a.charCodeAt(t));for(m=0<m?m+1:0;m<c;){t=f;h=1;for(w=v;;w+=v){m>=c&&b("invalid-input");z=a.charCodeAt(m++);z=10>z-48?z-22:26>z-65?z-65:26>z-97?z-97:v;(z>=v||z>F((A-f)/h))&&b("overflow");f+=z*h;l=w<=x?J:w>=x+D?D:w-x;if(z<l)break;z=v-l;h>F(A/z)&&b("overflow");h*=z}h=e.length+1;x=d(f-t,h,0==t);F(f/h)>A-n&&b("overflow");n+=F(f/h);f%=h;e.splice(f++,
0,n)}return g(e)}function m(a){var c,g,f,n,x,m,t,w,z,l=[],G,C,q;a=e(a);G=a.length;c=s;g=0;x=T;for(m=0;m<G;++m)z=a[m],128>z&&l.push(ba(z));for((f=n=l.length)&&l.push(u);f<G;){t=A;for(m=0;m<G;++m)z=a[m],z>=c&&z<t&&(t=z);C=f+1;t-c>F((A-g)/C)&&b("overflow");g+=(t-c)*C;c=t;for(m=0;m<G;++m)if(z=a[m],z<c&&++g>A&&b("overflow"),z==c){w=g;for(t=v;;t+=v){z=t<=x?J:t>=x+D?D:t-x;if(w<z)break;q=w-z;w=v-z;l.push(ba(h(z+q%w,0)));w=F(q/w)}l.push(ba(h(w,0)));x=d(g,C,f==n);g=0;++f}++g;++c}return l.join("")}var n="object"==
typeof y&&y,t="object"==typeof B&&B&&B.exports==n&&B,C="object"==typeof l&&l;if(C.global===C||C.window===C)q=C;var A=2147483647,v=36,J=1,D=26,G=38,K=700,T=72,s=128,u="-",x=/^xn--/,z=/[^ -~]/,w=/\x2E|\u3002|\uFF0E|\uFF61/g,r={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=v-J,F=Math.floor,ba=String.fromCharCode,R,C={version:"1.2.4",ucs2:{decode:e,encode:g},decode:f,encode:m,toASCII:function(b){return a(b,
function(a){return z.test(a)?"xn--"+m(a):a})},toUnicode:function(b){return a(b,function(a){return x.test(a)?f(a.slice(4).toLowerCase()):a})}};if(n&&!n.nodeType)if(t)t.exports=C;else for(R in C)C.hasOwnProperty(R)&&(n[R]=C[R]);else q.punycode=C})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],15:[function(r,B,y){B.exports=function(q,b,c,a){c=c||"=";var e={};if("string"!==typeof q||0===q.length)return e;var g=/\+/g;q=q.split(b||"&");b=1E3;a&&"number"===
typeof a.maxKeys&&(b=a.maxKeys);a=q.length;0<b&&a>b&&(a=b);for(b=0;b<a;++b){var h=q[b].replace(g,"%20"),d=h.indexOf(c),f;0<=d?(f=h.substr(0,d),h=h.substr(d+1)):(f=h,h="");f=decodeURIComponent(f);h=decodeURIComponent(h);Object.prototype.hasOwnProperty.call(e,f)?l(e[f])?e[f].push(h):e[f]=[e[f],h]:e[f]=h}return e};var l=Array.isArray||function(l){return"[object Array]"===Object.prototype.toString.call(l)}},{}],16:[function(r,B,y){function l(a,b){if(a.map)return a.map(b);for(var c=[],h=0;h<a.length;h++)c.push(b(a[h],
h));return c}var q=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};B.exports=function(a,e,g,h){e=e||"&";g=g||"=";null===a&&(a=void 0);return"object"===typeof a?l(c(a),function(d){var c=encodeURIComponent(q(d))+g;return b(a[d])?a[d].map(function(a){return c+encodeURIComponent(q(a))}).join(e):c+encodeURIComponent(q(a[d]))}).join(e):h?encodeURIComponent(q(h))+g+encodeURIComponent(q(a)):""};var b=Array.isArray||
function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=Object.keys||function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],17:[function(r,B,y){y.decode=y.parse=r("./decode");y.encode=y.stringify=r("./encode")},{"./decode":15,"./encode":16}],18:[function(r,B,y){function l(b){if(!(this instanceof l))return new l(b);c.call(this,b);a.call(this,b);b&&!1===b.readable&&(this.readable=!1);b&&!1===b.writable&&(this.writable=!1);this.allowHalfOpen=
!0;b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",q)}function q(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;b(function(){a.end()})}}B.exports=l;B=r("inherits");var b=r("process/browser.js").nextTick,c=r("./readable.js"),a=r("./writable.js");B(l,c);l.prototype.write=a.prototype.write;l.prototype.end=a.prototype.end;l.prototype._write=a.prototype._write},{"./readable.js":22,"./writable.js":24,inherits:11,"process/browser.js":20}],19:[function(r,B,y){function l(){q.call(this)}
B.exports=l;var q=r("events").EventEmitter;r("inherits")(l,q);l.Readable=r("./readable.js");l.Writable=r("./writable.js");l.Duplex=r("./duplex.js");l.Transform=r("./transform.js");l.PassThrough=r("./passthrough.js");l.Stream=l;l.prototype.pipe=function(b,c){function a(a){b.writable&&!1===b.write(a)&&m.pause&&m.pause()}function e(){m.readable&&m.resume&&m.resume()}function g(){n||(n=!0,b.end())}function h(){n||(n=!0,"function"===typeof b.destroy&&b.destroy())}function d(a){f();if(0===q.listenerCount(this,
"error"))throw a;}function f(){m.removeListener("data",a);b.removeListener("drain",e);m.removeListener("end",g);m.removeListener("close",h);m.removeListener("error",d);b.removeListener("error",d);m.removeListener("end",f);m.removeListener("close",f);b.removeListener("close",f)}var m=this;m.on("data",a);b.on("drain",e);b._isStdio||c&&!1===c.end||(m.on("end",g),m.on("close",h));var n=!1;m.on("error",d);b.on("error",d);m.on("end",f);m.on("close",f);b.on("close",f);b.emit("pipe",m);return b}},{"./duplex.js":18,
"./passthrough.js":21,"./readable.js":22,"./transform.js":23,"./writable.js":24,events:5,inherits:11}],20:[function(r,B,y){r=B.exports={};r.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(l){return window.setImmediate(l)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var l=[];window.addEventListener("message",function(q){var b=q.source;b!==window&&null!==b||"process-tick"!==q.data||(q.stopPropagation(),0<l.length&&l.shift()())},
!0);return function(q){l.push(q);window.postMessage("process-tick","*")}}return function(l){setTimeout(l,0)}}();r.title="browser";r.browser=!0;r.env={};r.argv=[];r.binding=function(l){throw Error("process.binding is not supported");};r.cwd=function(){return"/"};r.chdir=function(l){throw Error("process.chdir is not supported");}},{}],21:[function(r,B,y){function l(b){if(!(this instanceof l))return new l(b);q.call(this,b)}B.exports=l;var q=r("./transform.js");r("inherits")(l,q);l.prototype._transform=
function(b,c,a){a(null,b)}},{"./transform.js":23,inherits:11}],22:[function(r,B,y){(function(l){function q(a,b){a=a||{};var e=a.highWaterMark;this.highWaterMark=e||0===e?e:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=!1;this.sync=!0;this.readableListening=this.emittedReadable=this.needReadable=!1;this.objectMode=!!a.objectMode;this.defaultEncoding=a.defaultEncoding||
"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(G||(G=r("string_decoder").StringDecoder),this.decoder=new G(a.encoding),this.encoding=a.encoding)}function b(a){if(!(this instanceof b))return new b(a);this._readableState=new q(a,this);this.readable=!0;v.call(this)}function c(a,b,d,c,h){var f;f=d;var n=null;J.isBuffer(f)||"string"===typeof f||null===f||void 0===f||b.objectMode||n||(n=new TypeError("Invalid non-string/buffer chunk"));(f=n)?a.emit("error",
f):null===d||void 0===d?(b.reading=!1,b.ended||(b.decoder&&!b.ended&&(d=b.decoder.end())&&d.length&&(b.buffer.push(d),b.length+=b.objectMode?1:d.length),b.ended=!0,0<b.length?e(a):t(a))):b.objectMode||d&&0<d.length?b.ended&&!h?(d=Error("stream.push() after EOF"),a.emit("error",d)):b.endEmitted&&h?(d=Error("stream.unshift() after end event"),a.emit("error",d)):(!b.decoder||h||c||(d=b.decoder.write(d)),b.length+=b.objectMode?1:d.length,h?b.buffer.unshift(d):(b.reading=!1,b.buffer.push(d)),b.needReadable&&
e(a),g(a,b)):h||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function a(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(isNaN(a)||null===a)return b.flowing&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var e=a;if(e>=K)e=K;else{e--;for(var d=1;32>d;d<<=1)e|=e>>d;e++}b.highWaterMark=e}if(a>b.length){if(b.ended)return b.length;b.needReadable=!0;return 0}return a}function e(a){var b=a._readableState;
b.needReadable=!1;b.emittedReadable||(b.emittedReadable=!0,b.sync?D(function(){a.emit("readable")}):a.emit("readable"))}function g(a,b){b.readingMore||(b.readingMore=!0,D(function(){for(var e=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),e!==b.length);)e=b.length;b.readingMore=!1}))}function h(a){return function(){var b=a._readableState;b.awaitDrain--;0===b.awaitDrain&&d(a)}}function d(a){function b(a,c,h){!1===a.write(d)&&e.awaitDrain++}var e=a._readableState,d;
for(e.awaitDrain=0;e.pipesCount&&null!==(d=a.read());)if(1===e.pipesCount?b(e.pipes,0,null):C(e.pipes,b),a.emit("data",d),0<e.awaitDrain)return;0===e.pipesCount?(e.flowing=!1,0<A.listenerCount(a,"data")&&m(a)):e.ranOut=!0}function f(){this._readableState.ranOut&&(this._readableState.ranOut=!1,d(this))}function m(a,b){if(a._readableState.flowing)throw Error("Cannot switch to old mode now.");var e=b||!1,d=!1;a.readable=!0;a.pipe=v.prototype.pipe;a.on=a.addListener=v.prototype.on;a.on("readable",function(){d=
!0;for(var b;!e&&null!==(b=a.read());)a.emit("data",b);null===b&&(d=!1,a._readableState.needReadable=!0)});a.pause=function(){e=!0;this.emit("pause")};a.resume=function(){e=!1;d?D(function(){a.emit("readable")}):this.read(0);this.emit("resume")};a.emit("readable")}function n(a,b){var e=b.buffer,d=b.length,c=!!b.decoder,h=!!b.objectMode;if(0===e.length)return null;if(0===d)d=null;else if(h)d=e.shift();else if(!a||a>=d)d=c?e.join(""):J.concat(e,d),e.length=0;else if(a<e[0].length)h=e[0],d=h.slice(0,
a),e[0]=h.slice(a);else if(a===e[0].length)d=e.shift();else for(var d=c?"":new J(a),g=0,f=0,n=e.length;f<n&&g<a;f++){var h=e[0],m=Math.min(a-g,h.length);c?d+=h.slice(0,m):h.copy(d,g,0,m);m<h.length?e[0]=h.slice(m):e.shift();g+=m}return d}function t(a){var b=a._readableState;if(0<b.length)throw Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,D(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function C(a,b){for(var e=0,
d=a.length;e<d;e++)b(a[e],e)}B.exports=b;b.ReadableState=q;var A=r("events").EventEmitter,v=r("./index.js"),J=r("buffer").Buffer,D=r("process/browser.js").nextTick,G;r("inherits")(b,v);b.prototype.push=function(a,b){var e=this._readableState;"string"!==typeof a||e.objectMode||(b=b||e.defaultEncoding,b!==e.encoding&&(a=new J(a,b),b=""));return c(this,e,a,b,!1)};b.prototype.unshift=function(a){return c(this,this._readableState,a,"",!0)};b.prototype.setEncoding=function(a){G||(G=r("string_decoder").StringDecoder);
this._readableState.decoder=new G(a);this._readableState.encoding=a};var K=8388608;b.prototype.read=function(b){var d=this._readableState;d.calledRead=!0;var c=b;if("number"!==typeof b||0<b)d.emittedReadable=!1;if(0===b&&d.needReadable&&(d.length>=d.highWaterMark||d.ended))return e(this),null;b=a(b,d);if(0===b&&d.ended)return 0===d.length&&t(this),null;var h=d.needReadable;d.length-b<=d.highWaterMark&&(h=!0);if(d.ended||d.reading)h=!1;h&&(d.reading=!0,d.sync=!0,0===d.length&&(d.needReadable=!0),this._read(d.highWaterMark),
d.sync=!1);h&&!d.reading&&(b=a(c,d));c=0<b?n(b,d):null;null===c&&(d.needReadable=!0,b=0);d.length-=b;0!==d.length||d.ended||(d.needReadable=!0);d.ended&&!d.endEmitted&&0===d.length&&t(this);return c};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function e(a){a===t&&g()}function c(){a.end()}function g(){a.removeListener("close",m);a.removeListener("finish",v);a.removeListener("drain",q);a.removeListener("error",n);a.removeListener("unpipe",
e);t.removeListener("end",c);t.removeListener("end",g);a._writableState&&!a._writableState.needDrain||q()}function n(b){t.unpipe(a);0===K&&0===A.listenerCount(a,"error")&&a.emit("error",b)}function m(){a.removeListener("finish",v);t.unpipe(a)}function v(){a.removeListener("close",m);t.unpipe(a)}var t=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=a;break;case 1:G.pipes=[G.pipes,a];break;default:G.pipes.push(a)}G.pipesCount+=1;var C=b&&!1===b.end||a===l.stdout||a===l.stderr?g:c;if(G.endEmitted)D(C);
else t.once("end",C);a.on("unpipe",e);var q=h(t);a.on("drain",q);var K=A.listenerCount(a,"error");a.once("error",n);a.once("close",m);a.once("finish",v);a.emit("pipe",t);G.flowing||(this.on("readable",f),G.flowing=!0,D(function(){d(t)}));return a};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;this.removeListener("readable",f);b.flowing=!1;a&&a.emit("unpipe",this);
return this}if(!a){a=b.pipes;var e=b.pipesCount;b.pipes=null;b.pipesCount=0;this.removeListener("readable",f);b.flowing=!1;for(var d=0;d<e;d++)a[d].emit("unpipe",this);return this}a:{for(var d=b.pipes,e=0,c=d.length;e<c;e++)if(d[e]===a){d=e;break a}d=-1}if(-1===d)return this;b.pipes.splice(d,1);b.pipesCount-=1;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var d=v.prototype.on.call(this,a,b);"data"!==a||this._readableState.flowing||m(this);if("readable"===
a&&this.readable){var c=this._readableState;c.readableListening||(c.readableListening=!0,c.emittedReadable=!1,c.needReadable=!0,c.reading?c.length&&e(this,c):this.read(0))}return d};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){m(this);this.read(0);this.emit("resume")};b.prototype.pause=function(){m(this,!0);this.emit("pause")};b.prototype.wrap=function(a){var b=this._readableState,e=!1,d=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&
d.push(a)}d.push(null)});a.on("data",function(c){b.decoder&&(c=b.decoder.write(c));c&&(b.objectMode||c.length)&&!d.push(c)&&(e=!0,a.pause())});for(var c in a)"function"===typeof a[c]&&"undefined"===typeof this[c]&&(this[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c));C(["error","close","destroy","pause","resume"],function(b){a.on(b,function(a){return d.emit.apply(d,b,a)})});d._read=function(b){e&&(e=!1,a.resume())};return d};b._fromList=n}).call(this,r("1YiZ5S"))},{"./index.js":19,
"1YiZ5S":13,buffer:2,events:5,inherits:11,"process/browser.js":20,string_decoder:25}],23:[function(r,B,y){function l(a,b){this.afterTransform=function(a,c){var d;d=b._transformState;d.transforming=!1;var f=d.writecb;f?(d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&b.push(c),f&&f(a),d=b._readableState,d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&b._read(d.highWaterMark),d=void 0):d=b.emit("error",Error("no writecb in Transform class"));return d};this.transforming=this.needTransform=
!1;this.writechunk=this.writecb=null}function q(a){if(!(this instanceof q))return new q(a);c.call(this,a);this._transformState=new l(a,this);var e=this;this._readableState.needReadable=!0;this._readableState.sync=!1;this.once("finish",function(){"function"===typeof this._flush?this._flush(function(a){b(e,a)}):b(e)})}function b(a,b){if(b)return a.emit("error",b);var c=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");if(c.transforming)throw Error("calling transform done when still transforming");
return a.push(null)}B.exports=q;var c=r("./duplex.js");r("inherits")(q,c);q.prototype.push=function(a,b){this._transformState.needTransform=!1;return c.prototype.push.call(this,a,b)};q.prototype._transform=function(a,b,c){throw Error("not implemented");};q.prototype._write=function(a,b,c){var h=this._transformState;h.writecb=c;h.writechunk=a;h.writeencoding=b;h.transforming||(a=this._readableState,(h.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark))};q.prototype._read=
function(a){a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":18,inherits:11}],24:[function(r,B,y){function l(a,b,e){this.chunk=a;this.encoding=b;this.callback=e}function q(a,b){a=a||{};var e=a.highWaterMark;this.highWaterMark=e||0===e?e:16384;this.objectMode=!!a.objectMode;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;
this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){d(b,a)};this.writecb=null;this.writelen=0;this.buffer=[]}function b(a){if(!(this instanceof b||this instanceof A.Duplex))return new b(a);this._writableState=new q(a,this);this.writable=!0;A.call(this)}function c(a,b,e){var d=Error("write after end");a.emit("error",d);v(function(){e(d)})}function a(a,b,e,d){var c=!0;if(!J.isBuffer(e)&&
"string"!==typeof e&&null!==e&&void 0!==e&&!b.objectMode){var h=new TypeError("Invalid non-string/buffer chunk");a.emit("error",h);v(function(){d(h)});c=!1}return c}function e(a,b,e,d,c){b.objectMode||!1===b.decodeStrings||"string"!==typeof e||(e=new J(e,d));var h=b.objectMode?1:e.length;b.length+=h;var g=b.length<b.highWaterMark;b.needDrain=!g;b.writing?b.buffer.push(new l(e,d,c)):(b.writelen=h,b.writecb=c,b.writing=!0,b.sync=!0,a._write(e,d,b.onwrite),b.sync=!1);return g}function g(a,b,e,d,c){e?
v(function(){c(d)}):c(d);a.emit("error",d)}function h(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function d(a,b){var e=a._writableState,d=e.sync,c=e.writecb;h(e);if(b)g(a,e,d,b,c);else{var n=e.ending&&0===e.length&&!e.finished&&!e.writing;n||e.bufferProcessing||!e.buffer.length||m(a,e);d?v(function(){f(a,e,n,c)}):f(a,e,n,c)}}function f(a,b,e,d){!e&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));d();e&&n(a,b)}function m(a,b){b.bufferProcessing=!0;for(var e=0;e<b.buffer.length;e++){var d=
b.buffer[e],c=d.chunk,h=a,g=b,f=c,n=d.encoding,d=d.callback;g.writelen=b.objectMode?1:c.length;g.writecb=d;g.writing=!0;g.sync=!0;h._write(f,n,g.onwrite);g.sync=!1;if(b.writing){e++;break}}b.bufferProcessing=!1;e<b.buffer.length?b.buffer=b.buffer.slice(e):b.buffer.length=0}function n(a,b){var e=b.ending&&0===b.length&&!b.finished&&!b.writing;e&&(b.finished=!0,a.emit("finish"));return e}B.exports=b;b.WritableState=q;var t="undefined"!==typeof Uint8Array?function(a){return a instanceof Uint8Array}:
function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},C="undefined"!==typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name};B=r("inherits");var A=r("./index.js"),v=r("process/browser.js").nextTick,J=r("buffer").Buffer;B(b,A);b.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};b.prototype.write=function(b,d,h){var g=this._writableState,f=!1;"function"===typeof d&&(h=
d,d=null);!J.isBuffer(b)&&t(b)&&(b=new J(b));C(b)&&"undefined"!==typeof Uint8Array&&(b=new J(new Uint8Array(b)));J.isBuffer(b)?d="buffer":d||(d=g.defaultEncoding);"function"!==typeof h&&(h=function(){});g.ended?c(this,g,h):a(this,g,b,h)&&(f=e(this,g,b,d,h));return f};b.prototype._write=function(a,b,e){e(Error("not implemented"))};b.prototype.end=function(a,b,e){var d=this._writableState;"function"===typeof a?(e=a,b=a=null):"function"===typeof b&&(e=b,b=null);"undefined"!==typeof a&&null!==a&&this.write(a,
b);if(!d.ending&&!d.finished){a=e;d.ending=!0;n(this,d);if(a)if(d.finished)v(a);else this.once("finish",a);d.ended=!0}}},{"./index.js":19,buffer:2,inherits:11,"process/browser.js":20}],25:[function(r,B,y){function l(a){return a.toString(this.encoding)}function q(a){this.charLength=(a=this.charReceived=a.length%2)?2:0;return a}function b(a){this.charLength=(a=this.charReceived=a.length%3)?3:0;return a}var c=r("buffer").Buffer;r=y.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,
"");if(a&&!c.isEncoding(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=q;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=b;break;default:this.write=l;return}this.charBuffer=new c(6);this.charLength=this.charReceived=0};r.prototype.write=function(a){for(var b="",c=0;this.charLength;){var h=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:
a.length;a.copy(this.charBuffer,this.charReceived,c,h);this.charReceived+=h-c;c=h;if(this.charReceived<this.charLength)return"";var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),d=b.charCodeAt(b.length-1);if(55296<=d&&56319>=d)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(h==a.length)return b;a=a.slice(h,a.length);break}}d=this.detectIncompleteChar(a);c=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-d,c),this.charReceived=d,
c-=d);b+=a.toString(this.encoding,0,c);c=b.length-1;d=b.charCodeAt(c);return 55296<=d&&56319>=d?(a=this.surrogateSize,this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,c)):b};r.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;break}if(2>=b&&14==c>>4){this.charLength=3;break}if(3>=b&&30==c>>3){this.charLength=
4;break}}return b};r.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:2}],26:[function(r,B,y){"undefined"!==typeof setTimeout&&(y.setTimeout=function(){return setTimeout.apply(window,arguments)});"undefined"!==typeof clearTimeout&&(y.clearTimeout=function(){clearTimeout.apply(window,arguments)});"undefined"!==typeof setInterval&&(y.setInterval=function(){return setInterval.apply(window,
arguments)});"undefined"!==typeof clearInterval&&(y.clearInterval=function(){clearInterval.apply(window,arguments)});y.enroll=function(l,q){l._timeoutID=setTimeout(l._onTimeout,q)};y.unenroll=function(l){clearTimeout(l._timeoutID)};y.active=function(l){};y.setImmediate=r("process/browser.js").nextTick},{"process/browser.js":27}],27:[function(r,B,y){B.exports=r(20)},{}],28:[function(r,B,y){function l(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=
this.auth=this.slashes=this.protocol=null}function q(a,d,e){if(a&&b(a)&&a instanceof l)return a;var c=new l;c.parse(a,d,e);return c}function b(a){return"object"===typeof a&&null!==a}var c=r("punycode");y.parse=q;y.resolve=function(a,b){return q(a,!1,!0).resolve(b)};y.resolveObject=function(a,b){return a?q(a,!1,!0).resolveObject(b):b};y.format=function(a){"string"===typeof a&&(a=q(a));return a instanceof l?a.format():l.prototype.format.call(a)};y.Url=l;var a=/^([a-z0-9.+-]+:)/i,e=/:[0-9]*$/;B="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));
var g=["'"].concat(B),h=["%","/","?",";","#"].concat(g),d=["/","?","#"],f=/^[a-z0-9A-Z_-]{0,63}$/,m=/^([a-z0-9A-Z_-]{0,63})(.*)$/,n={javascript:!0,"javascript:":!0},t={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=r("querystring");l.prototype.parse=function(b,e,D){if("string"!==typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var l=a.exec(b);if(l){var l=l[0],q=l.toLowerCase();
this.protocol=q;b=b.substr(l.length)}if(D||l||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var r="//"===b.substr(0,2);!r||l&&t[l]||(b=b.substr(2),this.slashes=!0)}if(!t[l]&&(r||l&&!C[l])){r=-1;for(D=0;D<d.length;D++)l=b.indexOf(d[D]),-1!==l&&(-1===r||l<r)&&(r=l);r=-1===r?b.lastIndexOf("@"):b.lastIndexOf("@",r);-1!==r&&(D=b.slice(0,r),b=b.slice(r+1),this.auth=decodeURIComponent(D));r=-1;for(D=0;D<h.length;D++)l=b.indexOf(h[D]),-1!==l&&(-1===r||l<r)&&(r=l);-1===r&&(r=b.length);this.host=b.slice(0,r);b=b.slice(r);
this.parseHost();this.hostname=this.hostname||"";r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){var s=this.hostname.split(/\./);D=0;for(l=s.length;D<l;D++){var u=s[D];if(u&&!u.match(f)){for(var x="",z=0,w=u.length;z<w;z++)x=127<u.charCodeAt(z)?x+"x":x+u[z];if(!x.match(f)){l=s.slice(0,D);D=s.slice(D+1);if(u=u.match(m))l.push(u[1]),D.unshift(u[2]);D.length&&(b="/"+D.join(".")+b);this.hostname=l.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
if(!r){u=this.hostname.split(".");s=[];for(D=0;D<u.length;++D)l=u[D],s.push(l.match(/[^A-Za-z0-9_-]/)?"xn--"+c.encode(l):l);this.hostname=s.join(".")}D=this.port?":"+this.port:"";this.host=(this.hostname||"")+D;this.href+=this.host;r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!n[q])for(D=0,l=g.length;D<l;D++)r=g[D],u=encodeURIComponent(r),u===r&&(u=escape(r)),b=b.split(r).join(u);D=b.indexOf("#");-1!==D&&(this.hash=b.substr(D),b=b.slice(0,D));D=b.indexOf("?");
-1!==D?(this.search=b.substr(D),this.query=b.substr(D+1),e&&(this.query=A.parse(this.query)),b=b.slice(0,D)):e&&(this.search="",this.query={});b&&(this.pathname=b);C[q]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)D=this.pathname||"",l=this.search||"",this.path=D+l;this.href=this.format();return this};l.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var d=this.protocol||"",e=this.pathname||"",c=this.hash||
"",h=!1,f="";this.host?h=a+this.host:this.hostname&&(h=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(h+=":"+this.port));this.query&&b(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));a=this.search||f&&"?"+f||"";d&&":"!==d.substr(-1)&&(d+=":");this.slashes||(!d||C[d])&&!1!==h?(h="//"+(h||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):h||(h="");c&&"#"!==c.charAt(0)&&(c="#"+c);a&&"?"!==a.charAt(0)&&(a="?"+a);e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)});
a=a.replace("#","%23");return d+h+e+a+c};l.prototype.resolve=function(a){return this.resolveObject(q(a,!1,!0)).format()};l.prototype.resolveObject=function(a){if("string"===typeof a){var b=new l;b.parse(a,!1,!0);a=b}var d=new l;Object.keys(this).forEach(function(a){d[a]=this[a]},this);d.hash=a.hash;if(""===a.href)return d.href=d.format(),d;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(d[b]=a[b])}),C[d.protocol]&&d.hostname&&!d.pathname&&(d.path=d.pathname="/"),
d.href=d.format(),d;if(a.protocol&&a.protocol!==d.protocol){if(!C[a.protocol])return Object.keys(a).forEach(function(b){d[b]=a[b]}),d.href=d.format(),d;d.protocol=a.protocol;if(a.host||t[a.protocol])d.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==e[0]&&e.unshift("");2>e.length&&e.unshift("");d.pathname=e.join("/")}d.search=a.search;d.query=a.query;d.host=a.host||"";d.auth=a.auth;d.hostname=a.hostname||
a.host;d.port=a.port;if(d.pathname||d.search)d.path=(d.pathname||"")+(d.search||"");d.slashes=d.slashes||a.slashes;d.href=d.format();return d}var b=d.pathname&&"/"===d.pathname.charAt(0),c=a.host||a.pathname&&"/"===a.pathname.charAt(0),h=b=c||b||d.host&&a.pathname,f=d.pathname&&d.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],g=d.protocol&&!C[d.protocol];g&&(d.hostname="",d.port=null,d.host&&(""===f[0]?f[0]=d.host:f.unshift(d.host)),d.host="",a.protocol&&(a.hostname=null,a.port=null,
a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),b=b&&(""===e[0]||""===f[0]));if(c)d.host=a.host||""===a.host?a.host:d.host,d.hostname=a.hostname||""===a.hostname?a.hostname:d.hostname,d.search=a.search,d.query=a.query,f=e;else if(e.length)f||(f=[]),f.pop(),f=f.concat(e),d.search=a.search,d.query=a.query;else if(null!=a.search){g&&(d.hostname=d.host=f.shift(),g=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=g.shift(),d.host=d.hostname=g.shift());d.search=a.search;d.query=
a.query;if(null!==d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.href=d.format();return d}if(!f.length)return d.pathname=null,d.path=d.search?"/"+d.search:null,d.href=d.format(),d;for(var c=f.slice(-1)[0],e=(d.host||a.host)&&("."===c||".."===c)||""===c,n=0,m=f.length;0<=m;m--)c=f[m],"."==c?f.splice(m,1):".."===c?(f.splice(m,1),n++):n&&(f.splice(m,1),n--);if(!b&&!h)for(;n--;n)f.unshift("..");!b||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift("");e&&"/"!==f.join("/").substr(-1)&&
f.push("");h=""===f[0]||f[0]&&"/"===f[0].charAt(0);g&&(d.hostname=d.host=h?"":f.length?f.shift():"",g=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=g.shift(),d.host=d.hostname=g.shift());(b=b||d.host&&f.length)&&!h&&f.unshift("");f.length?d.pathname=f.join("/"):(d.pathname=null,d.path=null);if(null!==d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.auth=a.auth||d.auth;d.slashes=d.slashes||a.slashes;d.href=d.format();return d};l.prototype.parseHost=
function(){var a=this.host,b=e.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{punycode:14,querystring:17}],29:[function(r,B,y){B.exports=function(l){return l&&"object"===typeof l&&"function"===typeof l.copy&&"function"===typeof l.fill&&"function"===typeof l.readUInt8}},{}],30:[function(r,B,y){(function(l,q){function b(b,d){var e={seen:[],stylize:a};3<=arguments.length&&(e.depth=arguments[2]);4<=arguments.length&&(e.colors=arguments[3]);
C(d)?e.showHidden=d:d&&y._extend(e,d);J(e.showHidden)&&(e.showHidden=!1);J(e.depth)&&(e.depth=2);J(e.colors)&&(e.colors=!1);J(e.customInspect)&&(e.customInspect=!0);e.colors&&(e.stylize=c);return g(e,b,e.depth)}function c(a,d){var e=b.styles[d];return e?"\u001b["+b.colors[e][0]+"m"+a+"\u001b["+b.colors[e][1]+"m":a}function a(a,b){return a}function e(a){var b={};a.forEach(function(a,d){b[a]=!0});return b}function g(a,b,c){if(a.customInspect&&b&&s(b.inspect)&&b.inspect!==y.inspect&&(!b.constructor||
b.constructor.prototype!==b)){var u=b.inspect(c,a);v(u)||(u=g(a,u,c));return u}if(u=h(a,b))return u;var x=Object.keys(b),w=e(x);a.showHidden&&(x=Object.getOwnPropertyNames(b));if(T(b)&&(0<=x.indexOf("message")||0<=x.indexOf("description")))return d(b);if(0===x.length){if(s(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(D(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(K(b))return a.stylize(Date.prototype.toString.call(b),"date");if(T(b))return d(b)}var u=
"",z=!1,l=["{","}"];t(b)&&(z=!0,l=["[","]"]);s(b)&&(u=" [Function"+(b.name?": "+b.name:"")+"]");D(b)&&(u=" "+RegExp.prototype.toString.call(b));K(b)&&(u=" "+Date.prototype.toUTCString.call(b));T(b)&&(u=" "+d(b));if(0===x.length&&(!z||0==b.length))return l[0]+u+l[1];if(0>c)return D(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);x=z?f(a,b,c,w,x):x.map(function(d){return m(a,b,c,w,d,z)});a.seen.pop();return n(x,u,l)}function h(a,b){if(J(b))return a.stylize("undefined",
"undefined");if(v(b)){var d="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(d,"string")}if(A(b))return a.stylize(""+b,"number");if(C(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function d(a){return"["+Error.prototype.toString.call(a)+"]"}function f(a,b,d,e,c){for(var h=[],f=0,g=b.length;f<g;++f)Object.prototype.hasOwnProperty.call(b,String(f))?h.push(m(a,b,d,e,String(f),!0)):h.push("");c.forEach(function(c){c.match(/^\d+$/)||
h.push(m(a,b,d,e,c,!0))});return h}function m(a,b,d,e,c,h){var f,n;b=Object.getOwnPropertyDescriptor(b,c)||{value:b[c]};b.get?n=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(n=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(e,c)||(f="["+c+"]");n||(0>a.seen.indexOf(b.value)?(n=null===d?g(a,b.value,null):g(a,b.value,d-1),-1<n.indexOf("\n")&&(n=h?n.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+n.split("\n").map(function(a){return"   "+
a}).join("\n"))):n=a.stylize("[Circular]","special"));if(J(f)){if(h&&c.match(/^\d+$/))return n;f=JSON.stringify(""+c);f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=a.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=a.stylize(f,"string"))}return f+": "+n}function n(a,b,d){var e=0;return 60<a.reduce(function(a,b){e++;0<=b.indexOf("\n")&&e++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?d[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+
" "+d[1]:d[0]+b+" "+a.join(", ")+" "+d[1]}function t(a){return Array.isArray(a)}function C(a){return"boolean"===typeof a}function A(a){return"number"===typeof a}function v(a){return"string"===typeof a}function J(a){return void 0===a}function D(a){return G(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function G(a){return"object"===typeof a&&null!==a}function K(a){return G(a)&&"[object Date]"===Object.prototype.toString.call(a)}function T(a){return G(a)&&("[object Error]"===Object.prototype.toString.call(a)||
a instanceof Error)}function s(a){return"function"===typeof a}function u(a){return 10>a?"0"+a.toString(10):a.toString(10)}function x(){var a=new Date,b=[u(a.getHours()),u(a.getMinutes()),u(a.getSeconds())].join(":");return[a.getDate(),P[a.getMonth()],b].join(" ")}var z=/%[sdj%]/g;y.format=function(a){if(!v(a)){for(var d=[],e=0;e<arguments.length;e++)d.push(b(arguments[e]));return d.join(" ")}for(var e=1,c=arguments,h=c.length,d=String(a).replace(z,function(a){if("%%"===a)return"%";if(e>=h)return a;
switch(a){case "%s":return String(c[e++]);case "%d":return Number(c[e++]);case "%j":try{return JSON.stringify(c[e++])}catch(b){return"[Circular]"}default:return a}}),f=c[e];e<h;f=c[++e])d=null!==f&&G(f)?d+(" "+b(f)):d+(" "+f);return d};y.deprecate=function(a,b){if(J(q.process))return function(){return y.deprecate(a,b).apply(this,arguments)};if(!0===l.noDeprecation)return a;var d=!1;return function(){if(!d){if(l.throwDeprecation)throw Error(b);l.traceDeprecation?console.trace(b):console.error(b);d=
!0}return a.apply(this,arguments)}};var w={},M;y.debuglog=function(a){J(M)&&(M=l.env.NODE_DEBUG||"");a=a.toUpperCase();if(!w[a])if((new RegExp("\\b"+a+"\\b","i")).test(M)){var b=l.pid;w[a]=function(){var d=y.format.apply(y,arguments);console.error("%s %d: %s",a,b,d)}}else w[a]=function(){};return w[a]};y.inspect=b;b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,
39]};b.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};y.isArray=t;y.isBoolean=C;y.isNull=function(a){return null===a};y.isNullOrUndefined=function(a){return null==a};y.isNumber=A;y.isString=v;y.isSymbol=function(a){return"symbol"===typeof a};y.isUndefined=J;y.isRegExp=D;y.isObject=G;y.isDate=K;y.isError=T;y.isFunction=s;y.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===
typeof a||"symbol"===typeof a||"undefined"===typeof a};y.isBuffer=r("./support/isBuffer");var P="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");y.log=function(){console.log("%s - %s",x(),y.format.apply(y,arguments))};y.inherits=r("inherits");y._extend=function(a,b){if(!b||!G(b))return a;for(var d=Object.keys(b),e=d.length;e--;)a[d[e]]=b[d[e]];return a}}).call(this,r("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":29,"1YiZ5S":13,inherits:11}],
31:[function(r,B,y){},{}],32:[function(r,B,y){(function(l,q,b){(function(){var c="undefined"!==typeof l&&l.versions&&l.versions.node,a=!c&&("undefined"!==typeof window||"undefined"!==typeof self);a&&"undefined"===typeof q&&("undefined"!==typeof window?q=window:"undefined"!==typeof self?q=self:"undefined"!==typeof $&&(q=$));var e=function(e){function d(){}function f(a,b){if(H(b))for(var e=0;e<b.length;++e)b[e]=f(a,b[e]);else if(V(b))b["@list"]=f(a,b["@list"]);else if(I(b)){ja(b)&&(b["@id"]=a.getName(b["@id"]));
for(var e=Object.keys(b).sort(),d=0;d<e.length;++d){var c=e[d];"@id"!==c&&(b[c]=f(a,b[c]))}}return b}function g(a,b,d){if(null===d||void 0===d)return null;var c=F(a,b,{vocab:!0});if("@id"===c)return F(a,d,{base:!0});if("@type"===c)return F(a,d,{vocab:!0,base:!0});var f=e.getContextValue(a,b,"@type");if("@id"===f||"@graph"===c&&L(d))return{"@id":F(a,d,{base:!0})};if("@vocab"===f)return{"@id":F(a,d,{vocab:!0,base:!0})};if(N(c))return d;c={};null!==f?c["@type"]=f:L(d)&&(a=e.getContextValue(a,b,"@language"),
null!==a&&(c["@language"]=a));-1===["boolean","number","string"].indexOf(typeof d)&&(d=d.toString());c["@value"]=d;return c}function n(a){var b={};if(U(a)){b.type="literal";var e=a["@value"],d=a["@type"]||null;"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e)?(b.value=e.toString(),b.datatype=d||oa):ea(e)||d===ka?(ea(e)||(e=parseFloat(e)),b.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),b.datatype=d||ka):ia(e)?(b.value=e.toFixed(0),b.datatype=d||pa):"@language"in a?
(b.value=e,b.datatype=d||la,b.language=a["@language"]):(b.value=e,b.datatype=d||ca)}else a=I(a)?a["@id"]:a,b.type=0===a.indexOf("_:")?"blank node":"IRI",b.value=a;return"IRI"!==b.type||Z(b.value)?b:null}function t(a,b){if("hash"in b[a])return b[a].hash;for(var e=b[a].quads,d=[],c=0;c<e.length;++c)d.push(qa(e[c],e[c].name?e[c].name.value:null,a));d.sort();return b[a].hash=O.hash(d)}function C(a,b,d,c,f){function g(f){if(f===x.length)return m=Object.keys(u).sort(),n(0);var s=x[f],w=A(s.subject,a),z=
null;null!==w?z="p":(w=A(s.object,a),null!==w&&(z="r"));if(null!==w){var l;l=d.isNamed(w)?d.getName(w):c.isNamed(w)?c.getName(w):t(w,b);var v=O.create();v.update(z);v.update(s.predicate.value);v.update(l);s=v.digest();s in u?u[s].push(w):u[s]=[w]}e.setImmediate(function(){g(f+1)})}function n(a){function g(){function u(a){if(a===l.length)return fa(!1);var e=l[a];C(e,b,d,ga,function(b,d){if(b)return f(b);z+=ga.getName(e)+"<"+d.hash+">";ga=d.pathNamer;if(null!==x&&z.length>=x.length&&z>x)return fa(!0);
u(a+1)})}function fa(b){!b&&(null===x||z<x)&&(x=z,t=ga);w.hasNext()?e.setImmediate(function(){g()}):(s.update(x),c=t,n(a+1))}var m=w.next(),ga=c.clone(),z="",l=[],v;for(v in m){var A=m[v];d.isNamed(A)?z+=d.getName(A):(ga.isNamed(A)||l.push(A),z+=ga.getName(A));if(null!==x&&z.length>=x.length&&z>x)return fa(!0)}u(0)}if(a===m.length)return f(null,{hash:s.digest(),pathNamer:c});var fa=m[a];s.update(fa);var x=null,t=null,w=new ra(u[fa]);e.setImmediate(function(){g()})}var s=O.create(),u={},m,x=b[a].quads;
e.setImmediate(function(){g(0)})}function A(a,b){return"blank node"===a.type&&a.value!==b?a.value:null}function v(a,b,d,c,f,g){if(H(a))for(var n=0;n<a.length;++n)v(a[n],b,d,c,void 0,g);else if(I(a))if(U(a)){if("@type"in a){var s=a["@type"];0===s.indexOf("_:")&&(a["@type"]=c.getName(s))}g&&g.push(a)}else{if("@type"in a)for(var u=a["@type"],n=0;n<u.length;++n)s=u[n],0===s.indexOf("_:")&&c.getName(s);X(f)&&(f=ja(a)?c.getName(a["@id"]):a["@id"]);g&&g.push({"@id":f});g=b[d];n=g[f]=g[f]||{};n["@id"]=f;
s=Object.keys(a).sort();for(u=0;u<s.length;++u){var m=s[u];if("@id"!==m)if("@reverse"===m){var m={"@id":f},x=a["@reverse"],t;for(t in x)for(var z=x[t],w=0;w<z.length;++w){var l=z[w],C=l["@id"];ja(l)&&(C=c.getName(C));v(l,b,d,c,C);e.addValue(g[C],t,m,{propertyIsArray:!0,allowDuplicate:!1})}}else if("@graph"===m)f in b||(b[f]={}),v(a[m],b,"@merged"===d?d:f,c);else if("@type"!==m&&N(m)){if("@index"===m&&"@index"in n)throw new E("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",
{code:"conflicting indexes",subject:n});n[m]=a[m]}else if(x=a[m],0===m.indexOf("_:")&&(m=c.getName(m)),0===x.length)e.addValue(n,m,[],{propertyIsArray:!0});else for(z=0;z<x.length;++z)w=x[z],"@type"===m&&(w=0===w.indexOf("_:")?c.getName(w):w),l=w,C=!1,!I(l)||"@value"in l||"@set"in l||"@list"in l||(C=1<Object.keys(l).length||!("@id"in l)),C||Y(w)?(l=ja(w)?c.getName(w["@id"]):w["@id"],e.addValue(n,m,{"@id":l},{propertyIsArray:!0,allowDuplicate:!1}),v(w,b,d,c,l)):(V(w)?(l=[],v(w["@list"],b,d,c,f,l),
w={"@list":l}):v(w,b,d,c,f),e.addValue(n,m,w,{propertyIsArray:!0,allowDuplicate:!1}))}}else g&&g.push(a)}function J(a){for(var b=a["@default"],e=Object.keys(a).sort(),d=0;d<e.length;++d){var c=e[d];if("@default"!==c){var f=a[c],g=b[c];g?"@graph"in g||(g["@graph"]=[]):b[c]=g={"@id":c,"@graph":[]};for(var c=g["@graph"],g=Object.keys(f).sort(),h=0;h<g.length;++h){var n=f[g[h]];Y(n)||c.push(n)}}}return b}function D(a,b,e,d,c){var f=e;if(!H(f)||1!==f.length||!I(f[0]))throw new E("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.",
"jsonld.SyntaxError",{frame:f});e=e[0];for(var f=a.options,g={embed:K(e,f,"embed"),explicit:K(e,f,"explicit"),requireAll:K(e,f,"requireAll")},h=e,n={},m=0;m<b.length;++m){var x=b[m],t=a.subjects[x];y(t,h,g)&&(n[x]=t)}b=Object.keys(n).sort();for(var w in b)if(x=b[w],m=n[x],"@link"===g.embed&&x in a.link)u(d,c,a.link[x]);else{null===c&&(a.uniqueEmbeds={});h={};h["@id"]=x;a.link[x]=h;if(!(t="@never"===g.embed))a:{for(var t=a.subjectStack,z=t.length-1;0<=z;--z)if(t[z]["@id"]===m["@id"]){t=!0;break a}t=
!1}if(t)u(d,c,h);else{"@last"===g.embed&&(x in a.uniqueEmbeds&&s(a,x),a.uniqueEmbeds[x]={parent:d,property:c});a.subjectStack.push(m);x=Object.keys(m).sort();for(t=0;t<x.length;t++)if(z=x[t],N(z))h[z]=S(m[z]);else if(!g.explicit||z in e)for(var l=m[z],v=0;v<l.length;++v){var C=l[v];if(V(C)){var A={"@list":[]};u(h,z,A);var q=C["@list"],r;for(r in q)if(C=q[r],Y(C)){var J=z in e?e[z][0]["@list"]:G(g);D(a,[C["@id"]],J,A,"@list")}else u(A,"@list",S(C))}else Y(C)?(J=z in e?e[z]:G(g),D(a,[C["@id"]],J,h,
z)):u(h,z,S(C))}x=Object.keys(e).sort();for(t=0;t<x.length;++t)z=x[t],N(z)||(m=e[z][0],K(m,f,"omitDefault")||z in h||(l="@null","@default"in m&&(l=S(m["@default"])),H(l)||(l=[l]),h[z]=[{"@preserve":l}]));u(d,c,h);a.subjectStack.pop()}}}function G(a){var b={},e;for(e in a)void 0!==a[e]&&(b["@"+e]=[a[e]]);return[b]}function K(a,b,e){var d="@"+e;a=d in a?a[d][0]:b[e];"embed"===e&&(!0===a?a="@last":!1===a?a="@never":"@always"!==a&&"@never"!==a&&"@link"!==a&&(a="@last"));return a}function y(a,b,d){if("@type"in
b&&(1!==b["@type"].length||!I(b["@type"][0]))){b=b["@type"];for(d=0;d<b.length;++d)if(e.hasValue(a,"@type",b[d]))return!0;return!1}var c=!0,f=!1,g;for(g in b){if(N(g)){if("@id"!==g&&"@type"!==g)continue;c=!1;if("@id"===g&&L(b[g])){if(a[g]!==b[g])return!1;f=!0;continue}}c=!1;if(g in a){if(H(b[g])&&0===b[g].length&&void 0!==a[g])return!1;f=!0}else{var n=H(b[g])&&I(b[g][0])&&"@default"in b[g][0];if(d.requireAll&&!n)return!1}}return c||f}function s(a,b){var d=a.uniqueEmbeds,c=d[b],f=c.parent,g=c.property,
c={"@id":b};if(H(f))for(g=0;g<f.length;++g){if(e.compareValues(f[g],c)){f[g]=c;break}}else{var n=H(f[g]);e.removeValue(f,g,c,{propertyIsArray:n});e.addValue(f,g,c,{propertyIsArray:n})}var s=function(a){for(var b=Object.keys(d),e=0;e<b.length;++e){var c=b[e];c in d&&I(d[c].parent)&&d[c].parent["@id"]===a&&(delete d[c],s(c))}};s(b)}function u(a,b,d){I(a)?e.addValue(a,b,d,{propertyIsArray:!0}):a.push(d)}function x(a,b,d){if(H(b)){for(var c=[],f=0;f<b.length;++f){var g=x(a,b[f],d);null!==g&&c.push(g)}b=
c}else if(I(b)){if("@preserve"in b)return"@null"===b["@preserve"]?null:b["@preserve"];if(U(b))return b;if(V(b))return b["@list"]=x(a,b["@list"],d),b;g=w(a,"@id");if(g in b)if(g=b[g],g in d.link)if(f=d.link[g].indexOf(b),-1===f)d.link[g].push(b);else return d.link[g][f];else d.link[g]=[b];for(c in b)g=x(a,b[c],d),f=e.getContextValue(a,c,"@container"),d.compactArrays&&H(g)&&1===g.length&&null===f&&(g=g[0]),b[c]=g}return b}function z(a,b){return a.length<b.length?-1:b.length<a.length?1:a===b?0:a<b?-1:
1}function w(a,b,d,c,f){if(null===b)return b;X(d)&&(d=null);X(f)&&(f=!1);c=c||{};N(b)&&(c.vocab=!0);if(c.vocab&&b in a.getInverse()){var g=a["@language"]||"@none",n=[];I(d)&&"@index"in d&&n.push("@index");var s="@language",u="@null";if(f)s="@type",u="@reverse",n.push("@set");else if(V(d)){"@index"in d||n.push("@list");u=d["@list"];f=0===u.length?g:null;for(var g=null,m=0;m<u.length;++m){var x=u[m],t="@none",l="@none";U(x)?"@language"in x?t=x["@language"]:"@type"in x?l=x["@type"]:t="@null":l="@id";
null===f?f=t:t!==f&&U(x)&&(f="@none");null===g?g=l:l!==g&&(g="@none");if("@none"===f&&"@none"===g)break}f=f||"@none";g=g||"@none";"@none"!==g?(s="@type",u=g):u=f}else U(d)?"@language"in d&&!("@index"in d)?(n.push("@language"),u=d["@language"]):"@type"in d&&(s="@type",u=d["@type"]):(s="@type",u="@id"),n.push("@set");n.push("@none");a:{f=d;g=u;null===g&&(g="@null");u=[];"@id"!==g&&"@reverse"!==g||!Y(f)?u.push(g):("@reverse"===g&&u.push("@reverse"),g=w(a,f["@id"],null,{vocab:!0}),g in a.mappings&&a.mappings[g]&&
a.mappings[g]["@id"]===f["@id"]?u.push.apply(u,["@vocab","@id"]):u.push.apply(u,["@id","@vocab"]));u.push("@none");f=a.inverse[b];for(g=0;g<n.length;++g)if(m=n[g],m in f)for(m=f[m][s],x=0;x<u.length;++x)if(t=u[x],t in m){n=m[t];break a}n=null}if(null!==n)return n}if(c.vocab&&"@vocab"in a&&(s=a["@vocab"],0===b.indexOf(s)&&b!==s&&(s=b.substr(s.length),!(s in a.mappings))))return s;s=null;for(n in a.mappings)-1===n.indexOf(":")&&(u=a.mappings[n])&&u["@id"]!==b&&0===b.indexOf(u["@id"])&&(u=n+":"+b.substr(u["@id"].length),
u in a.mappings&&(null!==d||!a.mappings[u]||a.mappings[u]["@id"]!==b)||!(null===s||0>z(u,s))||(s=u));if(null!==s)return s;if(!c.vocab&&(a=a["@base"],null!==a&&(L(a)&&(a=e.url.parse(a||"")),d="",""!==a.href?d+=(a.protocol||"")+"//"+(a.authority||""):b.indexOf("//")&&(d+="//"),0===b.indexOf(d)))){b=e.url.parse(b.substr(d.length));a=a.normalizedPath.split("/");d=b.normalizedPath.split("/");for(c=b.fragment||b.query?0:1;0<a.length&&d.length>c&&a[0]===d[0];)a.shift(),d.shift();c="";if(0<a.length)for(a.pop(),
n=0;n<a.length;++n)c+="../";c+=d.join("/");null!==b.query&&(c+="?"+b.query);null!==b.fragment&&(c+="#"+b.fragment);""===c&&(c="./");b=c}return b}function M(a,b,d){if(U(d)){var c=e.getContextValue(a,b,"@type"),f=e.getContextValue(a,b,"@language"),g=e.getContextValue(a,b,"@container"),g="@index"in d&&"@index"!==g;if(!g&&(d["@type"]===c||d["@language"]===f))return d["@value"];var c=Object.keys(d).length,c=1===c||2===c&&"@index"in d&&!g,f="@language"in a,n=L(d["@value"]);b=a.mappings[b]&&null===a.mappings[b]["@language"];
if(c&&(!f||!n||b))return d["@value"];b={};g&&(b[w(a,"@index")]=d["@index"]);"@type"in d?b[w(a,"@type")]=w(a,d["@type"],null,{vocab:!0}):"@language"in d&&(b[w(a,"@language")]=d["@language"]);b[w(a,"@value")]=d["@value"];return b}g=F(a,b,{vocab:!0});c=e.getContextValue(a,b,"@type");d=w(a,d["@id"],null,{vocab:"@vocab"===c});if("@id"===c||"@vocab"===c||"@graph"===g)return d;b={};b[w(a,"@id")]=d;return b}function P(a,b,e,d){if(e in d){if(d[e])return;throw new E("Cyclical context definition detected.",
"jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:b,term:e});}d[e]=!1;if(N(e))throw new E("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:e});if(""===e)throw new E("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:b});a.mappings[e]&&delete a.mappings[e];var c=b[e];if(null===c||I(c)&&null===c["@id"])a.mappings[e]=null,d[e]=!0;else{L(c)&&(c={"@id":c});
if(!I(c))throw new E("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:b});var f=a.mappings[e]={};f.reverse=!1;if("@reverse"in c){if("@id"in c)throw new E("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});var g=c["@reverse"];if(!L(g))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",
{code:"invalid IRI mapping",context:b});g=F(a,g,{vocab:!0,base:!1},b,d);if(!Z(g))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});f["@id"]=g;f.reverse=!0}else if("@id"in c){g=c["@id"];if(!L(g))throw new E("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(g!==e){g=F(a,g,{vocab:!0,
base:!1},b,d);if(!Z(g)&&!N(g))throw new E("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});f["@id"]=g}}if(!("@id"in f)){var h=e.indexOf(":");if(-1!==h)g=e.substr(0,h),g in b&&P(a,b,g,d),a.mappings[g]?(h=e.substr(h+1),f["@id"]=a.mappings[g]["@id"]+h):f["@id"]=e;else{if(!("@vocab"in a))throw new E("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",
{code:"invalid IRI mapping",context:b,term:e});f["@id"]=a["@vocab"]+e}}d[e]=!0;if("@type"in c){e=c["@type"];if(!L(e))throw new E("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if("@id"!==e&&"@vocab"!==e){e=F(a,e,{vocab:!0,base:!1},b,d);if(!Z(e))throw new E("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if(0===e.indexOf("_:"))throw new E("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.",
"jsonld.SyntaxError",{code:"invalid type mapping",context:b});}f["@type"]=e}if("@container"in c){a=c["@container"];if("@list"!==a&&"@set"!==a&&"@index"!==a&&"@language"!==a)throw new E("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:b});if(f.reverse&&"@index"!==a&&"@set"!==a&&null!==a)throw new E("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.",
"jsonld.SyntaxError",{code:"invalid reverse property",context:b});f["@container"]=a}if("@language"in c&&!("@type"in c)){c=c["@language"];if(null!==c&&!L(c))throw new E("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:b});null!==c&&(c=c.toLowerCase());f["@language"]=c}g=f["@id"];if("@context"===g||"@preserve"===g)throw new E("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",
{code:"invalid keyword alias",context:b});}}function F(a,b,e,d,c){if(null===b||N(b))return b;d&&b in d&&!0!==c[b]&&P(a,d,b,c);e=e||{};if(e.vocab){var f=a.mappings[b];if(null===f)return null;if(f)return f["@id"]}f=b.indexOf(":");if(-1!==f){e=b.substr(0,f);var g=b.substr(f+1);if("_"===e||0===g.indexOf("//"))return b;d&&e in d&&P(a,d,e,c);return(f=a.mappings[e])?f["@id"]+g:b}if(e.vocab&&"@vocab"in a)return a["@vocab"]+b;e.base&&(b=B(a["@base"],b));return b}function B(a,b){if(null===a||-1!==b.indexOf(":"))return b;
L(a)&&(a=e.url.parse(a||""));var d=e.url.parse(b),c=a.protocol||"",f,g,n;null!==d.authority?(f=d.authority,g=d.path,n=d.query):(f=a.authority,""===d.path?(g=a.path,n=null!==d.query?d.query:a.query):(0===d.path.indexOf("/")?g=d.path:(g=a.path,""!==d.path&&(g=g.substr(0,g.lastIndexOf("/")+1),0<g.length&&"/"!==g.substr(-1)&&(g+="/"),g+=d.path)),n=d.query));g=va(g,!!f);null!==f&&(c+="//"+f);c+=g;null!==n&&(c+="?"+n);null!==d.fragment&&(c+="#"+d.fragment);""===c&&(c="./");return c}function R(a){return{"@base":e.url.parse(a.base||
""),mappings:{},inverse:null,getInverse:function(){if(this.inverse)return this.inverse;for(var a=this.inverse={},b=this["@language"]||"@none",e=this.mappings,d=Object.keys(e).sort(z),c=0;c<d.length;++c){var f=d[c],g=e[f];if(null!==g){var h=g["@container"]||"@none",n=g["@id"];H(n)||(n=[n]);for(var u=0;u<n.length;++u){var s=n[u],m=a[s];m||(a[s]=m={});m[h]||(m[h]={"@language":{},"@type":{}});m=m[h];g.reverse?(m=m["@type"],"@reverse"in m||(m["@reverse"]=f)):"@type"in g?(m=m["@type"],s=g["@type"],s in
m||(m[s]=f)):"@language"in g?(m=m["@language"],s=g["@language"]||"@null",s in m||(m[s]=f)):(s=m["@language"],b in s||(s[b]=f),s=m["@type"],"@none"in s||(s["@none"]=f),m=m["@language"],"@none"in m||(m["@none"]=f))}}}return a},clone:function(){var a={};a["@base"]=this["@base"];a.mappings=S(this.mappings);a.clone=this.clone;a.inverse=null;a.getInverse=this.getInverse;"@language"in this&&(a["@language"]=this["@language"]);"@vocab"in this&&(a["@vocab"]=this["@vocab"]);return a}}}function N(a){if(!L(a))return!1;
switch(a){case "@base":case "@context":case "@container":case "@default":case "@embed":case "@explicit":case "@graph":case "@id":case "@index":case "@language":case "@list":case "@omitDefault":case "@preserve":case "@requireAll":case "@reverse":case "@set":case "@type":case "@value":case "@vocab":return!0}return!1}function I(a){return"[object Object]"===Object.prototype.toString.call(a)}function H(a){return Array.isArray(a)}function L(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}
function ia(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function ea(a){return ia(a)&&-1!==String(a).indexOf(".")}function X(a){return"undefined"===typeof a}function Y(a){return I(a)&&1===Object.keys(a).length&&"@id"in a}function U(a){return I(a)&&"@value"in a}function V(a){return I(a)&&"@list"in a}function ja(a){var b=!1;I(a)&&(b="@id"in a?0===a["@id"].indexOf("_:"):0===Object.keys(a).length||!("@value"in a||"@set"in a||"@list"in a));return b}function Z(a){return L(a)&&
-1!==a.indexOf(":")}function S(a){if(a&&"object"===typeof a){var b;if(H(a)){b=[];for(var e=0;e<a.length;++e)b[e]=S(a[e])}else if(I(a))for(e in b={},a)b[e]=S(a[e]);else b=a.toString();return b}return a}function ha(a,b,e,d){var c=Object.keys(b).length;if(H(a)){for(var f=0;f<a.length;++f)ha(a[f],b,e,d);return c<Object.keys(b).length}if(I(a)){for(var g in a)if("@context"!==g)ha(a[g],b,e,d);else{var h=a[g];if(H(h))for(var n=h.length,f=0;f<n;++f){var s=h[f];L(s)&&(s=B(d,s),e?(s=b[s],H(s)?(Array.prototype.splice.apply(h,
[f,1].concat(s)),f+=s.length-1,n=h.length):h[f]=s):s in b||(b[s]=!1))}else L(h)&&(h=B(d,h),e?a[g]=b[h]:h in b||(b[h]=!1))}return c<Object.keys(b).length}return!1}function wa(a,b,e){var d=null,c=function(a,b,e,f,g){if(Object.keys(b).length>xa)return d=new E("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:xa}),g(d);var h={};ha(a,h,!1,f)||(ha(a,h,!0,f),g(null,a));var n=[],s;for(s in h)!1===h[s]&&n.push(s);var u=n.length;for(s=0;s<n.length;++s)(function(n){if(n in
b)return d=new E("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:n}),g(d);var s=S(b);s[n]=!0;var m=function(b,m){if(!d){var x=m?m.document:null;if(!b&&L(x))try{x=JSON.parse(x)}catch(t){b=t}b?b=new E("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.",
"jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:b}):I(x)||(b=new E("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:n,cause:b}));if(b)return d=b,g(d);x="@context"in x?{"@context":x["@context"]}:{"@context":{}};m.contextUrl&&(H(x["@context"])||(x["@context"]=[x["@context"]]),x["@context"].push(m.contextUrl));c(x,s,e,n,function(b,e){if(b)return g(b);h[n]=e["@context"];
u-=1;0===u&&(ha(a,h,!0,f),g(null,a))})}},x=e(n,m);x&&"then"in x&&x.then(m.bind(null,null),m)})(n[s])};c(a,{},b.documentLoader,b.base,e)}function ya(a){var b=/^[ \t]*$/,e=RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]*\\.))[ \\t]*$'),d={};a=a.split(/(?:\r\n)|(?:\n)|(?:\r)/g);
for(var c=0,f=0;f<a.length;++f){var g=a[f];c++;if(!b.test(g)){var h=g.match(e);if(null===h)throw new E("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:c});g={};X(h[1])?g.subject={type:"blank node",value:h[2]}:g.subject={type:"IRI",value:h[1]};g.predicate={type:"IRI",value:h[3]};if(X(h[4]))if(X(h[5])){g.object={type:"literal"};X(h[7])?X(h[8])?g.object.datatype=ca:(g.object.datatype=la,g.object.language=h[8]):g.object.datatype=h[7];var n=h[6].replace(/\\"/g,'"').replace(/\\t/g,
"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");g.object.value=n}else g.object={type:"blank node",value:h[5]};else g.object={type:"IRI",value:h[4]};n="@default";X(h[9])?X(h[10])||(n=h[10]):n=h[9];if(n in d){for(var h=!0,n=d[n],s=0;h&&s<n.length;++s){var u;a:{u=n[s];for(var m=["subject","predicate","object"],x=0;x<m.length;++x){var t=m[x];if(u[t].type!==g[t].type||u[t].value!==g[t].value){u=!1;break a}}u=u.object.language!==g.object.language||u.object.datatype!==g.object.datatype?
!1:!0}u&&(h=!1)}h&&n.push(g)}else d[n]=[g]}}return d}function qa(a,b,e){var d=a.subject,c=a.predicate;a=a.object;var g="",g="IRI"===d.type?g+("<"+d.value+">"):e?g+(d.value===e?"_:a":"_:z"):g+d.value,g=g+" ",g="IRI"===c.type?g+("<"+c.value+">"):e?g+"_:p":g+c.value,g=g+" ";"IRI"===a.type?g+="<"+a.value+">":"blank node"===a.type?g=e?g+(a.value===e?"_:a":"_:z"):g+a.value:(d=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"'),g+='"'+d+'"',a.datatype===
la?a.language&&(g+="@"+a.language):a.datatype!==ca&&(g+="^^<"+a.datatype+">"));null!==b&&(g=0!==b.indexOf("_:")?g+(" <"+b+">"):e?g+" _:g":g+(" "+b));return g+" .\n"}function W(a){this.prefix=a;this.counter=0;this.existing={}}function va(a,b){var e="";0===a.indexOf("/")&&(e="/");for(var d=a.split("/"),c=[];0<d.length;)"."===d[0]||""===d[0]&&1<d.length?d.shift():".."===d[0]?(d.shift(),b||0<c.length&&".."!==c[c.length-1]?c.pop():c.push("..")):c.push(d.shift());return e+c.join("/")}e.compact=function(a,
b,d,c){if(2>arguments.length)return e.nextTick(function(){c(new TypeError("Could not compact, too few arguments."))});"function"===typeof d&&(c=d,d={});d=d||{};if(null===b)return e.nextTick(function(){c(new E("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===a)return e.nextTick(function(){c(null,null)});"base"in d||(d.base="string"===typeof a?a:"");"compactArrays"in d||(d.compactArrays=!0);"graph"in d||(d.graph=!1);"skipExpansion"in d||(d.skipExpansion=
!1);"documentLoader"in d||(d.documentLoader=e.loadDocument);"link"in d||(d.link=!1);d.link&&(d.skipExpansion=!0);(function(a,b,d){e.nextTick(function(){if(b.skipExpansion)return d(null,a);e.expand(a,b,d)})})(a,d,function(a,g){if(a)return c(new E("Could not expand input before compaction.","jsonld.CompactError",{cause:a}));var f=R(d);e.processContext(f,b,d,function(a,e){if(a)return c(new E("Could not process context before compaction.","jsonld.CompactError",{cause:a}));var f;try{f=(new Q).compact(e,
null,g,d)}catch(h){return c(h)}var n=d;n.compactArrays&&!n.graph&&H(f)?1===f.length?f=f[0]:0===f.length&&(f={}):n.graph&&I(f)&&(f=[f]);I(b)&&"@context"in b&&(b=b["@context"]);b=S(b);H(b)||(b=[b]);n=b;b=[];for(var s=0;s<n.length;++s)(!I(n[s])||0<Object.keys(n[s]).length)&&b.push(n[s]);n=0<b.length;1===b.length&&(b=b[0]);if(H(f)){var u=w(e,"@graph"),s=f;f={};n&&(f["@context"]=b);f[u]=s}else if(I(f)&&n)for(u in s=f,f={"@context":b},s)f[u]=s[u];c(null,f,e)})})};e.expand=function(a,b,d){function c(a){"base"in
b||(b.base=a.documentUrl||"");a={document:S(a.document),remoteContext:{"@context":a.contextUrl}};if("expandContext"in b){var e=S(b.expandContext);a.expandContext="object"===typeof e&&"@context"in e?e:{"@context":e}}wa(a,b,function(a,e){if(a)return d(a);var c;try{var g=new Q,f=R(b),h=e.document,n=e.remoteContext["@context"];e.expandContext&&(f=g.processContext(f,e.expandContext["@context"],b));n&&(f=g.processContext(f,n,b));c=g.expand(f,null,h,b,!1);I(c)&&"@graph"in c&&1===Object.keys(c).length?c=
c["@graph"]:null===c&&(c=[]);H(c)||(c=[c])}catch(s){return d(s)}d(null,c)})}if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not expand, too few arguments."))});"function"===typeof b&&(d=b,b={});b=b||{};"documentLoader"in b||(b.documentLoader=e.loadDocument);"keepFreeFloatingNodes"in b||(b.keepFreeFloatingNodes=!1);e.nextTick(function(){if("string"===typeof a){var e=function(a,b){if(a)return d(a);try{if(!b.document)throw new E("No remote document found at the given URL.",
"jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(e){return d(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:b}))}c(b)},g=b.documentLoader(a,e);g&&"then"in g&&g.then(e.bind(null,null),e)}else c({contextUrl:null,documentUrl:null,document:a})})};e.flatten=function(a,b,d,c){if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not flatten, too few arguments."))});
"function"===typeof d?(c=d,d={}):"function"===typeof b&&(c=b,b=null,d={});d=d||{};"base"in d||(d.base="string"===typeof a?a:"");"documentLoader"in d||(d.documentLoader=e.loadDocument);e.expand(a,d,function(a,g){if(a)return c(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));var f;try{f=(new Q).flatten(g)}catch(n){return c(n)}if(null===b)return c(null,f);d.graph=!0;d.skipExpansion=!0;e.compact(f,b,d,function(a,b){if(a)return c(new E("Could not compact flattened output.",
"jsonld.FlattenError",{cause:a}));c(null,b)})})};e.frame=function(a,b,d,c){function g(b){var f=b.document,n;f?(n=f["@context"],b.contextUrl?(n?H(n)?n.push(b.contextUrl):n=[n,b.contextUrl]:n=b.contextUrl,f["@context"]=n):n=n||{}):n={};e.expand(a,d,function(a,b){if(a)return c(new E("Could not expand input before framing.","jsonld.FrameError",{cause:a}));var g=S(d);g.isFrame=!0;g.keepFreeFloatingNodes=!0;e.expand(f,g,function(a,d){if(a)return c(new E("Could not expand frame before framing.","jsonld.FrameError",
{cause:a}));var f;try{f=(new Q).frame(b,d,g)}catch(s){return c(s)}g.graph=!0;g.skipExpansion=!0;g.link={};e.compact(f,n,g,function(a,b,d){if(a)return c(new E("Could not compact framed output.","jsonld.FrameError",{cause:a}));a=w(d,"@graph");g.link={};b[a]=x(d,b[a],g);c(null,b)})})})}if(2>arguments.length)return e.nextTick(function(){c(new TypeError("Could not frame, too few arguments."))});"function"===typeof d&&(c=d,d={});d=d||{};"base"in d||(d.base="string"===typeof a?a:"");"documentLoader"in d||
(d.documentLoader=e.loadDocument);"embed"in d||(d.embed="@last");d.explicit=d.explicit||!1;"requireAll"in d||(d.requireAll=!0);d.omitDefault=d.omitDefault||!1;e.nextTick(function(){if("string"===typeof b){var a=function(a,b){if(a)return c(a);try{if(!b.document)throw new E("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(d){return c(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.",
"jsonld.LoadDocumentError",{code:"loading document failed",cause:d,remoteDoc:b}))}g(b)},e=d.documentLoader(b,a);e&&"then"in e&&e.then(a.bind(null,null),a)}else g({contextUrl:null,documentUrl:null,document:b})})};e.link=function(a,b,d,c){var g={};b&&(g["@context"]=b);g["@embed"]="@link";e.frame(a,g,d,c)};e.objectify=function(a,b,d,c){"function"===typeof d&&(c=d,d={});d=d||{};"base"in d||(d.base="string"===typeof a?a:"");"documentLoader"in d||(d.documentLoader=e.loadDocument);e.expand(a,d,function(a,
g){if(a)return c(new E("Could not expand input before linking.","jsonld.LinkError",{cause:a}));var f;try{f=(new Q).flatten(g)}catch(n){return c(n)}d.graph=!0;d.skipExpansion=!0;e.compact(f,b,d,function(a,b,d){if(a)return c(new E("Could not compact flattened output before linking.","jsonld.LinkError",{cause:a}));a=w(d,"@graph");var g=b[a][0],f=function(a){if(I(a)||H(a)){if(I(a)){if(f.visited[a["@id"]])return;f.visited[a["@id"]]=!0}for(var b in a){var c=a[b],n="@id"===e.getContextValue(d,b,"@type");
if(H(c)||I(c)||n)if(L(c)&&n)a[b]=c=g[c],f(c);else if(H(c))for(var s=0;s<c.length;++s)L(c[s])&&n?c[s]=g[c[s]]:I(c[s])&&"@id"in c[s]&&(c[s]=g[c[s]["@id"]]),f(c[s]);else I(c)&&(a[b]=c=g[c["@id"]],f(c))}}};f.visited={};f(g);b.of_type={};for(var n in g)if("@type"in g[n]){a=g[n]["@type"];H(a)||(a=[a]);for(var s in a)a[s]in b.of_type||(b.of_type[a[s]]=[]),b.of_type[a[s]].push(g[n])}c(null,b)})})};e.normalize=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not normalize, too few arguments."))});
"function"===typeof b&&(d=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);var c=S(b);delete c.format;c.produceGeneralizedRdf=!1;e.toRDF(a,c,function(a,e){if(a)return d(new E("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:a}));(new Q).normalize(e,b,d)})};e.fromRDF=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not convert from RDF, too few arguments."))});
"function"===typeof b&&(d=b,b={});b=b||{};"useRdfType"in b||(b.useRdfType=!1);"useNativeTypes"in b||(b.useNativeTypes=!1);"format"in b||!L(a)||"format"in b||(b.format="application/nquads");e.nextTick(function(){function e(a,b,d){(new Q).fromRDF(a,b,d)}var c;if(b.format){if(c=b.rdfParser||sa[b.format],!c)return d(new E("Unknown input format.","jsonld.UnknownFormat",{format:b.format}))}else c=function(){return a};var g=!1;try{a=c(a,function(a,c){g=!0;if(a)return d(a);e(c,b,d)})}catch(f){if(!g)return d(f);
throw f;}if(a){if("then"in a)return a.then(function(a){e(a,b,d)},d);e(a,b,d)}})};e.toRDF=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not convert to RDF, too few arguments."))});"function"===typeof b&&(d=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);e.expand(a,b,function(a,e){if(a)return d(new E("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:a}));var c;
try{if(c=Q.prototype.toRDF(e,b),b.format){if("application/nquads"===b.format){var g=d,f,h=[],n;for(n in c)for(var s=c[n],u=0;u<s.length;++u){var m=s[u];"@default"===n&&(n=null);h.push(qa(m,n))}h.sort();f=h.join("");return g(null,f)}throw new E("Unknown output format.","jsonld.UnknownFormat",{format:b.format});}}catch(x){return d(x)}d(null,c)})};e.createNodeMap=function(a,b,d){if(1>arguments.length)return e.nextTick(function(){d(new TypeError("Could not create node map, too few arguments."))});"function"===
typeof b&&(d=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=e.loadDocument);e.expand(a,b,function(a,e){if(a)return d(new E("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:a}));var c;try{c=(new Q).createNodeMap(e,b)}catch(g){return d(g)}d(null,c)})};e.merge=function(a,b,d,c){function g(a,b){if(!s){if(a)return s=a,c(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));n.push(b);
0===--u&&f(n)}}function f(a){var g=!0;"mergeNodes"in d&&(g=d.mergeNodes);var n=d.namer||new W("_:b"),s={"@default":{}},u;try{for(var m=0;m<a.length;++m){var x=a[m],x=e.relabelBlankNodes(x,{namer:new W("_:b"+m+"-")}),t=g||0===m?s:{"@default":{}};v(x,t,"@default",n);if(t!==s)for(var z in t){var l=t[z];if(z in s){var w=s[z],C;for(C in l)C in w||(w[C]=l[C])}else s[z]=l}}u=J(s)}catch(A){return c(A)}a=[];g=Object.keys(u).sort();for(n=0;n<g.length;++n)s=u[g[n]],Y(s)||a.push(s);if(null===b)return c(null,
a);d.graph=!0;d.skipExpansion=!0;e.compact(a,b,d,function(a,b){if(a)return c(new E("Could not compact merged output.","jsonld.MergeError",{cause:a}));c(null,b)})}if(1>arguments.length)return e.nextTick(function(){c(new TypeError("Could not merge, too few arguments."))});if(!H(a))return e.nextTick(function(){c(new TypeError('Could not merge, "docs" must be an array.'))});"function"===typeof d?(c=d,d={}):"function"===typeof b&&(c=b,b=null,d={});d=d||{};for(var n=[],s=null,u=a.length,m=0;m<a.length;++m){var x=
{},t;for(t in d)x[t]=d[t];e.expand(a[m],x,g)}};e.relabelBlankNodes=function(a,b){b=b||{};var d=b.namer||new W("_:b");return f(d,a)};e.documentLoader=function(a,b){var d=new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return c?b(d,{contextUrl:null,documentUrl:a,document:null}):e.promisify(function(a){a(d)})};e.loadDocument=function(a,b){var d=e.documentLoader(a,b);d&&"then"in d&&d.then(b.bind(null,
null),b)};e.promises=function(a){a=a||{};var b=Array.prototype.slice,d=e.promisify,c=a.api||{},g=a.version||"jsonld.js";"string"===typeof a.api&&(a.version||(g=a.api),c={});c.expand=function(a){if(1>arguments.length)throw new TypeError("Could not expand, too few arguments.");return d.apply(null,[e.expand].concat(b.call(arguments)))};c.compact=function(a,c){if(2>arguments.length)throw new TypeError("Could not compact, too few arguments.");return d.apply(null,[function(a,b,d,c){e.compact(a,b,d,function(a,
b){c(a,b)})}].concat(b.call(arguments)))};c.flatten=function(a){if(1>arguments.length)throw new TypeError("Could not flatten, too few arguments.");return d.apply(null,[e.flatten].concat(b.call(arguments)))};c.frame=function(a,c){if(2>arguments.length)throw new TypeError("Could not frame, too few arguments.");return d.apply(null,[e.frame].concat(b.call(arguments)))};c.fromRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert from RDF, too few arguments.");return d.apply(null,
[e.fromRDF].concat(b.call(arguments)))};c.toRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert to RDF, too few arguments.");return d.apply(null,[e.toRDF].concat(b.call(arguments)))};c.normalize=function(a){if(1>arguments.length)throw new TypeError("Could not normalize, too few arguments.");return d.apply(null,[e.normalize].concat(b.call(arguments)))};"jsonld.js"===g&&(c.link=function(a,c){if(2>arguments.length)throw new TypeError("Could not link, too few arguments.");return d.apply(null,
[e.link].concat(b.call(arguments)))},c.objectify=function(a){return d.apply(null,[e.objectify].concat(b.call(arguments)))},c.createNodeMap=function(a){return d.apply(null,[e.createNodeMap].concat(b.call(arguments)))},c.merge=function(a){return d.apply(null,[e.merge].concat(b.call(arguments)))});try{e.Promise=q.Promise||r("es6-promise").Promise}catch(f){a=function(){throw Error("Unable to find a Promise implementation.");};for(var n in c)c[n]=a}return c};e.promisify=function(a){if(!e.Promise)try{e.Promise=
q.Promise||r("es6-promise").Promise}catch(b){throw Error("Unable to find a Promise implementation.");}var d=Array.prototype.slice.call(arguments,1);return new e.Promise(function(b,e){a.apply(null,d.concat(function(a,d){a?e(a):b(d)}))})};e.promises({api:e.promises});d.prototype=e.promises({version:"json-ld-1.0"});d.prototype.toString=function(){return this instanceof d?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"};e.JsonLdProcessor=d;var da=!!Object.defineProperty;if(da)try{Object.defineProperty({},
"x",{})}catch(Aa){da=!1}da&&(Object.defineProperty(d,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(d.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:d}));a&&"undefined"===typeof q.JsonLdProcessor&&(da?Object.defineProperty(q,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:d}):q.JsonLdProcessor=d);"undefined"!==typeof l&&l.nextTick?(e.nextTick=l.nextTick,e.setImmediate="function"===typeof setImmediate?setImmediate:e.nextTick):"function"===
typeof setImmediate?e.setImmediate=e.nextTick=function(a){return setImmediate(a)}:(e.setImmediate=function(a){setTimeout(a,0)},e.nextTick=e.setImmediate);e.parseLinkHeader=function(a){var b={};a=a.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);for(var d=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,e=0;e<a.length;++e){var c=a[e].match(d);if(c){for(var g={target:c[1]},f=c[2],n=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;c=n.exec(f);)g[c[1]]=void 0===c[2]?c[3]:c[2];c=g.rel||"";H(b[c])?b[c].push(g):b[c]=c in b?[b[c],
g]:g}}return b};e.DocumentCache=function(a){this.order=[];this.cache={};this.size=a||50;this.expires=3E4};e.DocumentCache.prototype.get=function(a){if(a in this.cache){var b=this.cache[a];if(b.expires>=+new Date)return b.ctx;delete this.cache[a];this.order.splice(this.order.indexOf(a),1)}return null};e.DocumentCache.prototype.set=function(a,b){this.order.length===this.size&&delete this.cache[this.order.shift()];this.order.push(a);this.cache[a]={ctx:b,expires:+new Date+this.expires}};e.ActiveContextCache=
function(a){this.order=[];this.cache={};this.size=a||100};e.ActiveContextCache.prototype.get=function(a,b){var d=JSON.stringify(a),e=JSON.stringify(b);return(d=this.cache[d])&&e in d?d[e]:null};e.ActiveContextCache.prototype.set=function(a,b,d){if(this.order.length===this.size){var e=this.order.shift();delete this.cache[e.activeCtx][e.localCtx]}a=JSON.stringify(a);b=JSON.stringify(b);this.order.push({activeCtx:a,localCtx:b});a in this.cache||(this.cache[a]={});this.cache[a][b]=S(d)};e.cache={activeCtx:new e.ActiveContextCache};
e.documentLoaders={};e.documentLoaders.jquery=function(a,b){b=b||{};var d=function(d,c){if(0!==d.indexOf("http:")&&0!==d.indexOf("https:"))return c(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});if(b.secure&&0!==d.indexOf("https"))return c(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",
{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});a.ajax({url:d,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(a,b,g){a={contextUrl:null,documentUrl:d,document:a};b=g.getResponseHeader("Content-Type");if((g=g.getResponseHeader("Link"))&&"application/ld+json"!==b){g=e.parseLinkHeader(g)[ta];if(H(g))return c(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.",
"jsonld.InvalidUrl",{code:"multiple context link headers",url:d}),a);g&&(a.contextUrl=g.target)}c(null,a)},error:function(a,b,e){c(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:d,cause:e}),{contextUrl:null,documentUrl:d,document:null})}})},c="undefined"!==typeof Promise;"usePromise"in b&&(c=b.usePromise);return c?function(a){return e.promisify(d,a)}:d};e.documentLoaders.node=function(a){function b(s,u,m){if(0!==s.indexOf("http:")&&
0!==s.indexOf("https:"))return m(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s}),{contextUrl:null,documentUrl:s,document:null});if(a.secure&&0!==s.indexOf("https"))return m(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s}),{contextUrl:null,documentUrl:s,document:null});var x=n.get(s);if(null!==x)return m(null,
x);g({url:s,headers:{Accept:"application/ld+json, application/json"},strictSSL:d,followRedirect:!1},function(a,d,g){x={contextUrl:null,documentUrl:s,document:g||null};if(a)return m(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:a}),x);var t=f.STATUS_CODES[d.statusCode];if(400<=d.statusCode)return m(new E("URL could not be dereferenced: "+t,"jsonld.InvalidUrl",{code:"loading document failed",url:s,httpStatusCode:d.statusCode}),
x);if(d.headers.link&&"application/ld+json"!==d.headers["content-type"]){t=e.parseLinkHeader(d.headers.link)[ta];if(H(t))return m(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s}),x);t&&(x.contextUrl=t.target)}if(300<=d.statusCode&&400>d.statusCode&&d.headers.location){if(u.length===c)return m(new E("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",
url:s,httpStatusCode:d.statusCode,redirects:u}),x);if(-1!==u.indexOf(s))return m(new E("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:s,httpStatusCode:d.statusCode,redirects:u}),x);u.push(s);return b(d.headers.location,u,m)}u.push(s);for(d=0;d<u.length;++d)n.set(u[d],{contextUrl:null,documentUrl:u[d],document:g});m(a,x)})}a=a||{};var d="strictSSL"in a?a.strictSSL:!0,c="maxRedirects"in a?a.maxRedirects:-1,
g=r("request"),f=r("http"),n=new e.DocumentCache,s=function(a,d){b(a,[],d)};return a.usePromise?function(a){return e.promisify(s,a)}:s};e.documentLoaders.xhr=function(a){var b=/(^|(\r\n))link:/i;a=a||{};var d=function(d,c){if(0!==d.indexOf("http:")&&0!==d.indexOf("https:"))return c(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});if(a.secure&&0!==d.indexOf("https"))return c(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',
"jsonld.InvalidUrl",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null});var g=new (a.xhr||XMLHttpRequest);g.onload=function(a){if(400<=g.status)return c(new E("URL could not be dereferenced: "+g.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:d,httpStatusCode:g.status}),{contextUrl:null,documentUrl:d,document:null});a={contextUrl:null,documentUrl:d,document:g.response};var f=g.getResponseHeader("Content-Type"),n;b.test(g.getAllResponseHeaders())&&
(n=g.getResponseHeader("Link"));if(n&&"application/ld+json"!==f){n=e.parseLinkHeader(n)[ta];if(H(n))return c(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:d}),a);n&&(a.contextUrl=n.target)}c(null,a)};g.onerror=function(){c(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:d}),{contextUrl:null,documentUrl:d,document:null})};
g.open("GET",d,!0);g.setRequestHeader("Accept","application/ld+json, application/json");g.send()},c="undefined"!==typeof Promise;"usePromise"in a&&(c=a.usePromise);return c?function(a){return e.promisify(d,a)}:d};e.useDocumentLoader=function(a){if(!(a in e.documentLoaders))throw new E('Unknown document loader type: "'+a+'"',"jsonld.UnknownDocumentLoader",{type:a});e.documentLoader=e.documentLoaders[a].apply(e,Array.prototype.slice.call(arguments,1))};e.processContext=function(a,b){var d={},c=2;3<
arguments.length&&(d=arguments[2]||{},c+=1);var g=arguments[c];"base"in d||(d.base="");"documentLoader"in d||(d.documentLoader=e.loadDocument);if(null===b)return g(null,R(d));b=S(b);I(b)&&"@context"in b||(b={"@context":b});wa(b,d,function(b,e){if(b)return g(b);try{e=(new Q).processContext(a,e,d)}catch(c){return g(c)}g(null,e)})};e.hasProperty=function(a,b){var d=!1;b in a&&(d=a[b],d=!H(d)||0<d.length);return d};e.hasValue=function(a,b,d){var c=!1;if(e.hasProperty(a,b))if(a=a[b],b=V(a),H(a)||b)for(b&&
(a=a["@list"]),b=0;b<a.length;++b){if(e.compareValues(d,a[b])){c=!0;break}}else H(d)||(c=e.compareValues(d,a));return c};e.addValue=function(a,b,d,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);"allowDuplicate"in c||(c.allowDuplicate=!0);if(H(d)){0!==d.length||!c.propertyIsArray||b in a||(a[b]=[]);for(var g=0;g<d.length;++g)e.addValue(a,b,d[g],c)}else b in a?(g=!c.allowDuplicate&&e.hasValue(a,b,d),H(a[b])||g&&!c.propertyIsArray||(a[b]=[a[b]]),g||a[b].push(d)):a[b]=c.propertyIsArray?[d]:
d};e.getValues=function(a,b){var d=a[b]||[];H(d)||(d=[d]);return d};e.removeProperty=function(a,b){delete a[b]};e.removeValue=function(a,b,d,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);var g=e.getValues(a,b).filter(function(a){return!e.compareValues(a,d)});0===g.length?e.removeProperty(a,b):a[b]=1!==g.length||c.propertyIsArray?g:g[0]};e.compareValues=function(a,b){return a===b||U(a)&&U(b)&&a["@value"]===b["@value"]&&a["@type"]===b["@type"]&&a["@language"]===b["@language"]&&a["@index"]===
b["@index"]?!0:I(a)&&"@id"in a&&I(b)&&"@id"in b?a["@id"]===b["@id"]:!1};e.getContextValue=function(a,b,d){var e=null;if(null===b)return e;"@language"===d&&d in a&&(e=a[d]);a.mappings[b]&&(a=a.mappings[b],X(d)?e=a:d in a&&(e=a[d]));return e};var sa={};e.registerRDFParser=function(a,b){sa[a]=b};e.unregisterRDFParser=function(a){delete sa[a]};if(c){if("undefined"===typeof ma)var ma=null;if("undefined"===typeof ua)var ua={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,
ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var oa="http://www.w3.org/2001/XMLSchema#boolean",ka="http://www.w3.org/2001/XMLSchema#double",pa="http://www.w3.org/2001/XMLSchema#integer",ca="http://www.w3.org/2001/XMLSchema#string",la="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",ta="http://www.w3.org/ns/json-ld#context",xa=10,E=function(a,b,d){c?(Error.call(this),Error.captureStackTrace(this,
this.constructor)):"undefined"!==typeof Error&&(this.stack=Error().stack);this.name=b||"jsonld.Error";this.message=a||"An unspecified JSON-LD error occurred.";this.details=d||{}};c?r("util").inherits(E,Error):"undefined"!==typeof Error&&(E.prototype=Error());var Q=function(){};Q.prototype.compact=function(a,b,d,c){if(H(d)){for(var g=[],f=0;f<d.length;++f){var n=this.compact(a,b,d[f],c);null!==n&&g.push(n)}if(c.compactArrays&&1===g.length){var s=e.getContextValue(a,b,"@container");null===s&&(g=g[0])}return g}if(I(d)){if(c.link&&
"@id"in d&&d["@id"]in c.link)for(g=c.link[d["@id"]],f=0;f<g.length;++f)if(g[f].expanded===d)return g[f].compacted;if(U(d)||Y(d))return g=M(a,b,d),c.link&&Y(d)&&(d["@id"]in c.link||(c.link[d["@id"]]=[]),c.link[d["@id"]].push({expanded:d,compacted:g})),g;f="@reverse"===b;g={};c.link&&"@id"in d&&(d["@id"]in c.link||(c.link[d["@id"]]=[]),c.link[d["@id"]].push({expanded:d,compacted:g}));for(var u=Object.keys(d).sort(),m=0;m<u.length;++m){var x=u[m],t=d[x];if("@id"===x||"@type"===x){var z;if(L(t))z=w(a,
t,null,{vocab:"@type"===x});else{z=[];for(var l=0;l<t.length;++l)z.push(w(a,t[l],null,{vocab:!0}))}x=w(a,x);s=H(z)&&0===t.length;e.addValue(g,x,z,{propertyIsArray:s})}else if("@reverse"===x){z=this.compact(a,"@reverse",t,c);for(n in z)a.mappings[n]&&a.mappings[n].reverse&&(t=z[n],s=e.getContextValue(a,n,"@container"),e.addValue(g,n,t,{propertyIsArray:"@set"===s||!c.compactArrays}),delete z[n]);0<Object.keys(z).length&&(x=w(a,x),e.addValue(g,x,z))}else if("@index"===x)s=e.getContextValue(a,b,"@container"),
"@index"!==s&&(x=w(a,x),e.addValue(g,x,t));else if("@graph"!==x&&"@list"!==x&&N(x))x=w(a,x),e.addValue(g,x,t);else for(0===t.length&&(z=w(a,x,t,{vocab:!0},f),e.addValue(g,z,t,{propertyIsArray:!0})),l=0;l<t.length;++l){var v=t[l];z=w(a,x,v,{vocab:!0},f);var s=e.getContextValue(a,z,"@container"),C=V(v),A=null;C&&(A=v["@list"]);A=this.compact(a,z,C?A:v,c);if(C)if(H(A)||(A=[A]),"@list"!==s)C={},C[w(a,"@list")]=A,A=C,"@index"in v&&(A[w(a,"@index")]=v["@index"]);else if(z in g)throw new E('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',
"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===s||"@index"===s){var q;z in g?q=g[z]:g[z]=q={};"@language"===s&&U(A)&&(A=A["@value"]);e.addValue(q,v[s],A)}else s=!c.compactArrays||"@set"===s||"@list"===s||H(A)&&0===A.length||"@list"===x||"@graph"===x,e.addValue(g,z,A,{propertyIsArray:s})}}return g}return d};Q.prototype.expand=function(a,b,d,c,f){if(null===d||void 0===d)return null;if(!H(d)&&!I(d))return f||null!==b&&"@graph"!==F(a,b,{vocab:!0})?g(a,b,d):null;if(H(d)){var n=
[],s=e.getContextValue(a,b,"@container");f=f||"@list"===s;for(var u=0;u<d.length;++u){var x=this.expand(a,b,d[u],c);if(f&&(H(x)||V(x)))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==x&&(H(x)?n=n.concat(x):n.push(x))}return n}"@context"in d&&(a=this.processContext(a,d["@context"],c));for(var u=F(a,b,{vocab:!0}),n={},x=Object.keys(d).sort(),t=0;t<x.length;++t){var z=x[t],l=d[z];if("@context"!==z){var w=F(a,z,{vocab:!0});if(null!==
w&&(Z(w)||N(w))){if(N(w)){if("@reverse"===u)throw new E("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:l});if(w in n)throw new E("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:w});}if("@id"===w&&!L(l)){if(!c.isFrame)throw new E('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:l});if(!I(l))throw new E('Invalid JSON-LD syntax; "@id" value must be a string or an object.',
"jsonld.SyntaxError",{code:"invalid @id value",value:l});}if("@type"===w){var s=l,v=void 0;(v=L(s))||(v=I(s)&&0===Object.keys(s).length);if(!v){v=!1;if(H(s))for(var v=!0,C=0;C<s.length;++C)if(!L(s[C])){v=!1;break}if(!v)throw new E('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:s});}}if("@graph"===w&&!I(l)&&!H(l))throw new E('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',
"jsonld.SyntaxError",{code:"invalid @graph value",value:l});if("@value"===w&&(I(l)||H(l)))throw new E('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:l});if("@language"===w){if(null===l)continue;if(!L(l))throw new E('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:l});l=l.toLowerCase()}if("@index"===w&&!L(l))throw new E('Invalid JSON-LD syntax; "@index" value must be a string.',
"jsonld.SyntaxError",{code:"invalid @index value",value:l});if("@reverse"===w){if(!I(l))throw new E('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:l});l=this.expand(a,"@reverse",l,c);if("@reverse"in l)for(var A in l["@reverse"])e.addValue(n,A,l["@reverse"][A],{propertyIsArray:!0});z=n["@reverse"]||null;for(A in l)if("@reverse"!==A)for(null===z&&(z=n["@reverse"]={}),e.addValue(z,A,[],{propertyIsArray:!0}),w=l[A],s=0;s<w.length;++s){v=
w[s];if(U(v)||V(v))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:l});e.addValue(z,A,v,{propertyIsArray:!0})}}else{s=e.getContextValue(a,z,"@container");if("@language"===s&&I(l)){for(var v=[],C=Object.keys(l).sort(),q=0;q<C.length;++q){var D=C[q],r=l[D];H(r)||(r=[r]);for(var G=0;G<r.length;++G){var J=r[G];if(!L(J))throw new E("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",
{code:"invalid language map value",languageMap:l});v.push({"@value":J,"@language":D.toLowerCase()})}}l=v}else if("@index"===s&&I(l)){v=z;C=[];q=Object.keys(l).sort();for(D=0;D<q.length;++D)for(r=q[D],G=l[r],H(G)||(G=[G]),G=this.expand(a,v,G,c,!1),J=0;J<G.length;++J){var M=G[J];"@index"in M||(M["@index"]=r);C.push(M)}l=C}else if((v="@list"===w)||"@set"===w){if(C=b,v&&"@graph"===u&&(C=null),l=this.expand(a,C,l,c,v),v&&V(l))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",
{code:"list of lists"});}else l=this.expand(a,z,l,c,!1);if(null!==l||"@value"===w)if("@list"===w||V(l)||"@list"!==s||(l=H(l)?l:[l],l={"@list":l}),a.mappings[z]&&a.mappings[z].reverse)for(z=n["@reverse"]=n["@reverse"]||{},H(l)||(l=[l]),s=0;s<l.length;++s){v=l[s];if(U(v)||V(v))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:l});e.addValue(z,w,v,{propertyIsArray:!0})}else z=-1===["@index","@id",
"@type","@value","@language"].indexOf(w),e.addValue(n,w,l,{propertyIsArray:z})}}}}x=Object.keys(n);a=x.length;if("@value"in n){if("@type"in n&&"@language"in n)throw new E('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:n});d=a-1;"@type"in n&&(d-=1);"@index"in n&&(d-=1);"@language"in n&&(d-=1);if(0!==d)throw new E('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',
"jsonld.SyntaxError",{code:"invalid value object",element:n});if(null===n["@value"])n=null;else{if("@language"in n&&!L(n["@value"]))throw new E("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:n});if("@type"in n&&(!Z(n["@type"])||0===n["@type"].indexOf("_:")))throw new E('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",
element:n});}}else if("@type"in n&&!H(n["@type"]))n["@type"]=[n["@type"]];else if("@set"in n||"@list"in n){if(1<a&&!(2===a&&"@index"in n))throw new E('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:n});"@set"in n&&(n=n["@set"],x=Object.keys(n),a=x.length)}else 1===a&&"@language"in n&&(n=null);!I(n)||c.keepFreeFloatingNodes||f||null!==b&&"@graph"!==
u||!(0===a||"@value"in n||"@list"in n||1===a&&"@id"in n)||(n=null);return n};Q.prototype.createNodeMap=function(a,b){b=b||{};var d=b.namer||new W("_:b"),e={"@default":{}};v(a,e,"@default",d);return J(e)};Q.prototype.flatten=function(a){a=this.createNodeMap(a);for(var b=[],d=Object.keys(a).sort(),e=0;e<d.length;++e){var c=a[d[e]];Y(c)||b.push(c)}return b};Q.prototype.frame=function(a,b,d){d={options:d,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var e=new W("_:b");v(a,d.graphs,"@merged",
e);d.subjects=d.graphs["@merged"];a=[];D(d,Object.keys(d.subjects).sort(),b,a,null);return a};Q.prototype.normalize=function(a,b,d){function c(a){function b(c){if(c===a.length)return g(n,f,d);var s=a[c],m=t(s,u);m in f?(f[m].push(s),d.push(s)):m in n?(f[m]=[n[m],s],d.push(n[m]),d.push(s),delete n[m]):n[m]=s;e.setImmediate(function(){b(c+1)})}var d=[],f={},n={};e.setImmediate(function(){b(0)})}function g(a,b,d){for(var e=!1,n=Object.keys(a).sort(),h=0;h<n.length;++h)q.getName(a[n[h]]),e=!0;e?c(d):
f(b)}function f(a){function b(c){function g(a,e){if(e===a.length){f.sort(function(a,b){a=a.hash;b=b.hash;return a<b?-1:a>b?1:0});for(var n in f)for(var h in f[n].pathNamer.existing)q.getName(h);return b(c+1)}n=a[e];if(q.isNamed(n))return g(a,e+1);h=new W("_:b");h.getName(n);C(n,u,q,h,function(b,c){if(b)return d(b);f.push(c);g(a,e+1)})}if(c===e.length)return n();var f=[];g(a[e[c]],0)}var e=Object.keys(a).sort();b(0)}function n(){for(var a=[],e=0;e<s.length;++e){for(var c=s[e],g=["subject","object",
"name"],f=0;f<g.length;++f){var h=g[f];c[h]&&"blank node"===c[h].type&&0!==c[h].value.indexOf("_:c14n")&&(c[h].value=q.getName(c[h].value))}a.push(qa(c,c.name?c.name.value:null))}a.sort();if(b.format)return"application/nquads"===b.format?d(null,a.join("")):d(new E("Unknown output format.","jsonld.UnknownFormat",{format:b.format}));d(null,ya(a.join("")))}var s=[],u={},m;for(m in a){var x=a[m];"@default"===m&&(m=null);for(var l=0;l<x.length;++l){var z=x[l];null!==m&&(0===m.indexOf("_:")?z.name={type:"blank node",
value:m}:z.name={type:"IRI",value:m});s.push(z);for(var w=["subject","object","name"],v=0;v<w.length;++v){var A=w[v];z[A]&&"blank node"===z[A].type&&(A=z[A].value,A in u?u[A].quads.push(z):u[A]={quads:[z]})}}}var q=new W("_:c14n");return c(Object.keys(u))};Q.prototype.fromRDF=function(a,b,d){var c={},g={"@default":c},f={},n;for(n in a){var s=a[n];n in g||(g[n]={});"@default"===n||n in c||(c[n]={"@id":n});for(var u=g[n],m=0;m<s.length;++m){var x=s[m],t=x.subject.value,l=x.predicate.value,x=x.object;
t in u||(u[t]={"@id":t});var t=u[t],z="IRI"===x.type||"blank node"===x.type;!z||x.value in u||(u[x.value]={"@id":x.value});if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===l&&!b.useRdfType&&z)e.addValue(t,"@type",x.value,{propertyIsArray:!0});else{var w;var v=x,C=b.useNativeTypes;"IRI"===v.type||"blank node"===v.type?w={"@id":v.value}:(w={"@value":v.value},v.language?w["@language"]=v.language:((v=v.datatype)||(v=ca),C?(v===oa?"true"===w["@value"]?w["@value"]=!0:"false"===w["@value"]&&(w["@value"]=
!1):(C=w["@value"],!isNaN(parseFloat(C))&&isFinite(C)&&(v===pa?(C=parseInt(w["@value"],10),C.toFixed(0)===w["@value"]&&(w["@value"]=C)):v===ka&&(w["@value"]=parseFloat(w["@value"])))),-1===[oa,pa,ka,ca].indexOf(v)&&(w["@type"]=v)):v!==ca&&(w["@type"]=v)));e.addValue(t,l,w,{propertyIsArray:!0});z&&("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===x.value?(x=u[x.value],"usages"in x||(x.usages=[]),x.usages.push({node:t,property:l,value:w})):f[x.value]=x.value in f?!1:{node:t,property:l,value:w})}}}for(n in g)if(b=
g[n],"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"in b){s=b["http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"];for(a=0;a<s.usages.length;++a){x=s.usages[a];t=x.node;m=x.property;x=x.value;l=[];u=[];for(z=Object.keys(t).length;"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"===m&&I(f[t["@id"]])&&H(t["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"])&&1===t["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"].length&&H(t["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"])&&1===t["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"].length&&
(3===z||4===z&&H(t["@type"])&&1===t["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===t["@type"][0])&&(l.push(t["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"][0]),u.push(t["@id"]),x=f[t["@id"]],t=x.node,m=x.property,x=x.value,z=Object.keys(t).length,0===t["@id"].indexOf("_:")););if("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"===m){if("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===t["@id"])continue;x=b[x["@id"]]["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"][0];
l.pop();u.pop()}delete x["@id"];x["@list"]=l.reverse();for(t=0;t<u.length;++t)delete b[u[t]]}delete s.usages}f=[];n=Object.keys(c).sort();for(a=0;a<n.length;++a){b=n[a];t=c[b];if(b in g)for(s=t["@graph"]=[],b=g[b],u=Object.keys(b).sort(),m=0;m<u.length;++m)l=b[u[m]],Y(l)||s.push(l);Y(t)||f.push(t)}d(null,f)};Q.prototype.toRDF=function(a,b){var d=new W("_:b"),e={"@default":{}};v(a,e,"@default",d);for(var c={},g=Object.keys(e).sort(),f=0;f<g.length;++f){var h=g[f];if("@default"===h||Z(h)){for(var s=
c,u=h,h=e[h],m=d,x=b,t=[],l=Object.keys(h).sort(),z=0;z<l.length;++z)for(var w=l[z],C=h[w],A=Object.keys(C).sort(),q=0;q<A.length;++q){var D=A[q],r=C[D];if("@type"===D)D="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";else if(N(D))continue;for(var G=0;G<r.length;++G){var J=r[G],M={};M.type=0===w.indexOf("_:")?"blank node":"IRI";M.value=w;if(Z(w)){var K={};K.type=0===D.indexOf("_:")?"blank node":"IRI";K.value=D;if(Z(D)&&("blank node"!==K.type||x.produceGeneralizedRdf))if(V(J)){for(var J=J["@list"],
P=m,F=t,y={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},T={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},ea=0;ea<J.length;++ea){var B=J[ea],E={type:"blank node",value:P.getName()};F.push({subject:M,predicate:K,object:E});M=E;K=y;(B=n(B))&&F.push({subject:M,predicate:K,object:B});K=T}F.push({subject:M,predicate:K,object:{type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})}else(J=n(J))&&t.push({subject:M,predicate:K,object:J})}}}s[u]=t}}return c};
Q.prototype.processContext=function(a,b,d){I(b)&&"@context"in b&&H(b["@context"])&&(b=b["@context"]);b=H(b)?b:[b];if(0===b.length)return a.clone();for(var c=a,g=0;g<b.length;++g){var f=b[g];if(null===f)c=a=R(d);else{I(f)&&"@context"in f&&(f=f["@context"]);if(!I(f))throw new E("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:f});if(e.cache.activeCtx&&(a=e.cache.activeCtx.get(a,f))){c=a;continue}a=c;var c=c.clone(),n={};if("@base"in f){var s=
f["@base"];if(null===s)s=null;else{if(!L(s))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:f});if(""!==s&&!Z(s))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:f});}null!==s&&(s=e.url.parse(s||""));c["@base"]=s;n["@base"]=!0}if("@vocab"in f){s=f["@vocab"];if(null===s)delete c["@vocab"];
else if(L(s))if(Z(s))c["@vocab"]=s;else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});n["@vocab"]=!0}if("@language"in f){s=f["@language"];if(null===s)delete c["@language"];else if(L(s))c["@language"]=s.toLowerCase();else throw new E('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',
"jsonld.SyntaxError",{code:"invalid default language",context:f});n["@language"]=!0}for(var u in f)P(c,f,u,n);e.cache.activeCtx&&e.cache.activeCtx.set(a,f,c)}}return c};Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var b=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.push(d);return b});e.registerRDFParser("application/nquads",ya);e.registerRDFParser("rdfa-api",function(a){for(var b={"@default":[]},d=a.getSubjects(),e=0;e<
d.length;++e){var c=d[e];if(null!==c){var g=a.getSubjectTriples(c);if(null!==g){var g=g.predicates,f;for(f in g)for(var n=g[f].objects,h=0;h<n.length;++h){var s=n[h],u={};0===c.indexOf("_:")?u.subject={type:"blank node",value:c}:u.subject={type:"IRI",value:c};0===f.indexOf("_:")?u.predicate={type:"blank node",value:f}:u.predicate={type:"IRI",value:f};var m=s.value;if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===s.type){ma||(ma=r("xmldom").XMLSerializer);for(var x=new ma,m="",t=0;t<s.value.length;t++)s.value[t].nodeType===
ua.ELEMENT_NODE?m+=x.serializeToString(s.value[t]):s.value[t].nodeType===ua.TEXT_NODE&&(m+=s.value[t].nodeValue)}u.object={};"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===s.type?0===s.value.indexOf("_:")?u.object.type="blank node":u.object.type="IRI":(u.object.type="literal","http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"===s.type?s.language?(u.object.datatype=la,u.object.language=s.language):u.object.datatype=ca:u.object.datatype=s.type);u.object.value=m;b["@default"].push(u)}}}}return b});
e.UniqueNamer=W;W.prototype.clone=function(){var a=new W(this.prefix);a.counter=this.counter;a.existing=S(this.existing);return a};W.prototype.getName=function(a){if(a&&a in this.existing)return this.existing[a];var b=this.prefix+this.counter;this.counter+=1;a&&(this.existing[a]=b);return b};W.prototype.isNamed=function(a){return a in this.existing};var ra=function(a){this.list=a.sort();this.done=!1;this.left={};for(var b=0;b<a.length;++b)this.left[a[b]]=!0};ra.prototype.hasNext=function(){return!this.done};
ra.prototype.next=function(){for(var a=this.list.slice(),b=null,d=0,e=this.list.length,c=0;c<e;++c){var g=this.list[c],f=this.left[g];(null===b||g>b)&&(f&&0<c&&g>this.list[c-1]||!f&&c<e-1&&g>this.list[c+1])&&(b=g,d=c)}if(null===b)this.done=!0;else for(c=this.left[b]?d-1:d+1,this.list[d]=this.list[c],this.list[c]=b,c=0;c<e;++c)this.list[c]>b&&(this.left[this.list[c]]=!this.left[this.list[c]]);return a};var O=e.sha1={};if(c){var za=r("crypto");O.create=function(){var a=za.createHash("sha1");return{update:function(b){a.update(b,
"utf8")},digest:function(){return a.digest("hex")}}}}else O.create=function(){return new O.MessageDigest};O.hash=function(a){for(var b=O.create(),d=0;d<a.length;++d)b.update(a[d]);return b.digest()};if(!c){O.Buffer=function(){this.data="";this.read=0};O.Buffer.prototype.putInt32=function(a){this.data+=String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};O.Buffer.prototype.getInt32=function(){var a=this.data.charCodeAt(this.read)<<
24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return a};O.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};O.Buffer.prototype.length=function(){return this.data.length-this.read};O.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};O.Buffer.prototype.toHex=function(){for(var a="",b=this.read;b<this.data.length;++b){var d=this.data.charCodeAt(b);16>d&&(a+="0");a+=d.toString(16)}return a};
O.MessageDigest=function(){aa.initialized||aa.init();this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new O.Buffer;this.words=Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};O.MessageDigest.prototype.update=function(a){a=unescape(encodeURIComponent(a));this.messageLength+=a.length;this.input.data+=a;aa.update(this.state,this.words,this.input);(2048<this.input.read||0===this.input.length())&&this.input.compact()};O.MessageDigest.prototype.digest=
function(){var a=this.messageLength,b=new O.Buffer;b.data+=this.input.bytes();b.data+=aa.padding.substr(0,64-(a+8)%64);b.putInt32(a>>>29&255);b.putInt32(a<<3&4294967295);aa.update(this.state,this.words,b);a=new O.Buffer;a.putInt32(this.state.h0);a.putInt32(this.state.h1);a.putInt32(this.state.h2);a.putInt32(this.state.h3);a.putInt32(this.state.h4);return a.toHex()};var aa={padding:null,initialized:!1,init:function(){aa.padding=String.fromCharCode(128);for(var a=String.fromCharCode(0),b=64;0<b;)b&
1&&(aa.padding+=a),b>>>=1,0<b&&(a+=a);aa.initialized=!0},update:function(a,b,d){for(var e,c,g,f,n,h,s,u,m=d.length();64<=m;){c=a.h0;g=a.h1;f=a.h2;n=a.h3;h=a.h4;for(u=0;16>u;++u)e=d.getInt32(),b[u]=e,s=n^g&(f^n),e=(c<<5|c>>>27)+s+h+1518500249+e,h=n,n=f,f=g<<30|g>>>2,g=c,c=e;for(;20>u;++u)e=b[u-3]^b[u-8]^b[u-14]^b[u-16],e=e<<1|e>>>31,b[u]=e,s=n^g&(f^n),e=(c<<5|c>>>27)+s+h+1518500249+e,h=n,n=f,f=g<<30|g>>>2,g=c,c=e;for(;32>u;++u)e=b[u-3]^b[u-8]^b[u-14]^b[u-16],e=e<<1|e>>>31,b[u]=e,s=g^f^n,e=(c<<5|c>>>
27)+s+h+1859775393+e,h=n,n=f,f=g<<30|g>>>2,g=c,c=e;for(;40>u;++u)e=b[u-6]^b[u-16]^b[u-28]^b[u-32],e=e<<2|e>>>30,b[u]=e,s=g^f^n,e=(c<<5|c>>>27)+s+h+1859775393+e,h=n,n=f,f=g<<30|g>>>2,g=c,c=e;for(;60>u;++u)e=b[u-6]^b[u-16]^b[u-28]^b[u-32],e=e<<2|e>>>30,b[u]=e,s=g&f|n&(g^f),e=(c<<5|c>>>27)+s+h+2400959708+e,h=n,n=f,f=g<<30|g>>>2,g=c,c=e;for(;80>u;++u)e=b[u-6]^b[u-16]^b[u-28]^b[u-32],e=e<<2|e>>>30,b[u]=e,s=g^f^n,e=(c<<5|c>>>27)+s+h+3395469782+e,h=n,n=f,f=g<<30|g>>>2,g=c,c=e;a.h0+=c;a.h1+=g;a.h2+=f;a.h3+=
n;a.h4+=h;m-=64}}}}e.url={};e.url.parsers={simple:{keys:"href scheme authority path query fragment".split(" "),regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:"href protocol scheme authority auth user password hostname port path directory file query fragment".split(" "),regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};e.url.parse=function(a,b){for(var d={},c=e.url.parsers[b||
"full"],g=c.regex.exec(a),f=c.keys.length;f--;)d[c.keys[f]]=void 0===g[f]?null:g[f];d.normalizedPath=va(d.path,!!d.authority);return d};c?e.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&e.useDocumentLoader("xhr");c&&(e.use=function(a){switch(a){case "request":e.request=r("./request");break;default:throw new E("Unknown extension.","jsonld.UnknownExtension",{extension:a});}},da={exports:{},filename:b},r("pkginfo")(da,"version"),e.version=da.exports.version);return e},g=function(){return e(function(){return g()})};
e(g);"function"===typeof r&&"undefined"!==typeof B&&B.exports&&(B.exports=g);a&&("undefined"===typeof jsonld?jsonld=jsonldjs=g:jsonldjs=g);return g})()}).call(this,r("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},"/../node_modules/jsonld/js")},{"./request":31,"1YiZ5S":13,crypto:31,"es6-promise":33,http:31,pkginfo:34,request:31,util:31,xmldom:31}],33:[function(r,B,y){(function(l,q){(function(){function b(a){return"function"===typeof a}function c(){return function(){l.nextTick(h)}}
function a(){var a=0,b=new P(h),d=document.createTextNode("");b.observe(d,{characterData:!0});return function(){d.data=a=++a%2}}function e(){var a=new MessageChannel;a.port1.onmessage=h;return function(){a.port2.postMessage(0)}}function g(){return function(){setTimeout(h,1)}}function h(){for(var a=0;a<z;a+=2)(0,F[a])(F[a+1]),F[a]=void 0,F[a+1]=void 0;z=0}function d(){}function f(a,b,d,e){try{a.call(b,d,e)}catch(c){return c}}function m(a,b,d){w(function(a){var e=!1,c=f(d,b,function(d){e||(e=!0,b!==
d?t(a,d):A(a,d))},function(b){e||(e=!0,v(a,b))},"Settle: "+(a._label||" unknown promise"));!e&&c&&(e=!0,v(a,c))},a)}function n(a,b){b._state===N?A(a,b._result):a._state===I?v(a,b._result):r(b,void 0,function(b){t(a,b)},function(b){v(a,b)})}function t(a,d){if(a===d)v(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof d||"object"===typeof d&&null!==d)if(d.constructor===a.constructor)n(a,d);else{var e;try{e=d.then}catch(c){H.error=c,e=H}e===H?v(a,H.error):void 0===
e?A(a,d):b(e)?m(a,d,e):A(a,d)}else A(a,d)}function C(a){a._onerror&&a._onerror(a._result);D(a)}function A(a,b){a._state===R&&(a._result=b,a._state=N,0!==a._subscribers.length&&w(D,a))}function v(a,b){a._state===R&&(a._state=I,a._result=b,w(C,a))}function r(a,b,d,e){var c=a._subscribers,g=c.length;a._onerror=null;c[g]=b;c[g+N]=d;c[g+I]=e;0===g&&a._state&&w(D,a)}function D(a){var b=a._subscribers,d=a._state;if(0!==b.length){for(var e,c,g=a._result,f=0;f<b.length;f+=3)e=b[f],c=b[f+d],e?K(d,e,c,g):c(g);
a._subscribers.length=0}}function G(){this.error=null}function K(a,d,e,c){var g=b(e),f,n,h,s;if(g){try{f=e(c)}catch(u){L.error=u,f=L}f===L?(s=!0,n=f.error,f=null):h=!0;if(d===f){v(d,new TypeError("A promises callback cannot return that same promise."));return}}else f=c,h=!0;d._state===R&&(g&&h?t(d,f):s?v(d,n):a===N?A(d,f):a===I&&v(d,f))}function y(a,b){try{b(function(b){t(a,b)},function(b){v(a,b)})}catch(d){v(a,d)}}function s(a,b,e,c){this._instanceConstructor=a;this.promise=new a(d,c);this._abortOnReject=
e;this._validateInput(b)?(this._input=b,this._remaining=this.length=b.length,this._init(),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):v(this.promise,this._validationError())}function u(a){this._id=ia++;this._result=this._state=void 0;this._subscribers=[];if(d!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof u))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
y(this,a)}}var x=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},z=0,w=function(a,b){F[z]=a;F[z+1]=b;z+=2;2===z&&ba()},M="undefined"!==typeof window?window:{},P=M.MutationObserver||M.WebKitMutationObserver,M="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,F=Array(1E3),ba;ba="undefined"!==typeof l&&"[object process]"==={}.toString.call(l)?c():P?a():M?e():g();var R=void 0,N=1,I=2,H=new G,
L=new G;s.prototype._validateInput=function(a){return x(a)};s.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};s.prototype._init=function(){this._result=Array(this.length)};s.prototype._enumerate=function(){for(var a=this.length,b=this.promise,d=this._input,e=0;b._state===R&&e<a;e++)this._eachEntry(d[e],e)};s.prototype._eachEntry=function(a,b){var d=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===d&&a._state!==R?(a._onerror=null,
this._settledAt(a._state,b,a._result)):this._willSettleAt(d.resolve(a),b):(this._remaining--,this._result[b]=this._makeResult(N,b,a))};s.prototype._settledAt=function(a,b,d){var e=this.promise;e._state===R&&(this._remaining--,this._abortOnReject&&a===I?v(e,d):this._result[b]=this._makeResult(a,b,d));0===this._remaining&&A(e,this._result)};s.prototype._makeResult=function(a,b,d){return d};s.prototype._willSettleAt=function(a,b){var d=this;r(a,void 0,function(a){d._settledAt(N,b,a)},function(a){d._settledAt(I,
b,a)})};var ia=0;u.all=function(a,b){return(new s(this,a,!0,b)).promise};u.race=function(a,b){function e(a){t(g,a)}function c(a){v(g,a)}var g=new this(d,b);if(!x(a))return v(g,new TypeError("You must pass an array to race.")),g;for(var f=a.length,n=0;g._state===R&&n<f;n++)r(this.resolve(a[n]),void 0,e,c);return g};u.resolve=function(a,b){if(a&&"object"===typeof a&&a.constructor===this)return a;var e=new this(d,b);t(e,a);return e};u.reject=function(a,b){var e=new this(d,b);v(e,a);return e};u.prototype=
{constructor:u,then:function(a,b){var e=this._state;if(e===N&&!a||e===I&&!b)return this;var c=new this.constructor(d),g=this._result;if(e){var f=arguments[e-1];w(function(){K(e,c,f,g)})}else r(this,c,a,b);return c},"catch":function(a){return this.then(null,a)}};M={Promise:u,polyfill:function(){var a;a="undefined"!==typeof q?q:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var d;
new a.Promise(function(a){d=a});return b(d)}()||(a.Promise=u)}};"undefined"!==typeof B&&B.exports?B.exports=M:"undefined"!==typeof this&&(this.ES6Promise=M)}).call(this)}).call(this,r("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"1YiZ5S":13}],34:[function(r,B,y){(function(l){var q=r("fs"),b=r("path"),c=B.exports=function(a,b){var g=[].slice.call(arguments,2).filter(function(a){return"string"===typeof a});Array.isArray(b)?b={include:b}:"string"===typeof b&&(b={include:[b]});
b=b||{};b.include=b.include||[];0<g.length&&(b.include=b.include.concat(g));var h=c.read(a,b.dir).package;Object.keys(h).forEach(function(d){0<b.include.length&&!~b.include.indexOf(d)||a.exports[d]||(a.exports[d]=h[d])});return c};c.find=function(a,e){e||(e=b.dirname(a.filename));if(~q.readdirSync(e).indexOf("package.json"))return b.join(e,"package.json");if("/"===e)throw Error("Could not find package.json up from: "+e);if(!e||"."===e)throw Error("Cannot find package.json from unspecified directory");
return c.find(a,b.dirname(e))};c.read=function(a,b){b=c.find(a,b);var g=q.readFileSync(b).toString();return{dir:b,package:JSON.parse(g)}};c(B,{dir:l,include:["version"],target:c})}).call(this,"/../node_modules/jsonld/node_modules/pkginfo/lib")},{fs:1,path:12}],35:[function(r,B,y){function l(a){if(!(this instanceof l))return new l(a);if(a&&a.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var b=this;this._tokenize=this.tokenize;this.tokenize=function(a,e){this._tokenize(a,function(a,
d){!a&&/IRI|prefixed|literal|langcode|type|\.|eof/.test(d.type)?e&&e(a,d):e&&e(a||b._syntaxError(d.type,e=null))})}}}var q=String.fromCharCode,b="function"===typeof setImmediate?setImmediate:function(a){setTimeout(a,0)},c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},e=/[\x00-\x20<>\\"\{\}\|\^\`]/;
l.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,
_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,
_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,
_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(a,b){function d(b){a(b._syntaxError(/^\S*/.exec(c)[0]))}for(var c=this._input;;){for(var m;m=this._newline.exec(c);)c=c.substr(m[0].length,c.length),this._line++;if(m=this._whitespace.exec(c))c=c.substr(m[0].length,c.length);if(this._endOfFile.test(c))return b&&
a(c=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=c;m=this._line;var n="",t="",l="",A=c[0],v=null,q=0,D=!1;switch(A){case "^":if(1===c.length)break;else if("^"!==c[1])return d(this);this._prevTokenType="^";c=c.substr(2);if("<"!==c[0]){D=!0;break}case "<":if(v=this._unescapedIri.exec(c))n="IRI",t=v[1];else if(v=this._iri.exec(c)){t=this._unescape(v[1]);if(null===t||e.test(t))return d(this);n="IRI"}break;case "_":if((v=this._blank.exec(c))||b&&(v=this._blank.exec(c+" ")))n="prefixed",
l="_",t=v[1];break;case '"':case "'":if(v=this._unescapedString.exec(c))n="literal",t=v[0];else if(v=this._singleQuotedString.exec(c)){t=this._unescape(v[0]);if(null===t)return d(this);n="literal";t=t.replace(/^'|'$/g,'"')}else if(v=this._tripleQuotedString.exec(c)){t=v[1]||v[2];this._line+=t.split(/\r\n|\r|\n/).length-1;t=this._unescape(t);if(null===t)return d(this);n="literal";t=t.replace(/^'|'$/g,'"')}break;case "@":if("literal"===this._prevTokenType&&(v=this._langcode.exec(c)))n="langcode",t=
v[1];else if(v=this._keyword.exec(c))n=v[0];break;case ".":if(1===c.length?b:"0">c[1]||"9"<c[1]){n=".";q=1;break}case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "+":case "-":if(v=this._number.exec(c))n="literal",t='"'+v[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(v[1]?"double":/^[+\-]?\d+$/.test(v[0])?"integer":"decimal");break;case "B":case "b":case "p":case "P":case "G":case "g":(v=this._sparqlKeyword.exec(c))?n=v[0].toUpperCase():D=!0;break;case "f":case "t":(v=
this._boolean.exec(c))?(n="literal",t='"'+v[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):D=!0;break;case "a":(v=this._shortPredicates.exec(c))?(n="abbreviation",t="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):D=!0;break;case ",":case ";":case "[":case "]":case "(":case ")":case "{":case "}":q=1;n=A;break;default:D=!0}if(D)if(("@prefix"===this._prevTokenType||"PREFIX"===this._prevTokenType)&&(v=this._prefix.exec(c)))n="prefix",t=v[1]||"";else if((v=this._prefixed.exec(c))||b&&(v=this._prefixed.exec(c+
" ")))n="prefixed",l=v[1]||"",t=this._unescape(v[2]);"^"===this._prevTokenType&&(n="IRI"===n||"prefixed"===n?"type":"");if(!n)return b||!/^'''|^"""/.test(c)&&/\n|\r/.test(c)?d(this):this._input=c;a(null,{line:m,type:n,value:t,prefix:l});this._prevTokenType=n;c=c.substr(q||v[0].length,c.length)}},_unescape:function(b){try{return b.replace(c,function(b,e,c,g){if(e){b=parseInt(e,16);if(isNaN(b))throw Error();return q(b)}if(c){b=parseInt(c,16);if(isNaN(b))throw Error();return 65535>=b?q(b):q(55296+(b-=
65536)/1024,56320+(b&1023))}b=a[g];if(!b)throw Error();return b})}catch(e){return null}},_syntaxError:function(a){this._input=null;return Error('Syntax error: unexpected "'+a+'" on line '+this._line+".")},tokenize:function(a,e){function d(a){null!==m._input&&(m._input+=a,m._tokenizeToEnd(e,!1))}function c(){null!==m._input&&m._tokenizeToEnd(e,!0)}var m=this;this._line=1;"string"===typeof a?(this._input=a,b(function(){m._tokenizeToEnd(e,!0)})):(this._input="",a&&"function"!==typeof a?("function"===
typeof a.setEncoding&&a.setEncoding("utf8"),a.on("data",d),a.on("end",c)):(this.addChunk=d,this.end=c,e||(e=a)))}};B.exports=l},{}],36:[function(r,B,y){function l(d){if(!(this instanceof l))return new l(d);this._tripleStack=[];this._graph=null;d=d||{};if(d.documentIRI){if(0<d.documentIRI.indexOf("#"))throw Error("Invalid document IRI");this._baseIRI=d.documentIRI;this._baseIRIPath=this._baseIRI.replace(a,"");this._baseIRIRoot=this._baseIRI.match(e)[0]}else this._baseIRIPath=this._baseIRI=null;var c=
"string"===typeof d.format&&d.format.match(/\w*$/)[0].toLowerCase(),g="turtle"===c,n="trig"===c,h=/triple/.test(c),c=/quad/.test(c),c=h||c;(this._supportsNamedGraphs=!g)||(this._readPredicateOrNamedGraph=this._readPredicate);this._supportsQuads=!(g||n||h);c&&(this._baseIRI="",this._resolveIRI=function(a){this._error("Disallowed relative IRI",a);return this._callback=q,this._subject=null});this._blankNodePrefix="string"!==typeof d.blankNodePrefix?"":"_:"+d.blankNodePrefix.replace(/^_:/,"");this._lexer=
d.lexer||new b({lineMode:c})}function q(){}var b=r("./N3Lexer"),c=/:/,a=/[^\/]*$/,e=/^(?:[^:]+:\/*)?[^\/]*/,g=0,h=0;l._resetBlankNodeIds=function(){g=h=0};l.prototype={_readInTopContext:function(a){switch(a.type){case "eof":if(null!==this._graph)return this._error("Unclosed graph",a);delete this._prefixes._;return this._callback(null,null,this._prefixes);case "@prefix":return this._sparqlStyle=!1,this._readPrefix;case "PREFIX":return this._sparqlStyle=!0,this._readPrefix;case "@base":return this._sparqlStyle=
!1,this._readBaseIRI;case "BASE":return this._sparqlStyle=!0,this._readBaseIRI;case "{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case "GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(a)}},_readSubject:function(a){this._predicate=null;switch(a.type){case "IRI":null===this._baseIRI||c.test(a.value)?this._subject=a.value:this._subject=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];
if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._subject=b+a.value;break;case "[":return this._subject="_:b"+h++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case "}":return this._readPunctuation(a);default:return this._error("Expected subject but got "+
a.type,a)}return this._readPredicateOrNamedGraph},_readPredicate:function(a){var b=a.type;switch(b){case "IRI":case "abbreviation":null===this._baseIRI||c.test(a.value)?this._predicate=a.value:this._predicate=this._resolveIRI(a);break;case "prefixed":if("_"===a.prefix)return this._error("Disallowed blank node as predicate",a);b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._predicate=b+a.value;break;case ".":case "]":case "}":if(null===this._predicate)return this._error("Unexpected "+
b,a);this._subject=null;return"]"===b?this._readBlankNodeTail(a):this._readPunctuation(a);case ";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',a)}return this._readObject},_readObject:function(a){switch(a.type){case "IRI":null===this._baseIRI||c.test(a.value)?this._object=a.value:this._object=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._object=
b+a.value;break;case "literal":return this._object=a.value,this._readDataTypeOrLang;case "[":return a="_:b"+h++,this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:"blank"}),this._subject=a,this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+
this._predicate+'"',a)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(a){return"{"===a.type?this._readGraph(a):this._readPredicate(a)},_readGraph:function(a){if("{"!==a.type)return this._error("Expected graph but got "+a.type,a);this._graph=this._subject;this._subject=null;return this._readSubject},_readBlankNodeHead:function(a){if("]"===a.type)return this._subject=null,this._readBlankNodeTail(a);this._predicate=null;return this._readPredicate(a)},_readBlankNodeTail:function(a){if("]"!==
a.type)return this._readBlankNodePunctuation(a);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});a=this._tripleStack.pop();this._subject=a.subject;return null!==a.object?(this._predicate=a.predicate,this._object=a.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(a){switch(a.type){case "type":if(""===a.prefix)a=null===this._baseIRI||
c.test(a.value)?a.value:this._resolveIRI(a);else{var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);a=b+a.value}this._object+="^^"+a;return this._getTripleEndReader();case "langcode":return this._object+="@"+a.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,a)}},_readListItem:function(a){var b=null,e=null,c=this._subject,g=this._tripleStack,l=g[g.length-1],A=this._readListItem;switch(a.type){case "IRI":b=
a.value;break;case "prefixed":b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);b+=a.value;break;case "literal":b=a.value;A=this._readDataTypeOrLang;break;case "[":e="_:b"+h++;b="_:b"+h++;g.push({subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,type:"blank"});this._subject=b;A=this._readBlankNodeHead;break;case "(":e="_:b"+h++;g.push({subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",
type:"list"});this._subject=null;A=this._readListItem;break;case ")":g.pop();0!==g.length&&"list"===g[g.length-1].type&&this._callback(null,{subject:l.subject,predicate:l.predicate,object:l.object,graph:this._graph||""});this._subject=l.subject;if(null===l.predicate){if(A=this._readPredicate,"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===l.subject)return A}else if(this._predicate=l.predicate,this._object=l.object,A=this._getTripleEndReader(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===
l.object)return A;e="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";break;default:return this._error('Expected list item instead of "'+a.type+'"',a)}null===e&&(this._subject=e="_:b"+h++);null===c?"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===l.object?l.object=e:l.subject=e:this._callback(null,{subject:c,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",object:e,graph:this._graph||""});null!==b&&this._callback(null,{subject:e,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",
object:b,graph:this._graph||""});return A},_readPunctuation:function(a){var b=this._subject,e=this._graph;switch(a.type){case "}":if(null===this._graph)return this._error("Unexpected graph closing",a);this._graph=null;case ".":this._subject=null;a=this._readInTopContext;break;case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;case "IRI":if(this._supportsQuads&&null===this._graph){e=null===this._baseIRI||c.test(a.value)?a.value:this._resolveIRI(a);b=this._subject;a=this._readQuadPunctuation;
break}case "prefixed":if(this._supportsQuads&&null===this._graph){e=this._prefixes[a.prefix];if(void 0===e)return this._error('Undefined prefix "'+a.prefix+':"',a);e+=a.value;a=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}null!==b&&this._callback(null,{subject:b,predicate:this._predicate,object:this._object,graph:e||""});return a},_readBlankNodePunctuation:function(a){switch(a.type){case ";":a=this._readPredicate;break;case ",":a=
this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});return a},_readQuadPunctuation:function(a){return"."!==a.type?this._error("Expected dot to follow quad",a):this._readInTopContext},_readPrefix:function(a){if("prefix"!==a.type)return this._error("Expected prefix to follow @prefix",a);this._prefix=a.value;return this._readPrefixIRI},
_readPrefixIRI:function(a){if("IRI"!==a.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',a);a=null===this._baseIRI||c.test(a.value)?a.value:this._resolveIRI(a);this._prefixes[this._prefix]=a;this._prefixCallback(this._prefix,a);return this._readDeclarationPunctuation},_readBaseIRI:function(b){if("IRI"!==b.type)return this._error("Expected IRI to follow base declaration",b);if(0<b.value.indexOf("#"))return this._error("Invalid base IRI",b);null===this._baseIRI||c.test(b.value)?
this._baseIRI=b.value:this._baseIRI=this._resolveIRI(b);this._baseIRIPath=this._baseIRI.replace(a,"");this._baseIRIRoot=this._baseIRI.match(e)[0];return this._readDeclarationPunctuation},_readNamedGraphLabel:function(a){switch(a.type){case "IRI":case "prefixed":return this._readSubject(a),this._readGraph;case "[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",a)}},_readNamedGraphBlankLabel:function(a){if("]"!==a.type)return this._error("Invalid graph label",
a);this._subject="_:b"+h++;return this._readGraph},_readDeclarationPunctuation:function(a){return this._sparqlStyle?this._readInTopContext(a):"."!==a.type?this._error("Expected declaration to end with a dot",a):this._readInTopContext},_getTripleEndReader:function(){var a=this._tripleStack;if(0===a.length)return this._readPunctuation;switch(a[a.length-1].type){case "blank":return this._readBlankNodeTail;case "list":return this._readListItem}},_error:function(a,b){this._callback(Error(a+" at line "+
b.line+"."))},_resolveIRI:function(a){a=a.value;switch(a[0]){case void 0:return this._baseIRI;case "#":return this._baseIRI+a;case "?":return this._baseIRI.replace(/(?:\?.*)?$/,a);case "/":return this._baseIRIRoot+a;default:return this._baseIRIPath+a}},parse:function(a,b,e){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._=this._blankNodePrefix||"_:b"+g++ +"_";"function"===typeof a&&(e=b,b=a,a=null);this._callback=b||q;this._prefixCallback=e||q;var c=this;
this._lexer.tokenize(a,function(a,b){null!==a?(c._callback(a),c._callback=q):void 0!==c._readCallback&&(c._readCallback=c._readCallback(b))});a||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}};B.exports=l},{"./N3Lexer":35}],37:[function(r,B,y){function l(a,b){this.name="NonSupportedSparqlFeatureError";this.feature=a;this.message=b||"SPARQL feature "+a+" non supported"}function q(a){this.name=ParserError;this.message=a||"Error parsing SPARQL query"}var b=r("./parser"),c=r("./utils");
l.prototype=Error();l.constructor=l;q.prototype=Error();q.constructor=q;AbstractQueryTree=function(){};AbstractQueryTree.prototype.parseQueryString=function(a){return b.parse(a)};AbstractQueryTree.prototype.parseExecutableUnit=function(a){if("select"===a.kind||"ask"===a.kind||"modify"===a.kind||"construct"===a.kind)return this.parseSelect(a);if("insertdata"===a.kind||"deletedata"===a.kind)return this.parseInsertData(a);if("load"===a.kind||"clear"===a.kind||"drop"===a.kind||"create"===a.kind)return a;
throw Error("unknown executable unit: "+a.kind);};AbstractQueryTree.prototype.parseSelect=function(a){if(null==a)return console.log("error parsing query"),null;a.pattern=this.build(a.pattern,{freshCounter:0});return a};AbstractQueryTree.prototype.parseInsertData=function(a){return null==a?(console.log("error parsing query"),null):a};AbstractQueryTree.prototype.build=function(a,b){if("groupgraphpattern"===a.token)return this._buildGroupGraphPattern(a,b);if("basicgraphpattern"===a.token){var c={kind:"BGP",
value:a.triplesContext};return c=AbstractQueryTree.translatePathExpressionsInBGP(c,b)}if("graphunionpattern"===a.token){var c=this.build(a.value[0],b),h=this.build(a.value[1],b);return{kind:"UNION",value:[c,h]}}if("graphgraphpattern"===a.token)return{kind:"GRAPH",value:this.build(a.value,b),graph:a.graph};if(null!=a.token)throw new l(a.token,"Non implemented SPARQL graph pattern: '"+a.token+"'");throw new q("Error parsing graph pattern: '"+JSON.stringify(a)+"'");};AbstractQueryTree.translatePathExpressionsInBGP=
function(a,b){var g,h=[],d,f;for(f=0;f<a.value.length;f++)if(a.value[f].predicate&&"path"===a.value[f].predicate.token){g=a.value[f];d=a.value.slice(f+1);var m=AbstractQueryTree.translatePathExpression(g,b);g=null;if("BGP"===m.kind)h=h.concat(m.value);else{if("ZERO_OR_MORE_PATH"===m.kind||"ONE_OR_MORE_PATH"===m.kind){f=0<h.length?{kind:"JOIN",lvalue:{kind:"BGP",value:h},rvalue:m}:m;if("ZERO_OR_MORE_PATH"===m.kind)if("var"===m.y.token&&0===m.y.value.indexOf("fresh:")&&"var"===m.x.token&&0===m.x.value.indexOf("fresh:"))for(var n=
0;n<a.value.length;n++)a.value[n].object&&"var"===a.value[n].object.token&&a.value[n].object.value===m.x.value&&(g=c.clone(a.value[n],!0),g.object=m.y);else if("var"===m.y.token&&0===m.y.value.indexOf("fresh:"))for(n=0;n<a.value.length;n++)a.value[n].subject&&"var"===a.value[n].subject.token&&a.value[n].subject.value===m.y.value&&(g=c.clone(a.value[n],!0),g.subject=m.x);return 0<d.length?(m=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:d},b),null!=g?(h=h.concat([g]).concat(d),
{kind:"UNION",value:[{kind:"JOIN",lvalue:f,rvalue:m},{kind:"BGP",value:h}]}):{kind:"JOIN",lvalue:f,rvalue:m}):f}return m}}else h.push(a.value[f]);a.value=h;return a};AbstractQueryTree.translatePathExpression=function(a,b){if("element"===a.predicate.kind){if("+"===a.predicate.modifier){a.predicate.modifier=null;var g=AbstractQueryTree.translatePathExpression(a,b);return{kind:"ONE_OR_MORE_PATH",path:g,x:a.subject,y:a.object}}if("*"===a.predicate.modifier)return a.predicate.modifier=null,g=AbstractQueryTree.translatePathExpression(a,
b),{kind:"ZERO_OR_MORE_PATH",path:g,x:a.subject,y:a.object};a.predicate=a.predicate.value;return{kind:"BGP",value:[a]}}if("sequence"===a.predicate.kind){for(var g=a.subject,h=a.object,d=a.graph,f,m,n=[],t=0;t<a.predicate.value.length;t++)t!=a.predicate.value.length-1?(f={token:"var",value:"fresh:"+b.freshCounter},b.freshCounter++):f=h,m={subject:g,predicate:a.predicate.value[t],object:f},null!=d&&(m.graph=c.clone(d,!0)),n.push(m),t!=a.predicate.value.length-1&&(g=c.clone(f,!0));return AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",
value:n},b)}throw new l("Non supported path expression "+a.predicate.kind);};AbstractQueryTree.prototype._buildGroupGraphPattern=function(a,b){for(var c=a.filters||[],h={kind:"EMPTY_PATTERN"},d=0;d<a.patterns.length;d++){var f=a.patterns[d];"optionalgraphpattern"===f.token?(f=this.build(f.value,b),h="FILTER"===f.kind?{kind:"LEFT_JOIN",lvalue:h,rvalue:f.value,filter:f.filter}:{kind:"LEFT_JOIN",lvalue:h,rvalue:f,filter:!0}):(f=this.build(f,b),h="EMPTY_PATTERN"==h.kind?f:{kind:"JOIN",lvalue:h,rvalue:f})}if(0!=
c.length){if("EMPTY_PATTERN"===h.kind||"LEFT_JOIN"===h.kind&&!0===h.filter||"LEFT_JOIN"===h.kind||"JOIN"===h.kind||"UNION"===h.kind||"GRAPH"===h.kind||"BGP"===h.kind)return{kind:"FILTER",filter:c,value:h};throw Error("Unknow kind of algebra expression: "+h.kind);}return h};AbstractQueryTree.prototype.collectBasicTriples=function(a,b){null==b&&(b=[]);if("select"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("BGP"===a.kind)b=b.concat(a.value);else if("ZERO_OR_MORE_PATH"===a.kind)b=this.collectBasicTriples(a.path);
else if("UNION"===a.kind)b=this.collectBasicTriples(a.value[0],b),b=this.collectBasicTriples(a.value[1],b);else if("GRAPH"===a.kind)b=this.collectBasicTriples(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)b=this.collectBasicTriples(a.lvalue,b),b=this.collectBasicTriples(a.rvalue,b);else if("FILTER"===a.kind)b=this.collectBasicTriples(a.value,b);else if("construct"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return b};
AbstractQueryTree.prototype.bind=function(a,b){null!=a.graph&&a.graph.token&&"var"===a.graph.token&&null!=b[a.graph.value]&&(a.graph=b[a.graph.value]);if(null!=a.filter){for(var c=[],h=0;h<a.filter.length;h++)a.filter[h].value=this._bindFilter(a.filter[h].value,b),c.push(a.filter[h]);a.filter=c}if("select"===a.kind)a.pattern=this.bind(a.pattern,b);else if("BGP"===a.kind)a.value=this._bindTripleContext(a.value,b);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._bindTripleContext(a.path,b),a.x&&"var"===
a.x.token&&null!=b[a.x.value]&&(a.x=b[a.x.value]),a.y&&"var"===a.y.token&&null!=b[a.y.value]&&(a.y=b[a.y.value]);else if("UNION"===a.kind)a.value[0]=this.bind(a.value[0],b),a.value[1]=this.bind(a.value[1],b);else if("GRAPH"===a.kind)a.value=this.bind(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.bind(a.lvalue,b),a.rvalue=this.bind(a.rvalue,b);else if("FILTER"===a.kind)a.filter=this._bindFilter(a.filter[h].value,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+
a.kind;return a};AbstractQueryTree.prototype._bindTripleContext=function(a,b){for(var c=0;c<a.length;c++){delete a[c].graph;delete a[c].variables;for(var h in a[c]){var d=a[c][h];"var"===d.token&&null!=b[d.value]&&(a[c][h]=b[d.value])}}return a};AbstractQueryTree.prototype._bindFilter=function(a,b){if(null!=a.expressionType){var c=a.expressionType;if("relationalexpression"==c)a.op1=this._bindFilter(a.op1,b),a.op2=this._bindFilter(a.op2,b);else if("conditionalor"==c||"conditionaland"==c)for(c=0;c<
a.operands.length;c++)a.operands[c]=this._bindFilter(a.operands[c],b);else if("additiveexpression"==c)for(a.summand=this._bindFilter(a.summand,b),c=0;c<a.summands.length;c++)a.summands[c].expression=this._bindFilter(a.summands[c].expression,b);else if("builtincall"==c)for(c=0;c<a.args.length;c++)a.args[c]=this._bindFilter(a.args[c],b);else if("multiplicativeexpression"==c)for(a.factor=this._bindFilter(a.factor,b),c=0;c<a.factors.length;c++)a.factors[c].expression=this._bindFilter(a.factors[c].expression,
b);else if("unaryexpression"==c)a.expression=this._bindFilter(a.expression,b);else if("irireforfunction"==c)for(c=0;c<a.factors.args;c++)a.args[c]=this._bindFilter(a.args[c],b);else"atomic"==c&&"var"==a.primaryexpression&&null!=b[a.value.value]&&(c=b[a.value.value],a.primaryexpression="uri"===c.token?"iri":"literal",a.value=c)}return a};AbstractQueryTree.prototype.replace=function(a,b,g,h){null!=a.graph&&a.graph.token&&a.graph.token===b.token&&a.graph.value==b.value&&(a.graph=c.clone(g,!0));if(null!=
a.filter){for(var d=[],f=0;f<a.filter.length;f++)a.filter[f].value=this._replaceFilter(a.filter[f].value,b,g,h),d.push(a.filter[f]);a.filter=d}if("select"===a.kind)a.pattern=this.replace(a.pattern,b,g,h);else if("BGP"===a.kind)a.value=this._replaceTripleContext(a.value,b,g,h);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._replaceTripleContext(a.path,b,g,h),a.x&&a.x.token===b.token&&a.value===b.value&&(a.x=c.clone(g,!0)),a.y&&a.y.token===b.token&&a.value===b.value&&(a.y=c.clone(g,!0));else if("UNION"===
a.kind)a.value[0]=this.replace(a.value[0],b,g,h),a.value[1]=this.replace(a.value[1],b,g,h);else if("GRAPH"===a.kind)a.value=this.replace(a.value,b,g);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.replace(a.lvalue,b,g,h),a.rvalue=this.replace(a.rvalue,b,g,h);else if("FILTER"===a.kind)a.value=this._replaceFilter(a.value,b,g,h);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._replaceTripleContext=function(a,b,g,h){for(var d=0;d<a.length;d++)for(var f in a[d]){var m=
a[d][f];"var"===m.token&&"var"===b.token&&m.value===b.value?a[d][f]=g:"blank"===m.token&&"blank"===b.token&&m.value===b.value?a[d][f]=g:"literal"!==m.token&&"uri"!==m.token||"literal"!==b.token&&"uri"!==b.token||m.token!==b.token||c.lexicalFormTerm(m,h)[m.token]!==c.lexicalFormTerm(b,h)[m.token]||(a[d][f]=g)}return a};AbstractQueryTree.prototype._replaceFilter=function(a,b,c,h){if(null!=a.expressionType){var d=a.expressionType;if("relationalexpression"==d)a.op1=this._replaceFilter(a.op1,b,c,h),a.op2=
this._replaceFilter(a.op2,b,c,h);else if("conditionalor"==d||"conditionaland"==d)for(d=0;d<a.operands.length;d++)a.operands[d]=this._replaceFilter(a.operands[d],b,c,h);else if("additiveexpression"==d)for(a.summand=this._replaceFilter(a.summand,b,c,h),d=0;d<a.summands.length;d++)a.summands[d].expression=this._replaceFilter(a.summands[d].expression,b,c,h);else if("builtincall"==d)for(d=0;d<a.args.length;d++)a.args[d]=this._replaceFilter(a.args[d],b,c,h);else if("multiplicativeexpression"==d)for(a.factor=
this._replaceFilter(a.factor,b,c,h),d=0;d<a.factors.length;d++)a.factors[d].expression=this._replaceFilter(a.factors[d].expression,b,c,h);else if("unaryexpression"==d)a.expression=this._replaceFilter(a.expression,b,c,h);else if("irireforfunction"==d)for(d=0;d<a.factors.args;d++)a.args[d]=this._replaceFilter(a.args[d],b,c,h);else"atomic"==d&&(h=null,a.primaryexpression==b.token&&a.value==b.value?h=c.value:"iri"==a.primaryexpression&&"uri"==b.token&&a.value==b.value&&(h=c.value),null!=h&&(a.primaryexpression=
"uri"===c.token?"iri":c.token,a.value=h))}return a};AbstractQueryTree.prototype.treeWithUnion=function(a){if(null==a||null==a.kind)return!1;if("select"===a.kind)return this.treeWithUnion(a.pattern);if("BGP"===a.kind)return this.treeWithUnion(a.value);if("ZERO_OR_MORE_PATH"===a.kind)return!1;if("UNION"===a.kind)if(null!=a.value[0].value&&null!=a.value[0].value.variables&&null!=a.value[1].value&&null!=a.value[1].value.variables){if(a.value[0].variables.join("/")===a.values[1].variables.join("/"))return this.treeWithUnion(a.value[0])?
!0:this.treeWithUnion(a.value[1])}else return!0;else{if("GRAPH"===a.kind||"LEFT_JOIN"!==a.kind&&"JOIN"!==a.kind)return!1;if(this.treeWithUnion(a.lvalue))return!0;this.treeWithUnion(a.rvalue)}};B.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:l,SparqlParserError:q}},{"./parser":44,"./utils":55}],38:[function(r,B,y){var l=r("./utils"),q=l.nextTick,b=function(a,b){if(0!=arguments.length){this.order=a;this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;var c=
this;this._diskWrite(this.root,function(a){c.root=a;c._updateRootNode(c.root,function(a){c.comparator=function(a,b){return a<b?-1:a>b?1:0};c.merger=null;null!=b&&b(c)})})}};b.prototype._allocateNode=function(){return new c};b.prototype._diskWrite=function(a,b){q(function(){b(a)})};b.prototype._diskRead=function(a,b){q(function(){b(a)})};b.prototype._diskDelete=function(a,b){q(function(){b()})};b.prototype._updateRootNode=function(a,b){b(a)};b.prototype.search=function(a,b,c){this.__search(this,a,
this.root,b,c)};b.prototype.__search=function(a,b,c,h,d){for(var f=0;f<c.numberActives&&1===a.comparator(b,c.keys[f].key);)f++;f<c.numberActives&&0===a.comparator(c.keys[f].key,b)?null!=d&&!0==d?h(!0):h(c.keys[f].data):!0===c.isLeaf?h(null):a._diskRead(c.children[f],function(c){a.__search(a,b,c,h,d)})};b.prototype.walk=function(a,b){this.__walk(this,this.root,a,b)};b.prototype.__walk=function(a,b,c,h){var d=b.numberActives,f=0;if(b.isLeaf){for(f=0;f<b.numberActives;f++)c(b.keys[f]);return h()}l.whilst(function(){return f<
d},function(d){a._diskRead(b.children[f],function(n){a.__walk(a,n,c,function(){a._diskRead(b.keys[f],function(a){c(a);f++;d()})})})},function(){a._diskRead(b.children[d],function(b){a.__walk(a,b,c,function(){h()})})})};b.prototype.walkNodes=function(a){this.__walkNodes(this,root,a,function(){})};b.prototype.__walkNodes=function(a,b,c,h){if(b.isLeaf)return c(b),h();c(b);var d=b.numberActives,f=0;l.whilst(function(){return f<d},function(d){a._diskRead(b.children[f],function(b){a.__walkNodes(a,b,c,function(){f++;
d()})})},function(){a._diskRead(b.children[d],function(b){a.__walkNodes(a,b,c,function(){})})})};b.prototype._splitChild=function(a,b,c,h){var d=this._allocateNode();d.isLeaf=c.isLeaf;d.level=c.level;d.numberActives=this.order-1;var f=c.keys[this.order-1];c.keys[this.order-1]=null;for(var m=0;m<this.order-1;m++)d.keys[m]=c.keys[m+this.order],c.keys[m+this.order]=null,c.isLeaf||(d.children[m]=c.children[m+this.order],c.children[m+this.order]=null);c.isLeaf||(d.children[m]=c.children[m+this.order],
c.children[m+this.order]=null);c.numberActives=this.order-1;for(m=a.numberActives+1;m>b+1;m--)a.children[m]=a.children[m-1];a.children[b+1]=d;for(m=a.numberActives;m>b;m--)a.keys[m]=a.keys[m-1];a.keys[b]=f;a.numberActives++;var n=this;this._diskWrite(d,function(d){n._diskWrite(a,function(a){a.children[b+1]=d;n._diskWrite(c,function(b){return h(a)})})})};b.prototype.insert=function(a,b,c){if(this.root.numberActives===2*this.order-1){var h=this._allocateNode();h.isLeaf=!1;h.level=this.root.level+1;
h.numberActives=0;h.children[0]=this.root;var d=this;this._splitChild(h,0,this.root,function(f){h=f;d.root=h;d._updateRootNode(h,function(f){d._insertNonFull(f,a,b,c)})})}else this._insertNonFull(this.root,a,b,c)};b.prototype._insertNonFull=function(a,b,c,h){this.__insertNonFull(this,a,a.numberActives-1,b,c,h)};b.prototype.__insertNonFull=function(a,b,c,h,d,f){if(b.isLeaf){for(;0<=c&&-1===a.comparator(h,b.keys[c].key);)b.keys[c+1]=b.keys[c],c--;0<=c&&0===a.comparator(h,b.keys[c].key)?b.keys[c]={key:h,
data:d}:(b.keys[c+1]={key:h,data:d},b.numberActives++);a._diskWrite(b,function(a){return f(a)})}else{for(;0<=c&&-1===a.comparator(h,b.keys[c].key);)c--;c++;a._diskRead(b.children[c],function(m){m.numberActives===2*a.order-1?a._splitChild(b,c,m,function(){1===a.comparator(h,b.keys[c].key)&&c++;a._diskRead(b.children[c],function(b){c=b.numberActives-1;a.__insertNonFull(a,b,c,h,d,f)})}):a._diskRead(b.children[c],function(b){c=b.numberActives-1;a.__insertNonFull(a,b,c,h,d,f)})})}};b.prototype.delete=
function(a,c){b.prototype.__deleteSearchNode(this,a,this.root,c)};b.prototype.__deleteSearchNode=function(a,b,c,h){var d=0;if(0===c.numberActives)return h(!1);for(;d<c.numberActives&&1===a.comparator(b,c.keys[d].key);)d++;var f=d;if(d<c.numberActives&&0===a.comparator(b,c.keys[d].key))return a.__deleteNodeFound(a,f,b,c,h);if(!0===c.isLeaf)return h(!1);a._diskRead(c.children[d],function(m){if(null===m)return h(!1);var n=!1,t=!1,l=null,A=null;f===c.numberActives?(t=!0,A=c.children[f-1],l=c.children[f-
1]):0===f?(n=!0,l=c.children[1],A=c.children[1]):(A=c.children[f-1],l=c.children[f+1]);a._diskRead(A,function(f){a._diskRead(l,function(l){!0===t&&(l=null);!0===n&&(f=null);m.numberActives===a.order-1&&null!=c?null!=l&&l.numberActives>a.order-1?a._moveKey(c,d,-1,function(d){a.__deleteSearchNode(a,b,m,h)}):null!=f&&f.numberActives>a.order-1?a._moveKey(c,d,1,function(d){a.__deleteSearchNode(a,b,m,h)}):null!=f&&f.numberActives===a.order-1?a._mergeSiblings(c,d,-1,function(d){a.__deleteSearchNode(a,b,
d,h)}):null!=l&&l.numberActives===a.order-1&&a._mergeSiblings(c,d,1,function(d){a.__deleteSearchNode(a,b,d,h)}):a.__deleteSearchNode(a,b,m,h)})})})};b.prototype.__deleteNodeFound=function(a,b,c,h,d){if(h.isLeaf&&h.numberActives>a.order-1||h.isLeaf&&h===a.root)return a._deleteKeyFromNode(h,b,function(){d(!0)}),!0;!1===h.isLeaf&&a._diskRead(h.children[b],function(f){f.numberActives>a.order-1?a._getMaxKeyPos(a,f,function(m){c=m.node.keys[m.index];h.keys[b]=c;a._diskWrite(h,function(b){b=f;c=c.key;a.__deleteSearchNode(a,
c,b,d)})}):a._diskRead(h.children[b+1],function(m){m.numberActives>a.order-1?a._getMinKeyPos(a,m,function(f){c=f.node.keys[f.index];h.keys[b]=c;a._diskWrite(h,function(b){b=m;c=c.key;a.__deleteSearchNode(a,c,b,d)})}):f.numberActives===a.order-1&&m.numberActives===a.order-1&&a._mergeNodes(f,h.keys[b],m,function(f){h.children[b]=f;b++;for(var m=b;m<h.numberActives;m++)h.children[m]=h.children[m+1],h.keys[m-1]=h.keys[m];h.children[m]=null;h.keys[m-1]=null;h.numberActives--;0===h.numberActives&&a.root===
h&&(a.root=f);a._diskWrite(h,function(b){a.__deleteSearchNode(a,c,f,d)})})})});h.isLeaf&&h.numberActives>a.order-1&&a._deleteKeyFromNode(h,b,function(b){a.__deleteSearchNode(a,c,b,d)})};b.prototype._moveKey=function(a,b,c,h){1===c&&b--;var d=this;d._diskRead(a.children[b],function(f){d._diskRead(a.children[b+1],function(m){if(-1==c){f.keys[f.numberActives]=a.keys[b];f.children[f.numberActives+1]=m.children[0];m.children[0]=null;f.numberActives++;a.keys[b]=m.keys[0];for(var n=1;n<m.numberActives;n++)m.keys[n-
1]=m.keys[n],m.children[n-1]=m.children[n];m.children[m.numberActives-1]=m.children[m.numberActives];m.numberActives--}else{m.children[m.numberActives+1]=m.children[m.numberActives];for(n=m.numberActives;0<n;n--)m.children[n]=m.children[n-1],m.keys[n]=m.keys[n-1];m.keys[0]=null;m.children[0]=null;m.children[0]=f.children[f.numberActives];m.keys[0]=a.keys[b];m.numberActives++;f.children[f.numberActives]=null;a.keys[b]=f.keys[f.numberActives-1];f.keys[f.numberActives-1]=null;f.numberActives--}d._diskWrite(f,
function(b){d._diskWrite(m,function(b){d._diskWrite(a,function(a){return h(a)})})})})})};b.prototype._mergeSiblings=function(a,b,c,h){var d,f,m;b===a.numberActives?(b--,c=a.children[a.numberActives-1],m=a.children[a.numberActives]):(c=a.children[b],m=a.children[b+1]);var n=this;n._diskRead(c,function(c){n._diskRead(m,function(g){var m=n._allocateNode();m.isLeaf=c.isLeaf;m.level=c.level;for(f=0;f<n.order-1;f++)m.keys[f]=c.keys[f],m.children[f]=c.children[f];m.keys[n.order-1]=a.keys[b];m.children[n.order-
1]=c.children[n.order-1];for(f=0;f<n.order-1;f++)m.keys[f+n.order]=g.keys[f],m.children[f+n.order]=g.children[f];m.children[2*n.order-1]=g.children[n.order-1];a.children[b]=m;for(f=b;f<a.numberActives;f++)a.keys[f]=a.keys[f+1],a.children[f+1]=a.children[f+2];m.numberActives=c.numberActives+g.numberActives+1;a.numberActives--;for(d=a.numberActives;d<2*n.order-1;d++)a.keys[d]=null;0===a.numberActives&&n.root===a&&(n.root=m,m.isLeaf=m.level?!1:!0);n._diskWrite(m,function(b){n._diskWrite(a,function(a){n._diskDelete(c,
function(){n._diskDelete(g,function(){if(n.root===b)n._updateRootNode(n.root,function(){return h(b)});else return h(b)})})})})})})};b.prototype._deleteKeyFromNode=function(a,b,c){var h=2*this.order-1;a.numberActives<h&&(h=a.numberActives);if(!1===a.isLeaf)return!1;for(;b<h-1;b++)a.keys[b]=a.keys[b+1];a.keys.pop();a.numberActives--;this._diskWrite(a,function(a){return c(a)})};b.prototype._mergeNodes=function(a,b,c,h){var d,f;d=this._allocateNode();d.isLeaf=!0;for(f=0;f<a.numberActives;f++)d.keys[f]=
a.keys[f],d.children[f]=a.children[f];d.children[a.numberActives]=a.children[a.numberActives];d.keys[a.numberActives]=b;for(f=0;f<c.numberActives;f++)d.keys[f+a.numberActives+1]=c.keys[f],d.children[f+a.numberActives+1]=c.children[f];d.children[2*this.order-1]=c.children[c.numberActives];d.numberActives=a.numberActives+c.numberActives+1;d.isLeaf=a.isLeaf;d.level=a.level;var m=this;this._diskWrite(d,function(b){m._diskDelete(a,function(){m._diskDelete(c,function(){return h(b)})})})};b.prototype.audit=
function(a){var b=[],c=[],h=this,d=function(d){for(var f=0;f<c.length;f++)if(0===h.comparator(c[f],d)){var t=" !!! duplicated key "+d;!0===a&&console.log(t);b.push(t)}},f=null,h=this;this.walkNodes(function(m){!0===a&&(console.log("--- Node at "+m.level+" level"),console.log(" - leaf? "+m.isLeaf),console.log(" - num actives? "+m.numberActives),console.log(" - keys: "));for(var n=m.numberActives;n<m.keys.length;n++)null!=m.keys[n]&&!0===a&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));
for(n=m.numberActives+1;n<m.children.length;n++)null!=m.children[n]&&!0===a&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(!1===m.isLeaf)for(n=0;n<m.numberActives;n++){var t=this._diskRead(m.children[n]).keys[this._diskRead(m.children[n]).numberActives-1].key,l=this._diskRead(m.children[n+1]).keys[0].key;!0===a&&console.log("   "+m.keys[n].key+"("+t+","+l+")");if(-1===h.comparator(m.keys[n].key,t)){var A=" !!! value max left "+t+" > key "+m.keys[n].key;
!0===a&&console.log(A);b.push(A)}1===h.comparator(m.keys[n].key,l)&&(A=" !!! value min right "+l+" < key "+m.keys[n].key,!0===a&&console.log(A),b.push(A));d(m.keys[n].key);c.push(m.keys[n].key)}else for(null===f?f=m.level:f!=m.level&&(A=" !!! Leaf node with wrong level value",!0===a&&console.log(A),b.push(A)),n=0;n<m.numberActives;n++)!0===a&&console.log(" "+m.keys[n].key),d(m.keys[n].key),c.push(m.keys[n].key);m!=h.root&&(m.numberActives>2*h.order-1&&(!0===a&&(A=" !!!! MAX num keys restriction violated "),
console.log(A),b.push(A)),m.numberActives<h.order-1&&(!0===a&&(A=" !!!! MIN num keys restriction violated "),console.log(A),b.push(A)))});return b};b.prototype._getMaxKeyPos=function(a,b,c){var h={};if(null===b)return c(null);if(!0===b.isLeaf)return h.node=b,h.index=b.numberActives-1,c(h);h.node=b;h.index=b.numberActives-1;a._diskRead(b.children[b.numberActives],function(b){return a._getMaxKeyPos(a,b,c)})};b.prototype._getMinKeyPos=function(a,b,c){var h={};null===b&&c(null);if(!0===b.isLeaf)return h.node=
b,h.index=0,c(h);h.node=b;h.index=0;a._diskRead(b.children[0],function(b){return a._getMinKeyPos(a,b,c)})};var c=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};B.exports={Tree:b,Node:c}},{"./utils":55}],39:[function(r,B,y){(function(l){var q=r("./query_engine").QueryEngine,b=r("./quad_backend").QuadBackend,c=r("./persistent_quad_backend").QuadBackend,a=r("./lexicon").Lexicon,e=r("./persistent_lexicon").Lexicon,g=r("./rdf_model"),h=r("./utils");Store=function(d,
f){var g=null,n=null;if(0==arguments.length)n={};else if(1==arguments.length)n={},g=d;else if(1<arguments.length)n=d,g=f;else throw"An optional argument map and a callback must be provided";null==n.treeOrder&&(n.treeOrder=15);var h=a,l=b;!0===n.persistent&&(h=e,l=c);this.functionMap={};var A=this;this.customFns={};new l(n,function(a){n.backend=a;var b=function(){new h(function(b){var c=function(){n.backend=a;n.lexicon=b;A.engine=new q(n);g(null,A)};!0===n.overwrite?b.clear(c):c()},n)};n.overwrite?
a.clear(b):b()})};Store.prototype.rdf=g.rdf;Store.prototype.rdf.api=g;Store.prototype.checkIntegrity=function(a){this.engine.checkIntegrity(a)};Store.prototype.registerCustomFunction=function(a,b){this.customFns[a]=b;this.engine.setCustomFunctions(this.customFns)};Store.prototype.execute=function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);
else{var a,b;1===arguments.length?(a=arguments[0],b=function(){}):2===arguments.length&&(a=arguments[0],b=arguments[1]);this.engine.execute(a,b)}};Store.prototype.executeWithEnvironment=function(){var a,b,c;if(3===arguments.length){a=arguments[0];var e=function(){};b=arguments[1];c=arguments[2]}else 4===arguments.length&&(a=arguments[0],e=arguments[3],b=arguments[1],c=arguments[2]);b=h.map(b,function(a){return{token:"uri",value:a}});c=h.map(c,function(a){return{token:"uri",value:a}});this.engine.execute(a,
e,b,c)};Store.prototype.graph=function(){var a=null,b=null;if(1===arguments.length)b=arguments[0]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(2===arguments.length)b=arguments[1]||function(){},a=arguments[0];else throw"An optional graph URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",b)};Store.prototype.node=function(){var a=null,b=null,c=null;if(2===arguments.length)c=
arguments[0],b=arguments[1]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(3===arguments.length)c=arguments[0],a=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));null!=this.rdf.resolve(c)&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { <"+c+"> ?p ?o } WHERE { GRAPH <"+a+"> { <"+c+"> ?p ?o } }",b)};Store.prototype.startObservingNode=function(){var a,
b,c;2===arguments.length?(a=arguments[0],c=arguments[1],this.engine.callbacksBackend.observeNode(a,c,function(){})):3===arguments.length&&(a=arguments[0],b=arguments[1],c=arguments[2],this.engine.callbacksBackend.observeNode(a,b,c,function(){}))};Store.prototype.stopObservingNode=function(a){this.engine.callbacksBackend.stopObservingNode(a)};Store.prototype.startObservingQuery=function(a,b,c){null!=c?this.engine.callbacksBackend.observeQuery(a,b,c):this.engine.callbacksBackend.observeQuery(a,b,function(){})};
Store.prototype.stopObservingQuery=function(a){this.engine.callbacksBackend.stopObservingQuery(a)};Store.prototype.subscribe=function(a,b,c,e,t){var l=this,A=function(a,b){var c=[],d={blanks:{},outCache:{}},e=[];h.each(b,function(a){var b=g.buildRDFResource(a.subject,e,l.engine,d),f=g.buildRDFResource(a.predicate,e,l.engine,d);a=g.buildRDFResource(a.object,e,l.engine,d);null!=b&&null!=f&&null!=a&&(a=new g.Triple(b,f,a),c.push(a))});t(a,c)};this.functionMap[t]=A;this.engine.callbacksBackend.subscribe(a,
b,c,e,A,function(){})};Store.prototype.unsubscribe=function(a){this.engine.callbacksBackend.unsubscribe(this.functionMap[a]);delete this.functionMap[a]};Store.prototype.setPrefix=function(a,b){this.rdf.setPrefix(a,b)};Store.prototype.setDefaultPrefix=function(a){this.rdf.setDefaultPrefix(a)};Store.prototype.insert=function(){var a,b,c;if(1===arguments.length)b=arguments[0],c=function(){};else if(2===arguments.length)b=arguments[0],c=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],
a=this.rdf.createNamedNode(arguments[1]),c=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var e="",g=this;b.forEach(function(a){e=e+g._nodeToQuery(a.subject)+g._nodeToQuery(a.predicate)+g._nodeToQuery(a.object)+"."});e=null!=a?"INSERT DATA { GRAPH "+this._nodeToQuery(a)+" { "+e+" } }":"INSERT DATA { "+e+" }";this.engine.execute(e,c)};Store.prototype._nodeToQuery=function(a){if("NamedNode"===a.interfaceName){var b=this.rdf.resolve(a.valueOf());
return null!=b?"<"+b+">":"<"+a.valueOf()+">"}return a.toString()};Store.prototype.delete=function(){var a,b,c;if(1===arguments.length)b=arguments[0],c=function(){};else if(2===arguments.length)b=arguments[0],c=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),c=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var e="",g=this;b.forEach(function(a){e=e+g._nodeToQuery(a.subject)+
g._nodeToQuery(a.predicate)+g._nodeToQuery(a.object)+"."});e=null!=a?"DELETE DATA { GRAPH "+this._nodeToQuery(a)+" { "+e+" } }":"DELETE DATA { "+e+" }";this.engine.execute(e,c)};Store.prototype.clear=function(){var a,b;if(0===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=function(){};else if(1===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};else if(2===arguments.length)a=this.rdf.createNamedNode(arguments[0]),
b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";a="CLEAR GRAPH "+this._nodeToQuery(a);this.engine.execute(a,b)};Store.prototype.setBatchLoadEvents=function(a){this.engine.eventsOnBatchLoad=a};Store.prototype.registerDefaultNamespace=function(a,b){this.rdf.prefixes.set(a,b);this.engine.registerDefaultNamespace(a,b)};Store.prototype.registerDefaultProfileNamespaces=function(){var a=this.rdf.prefixes.values(),b;for(b in a)this.registerDefaultNamespace(b,a[b])};
Store.prototype.load=function(){var a,b,c,e,g={};if(3===arguments.length)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),a=arguments[0],b=arguments[1],e=arguments[2]||function(){};else if(4===arguments.length)a=arguments[0],b=arguments[1],g=arguments[2],"string"===typeof g?(c=this.rdf.createNamedNode(g),g={}):(c=this.rdf.createNamedNode(g.graph||this.engine.lexicon.defaultGraphUri),delete g.graph),e=arguments[3]||function(){};else if(2===arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";
if("remote"===a)b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+c.valueOf()+">",e);else{var h=this,l=this.engine.rdfLoader.parsers[a];if(!l)return e(Error("Cannot find parser for the provided media type:"+a));a=[l,{token:"uri",value:c.valueOf()},b,g,function(a,b){a?e(a,b):h.engine.batchLoad(b,function(a){null!=a?e(null,a):e(Error("Erro batch-loading triples."))})}];b&&"string"===typeof b&&0===b.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,
a):this.engine.rdfLoader.tryToParse.apply(null,a)}};Store.prototype.registerParser=function(a,b){this.engine.rdfLoader.registerParser(a,b)};Store.prototype.registeredGraphs=function(a){this.engine.lexicon.registeredGraphs(!0,function(b){b=h.map(b,function(a){return new g.NamedNode(a)});a(null,b)})};Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.prototype.setNetworkTransport=function(a){NetworkTransport=a};Store.prototype.close=function(a){null==a&&(a=function(){});this.engine.close?
this.engine.close(a):a()};Store.VERSION="0.9.6";B.exports.Store=Store;B.exports.create=function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store};B.exports.connect=function(){(1==arguments.length?arguments[0]:2==arguments.length?arguments[1]:arguments[2])(Error("Store#connect is not supported in the 1.x series of the library"))}}).call(this,"/")},{"./lexicon":42,"./persistent_lexicon":45,"./persistent_quad_backend":46,"./quad_backend":47,
"./query_engine":49,"./rdf_model":53,"./utils":55}],40:[function(r,B,y){var l=r("./utils"),q=r("./utils");r("./quad_index");var b=r("./quad_index").Pattern,c=r("./rdf_model"),a=r("./abstract_query_tree").AbstractQueryTree;Callbacks={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new a;this.engine=b;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=
[];this.matchedQueries=[];this.updateInProgress=null;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap=
{};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))};Callbacks.CallbacksBackend.prototype.nextGraphModification=
function(a,b){this.updateInProgress[a].push(b)};Callbacks.CallbacksBackend.prototype.endGraphModification=function(a){if(!0!==this.ongoingModification){var b=this;if(null!=this.updateInProgress){var c=b.updateInProgress;b.updateInProgress=null;this.sendNotification(Callbacks.deleted,c[Callbacks.deleted],function(){b.sendNotification(Callbacks.added,c[Callbacks.added],function(){b.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){b.dispatchQueries(function(){a(!0)})})})})}else a(!0)}else a(!0)};
Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)};Callbacks.CallbacksBackend.prototype.sendNotification=function(a,b,c){for(var d={},f=0;f<b.length;f++){var m=b[f],n;for(n in this.indexMap){var t=this.indexMap[n],l=this.componentOrders[n];this._searchCallbacksInIndex(t,l,a,m,d);0!=this.pendingQueries.length&&(t=this.queriesIndexMap[n],this._searchQueriesInIndex(t,l,m))}}this.dispatchNotifications(d);null!=c&&c(!0)};
Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(a,b,c){for(var d=this.emptyNotificationsMap[a]||[],f=0;f<d.length;f++)d[f](a,b);c()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(a){for(var b in a){var c=this.callbacksMap[b],d=a[b][Callbacks.deleted];if(null!=d)try{c(Callbacks.deleted,d)}catch(f){}for(var m in a[b])if(m!=Callbacks.deleted)try{c(m,a[b][m])}catch(n){}}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(a,b,c,d,f){var m=d[1];
d=d[0];for(var n=0;n<b.length+1;n++){for(var t=a._||[],l=[],A=0;A<t.length;A++){var v=t[A];null!=this.callbacksMap[v]&&(f[v]=f[v]||{},f[v][c]=f[v][c]||[],f[v][c].push(d),l.push(v))}a._=l;t=b[n];if(null!=a[""+m[t]])a=a[""+m[t]];else break}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(a,b){var c=this.emptyNotificationsMap[a]||[];c.push(b);this.emptyNotificationsMap[a]=c};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(a,b){var c=this.emptyNotificationsMap[a];null!=c&&
(c=l.reject(c,function(a){return a===b}));this.emptyNotificationsMap[a]=c};Callbacks.CallbacksBackend.prototype.subscribe=function(a,c,h,d,f,m){a=this._tokenizeComponents(a,c,h,d);c={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,c);var n=this;this.engine.normalizeQuad(a,c,!0,function(a){for(var c=new b(a),d=n._indexForPattern(c),c=n.componentOrders[d],d=n.indexMap[d],e=0;e<c.length;e++){var g=a[c[e]];if("_"===g){null==d._&&(d._=[]);n.callbackCounter++;d._.push(n.callbackCounter);
n.callbacksMap[n.callbackCounter]=f;n.callbacksInverseMap[f]=n.callbackCounter;break}else e===c.length-1?(d[g]=d[g]||{_:[]},n.callbackCounter++,d[g]._.push(n.callbackCounter),n.callbacksMap[n.callbackCounter]=f,n.callbacksInverseMap[f]=n.callbackCounter):(d[g]=d[g]||{},d=d[g])}null!=m&&m(!0)})};Callbacks.CallbacksBackend.prototype.unsubscribe=function(a){var b=this.callbacksInverseMap[a];null!=b&&(delete this.callbacksInverseMap[a],delete this.callbacksMap[b])};Callbacks.CallbacksBackend.prototype._tokenizeComponents=
function(a,b,c,d){var f={};null==a?f.subject=Callbacks.ANYTHING:0==a.indexOf("_:")?f.subject={token:"blank",value:a}:f.subject={token:"uri",value:a};f.predicate=null==b?Callbacks.ANYTHING:{token:"uri",value:b};f.object=null==c?Callbacks.ANYTHING:{token:"uri",value:c};f.graph=null==d?Callbacks.ANYTHING:{token:"uri",value:d};return f};Callbacks.CallbacksBackend.prototype._indexForPattern=function(a){a=a.indexKey;for(var b=this.indices,c=0;c<b.length;c++)for(var d=b[c],f=this.componentOrders[d],m=0;m<
f.length&&!1!==l.include(a,f[m]);m++)if(m==a.length-1)return d;return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var a,b,h,d;4===arguments.length?(a=arguments[0],b=arguments[1],h=arguments[2],d=arguments[3]):(a=arguments[0],b=this.engine.lexicon.defaultGraphUri,h=arguments[1],d=arguments[2]);b="CONSTRUCT { <"+a+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+a+"> ?p ?o } }";var f=this,m={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,m);var n=[];this.engine.execute(b,
function(b,g){if(b)d&&d(!1);else{var l=!1,v=function(a,b){if("eventsFlushed"===a&&l){l=!1;try{h(g)}catch(d){}}else if("eventsFlushed"!==a){l=!0;for(var e=0;e<b.length;e++){var t=b[e],s=c.buildRDFResource(t.subject,n,f.engine,m),u=c.buildRDFResource(t.predicate,n,f.engine,m),t=c.buildRDFResource(t.object,n,f.engine,m);null!=s&&null!=u&&null!=t&&(t=new c.Triple(s,u,t),a===Callbacks.added?g.add(t):a===Callbacks.deleted&&g.remove(t))}}};f.observersMap[h]=v;f.subscribeEmpty(Callbacks.eventsFlushed,v);
f.subscribe(a,null,null,null,v,function(){try{h(g)}catch(a){}d&&d(!0)})}})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(a){return(a=this.observersMap[a])?(this.unsubscribe(a),this.unsubscribeEmpty(Callbacks.eventsFlushed,a),!0):!1};Callbacks.CallbacksBackend.prototype.observeQuery=function(a,c,h){var d=this.aqt.parseQueryString(a),d=this.aqt.parseSelect(d.units[0]),d=this.aqt.collectBasicTriples(d),f={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,f);var m,n,l,
C=this.queryCounter;this.queryCounter++;this.queriesMap[C]=a;this.queriesInverseMap[a]=C;this.queriesList.push(C);this.queriesCallbacksMap[C]=c;for(var A=0;A<d.length;A++){n=d[A];null==n.graph&&(n.graph=this.engine.lexicon.defaultGraphUriTerm);n=this.engine.normalizeQuad(n,f,!0);m=new b(n);l=this._indexForPattern(m);m=this.componentOrders[l];l=this.queriesIndexMap[l];for(var v=0;v<m.length;v++){var q=n[m[v]];if("string"===typeof q){null==l._&&(l._=[]);l._.push(C);break}else v===m.length-1?(l[q]=l[q]||
{_:[]},l[q]._.push(C)):(l[q]=l[q]||{},l=l[q])}}this.engine.execute(a,function(a,b){a?console.log("ERROR in query callback "+b):c(b)});null!=h&&h()};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(a){var b=this.queriesInverseMap[a];null!=b&&(delete this.queriesInverseMap[a],delete this.queriesMap[b],this.queriesList=l.reject(this.queriesList,function(a){return a===b}))};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(a,b,c){var d=c[1];c=c[0];for(c=0;c<b.length+
1;c++){for(var f=a._||[],m=[],n=0;n<f.length;n++){var t=f[n];l.include(this.pendingQueries,t)&&(l.remove(this.pendingQueries,function(a){return a===t}),this.matchedQueries.push(t));null!=this.queriesMap[t]&&m.push(t)}a._=m;f=b[c];if(null!=a[""+d[f]])a=a[""+d[f]];else break}};Callbacks.CallbacksBackend.prototype.dispatchQueries=function(a){var b=this,c,d,f={};q.eachSeries(this.matchedQueries,function(a,e){null==f[a]?(f[a]=!0,c=b.queriesMap[a],d=b.queriesCallbacksMap[a],b.engine.execute(c,function(a,
b){if(!a)try{d(b)}catch(c){}e()})):e()},function(){a()})};Callbacks.CallbacksBackend.added=Callbacks.added;Callbacks.CallbacksBackend.deleted=Callbacks.deleted;Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed;B.exports=Callbacks},{"./abstract_query_tree":37,"./quad_index":48,"./rdf_model":53,"./utils":55}],41:[function(r,B,y){var l=r("jsonld"),q=function(b,c,a){var e=null;l.normalize(b,{},function(b,h){if(b)a(b);else{var d=function(a){if("blank node"===a.type)return{blank:a.value};
if("IRI"===a.type)return{token:"uri",value:a.value};if("literal"===a.type)return null!==a.datatype?{literal:'"'+a.value+'"^^<'+a.datatype+">"}:null!=a.language?{literal:'"'+a.value+'"@'+a.language}:{literal:'"'+a.value+'"'}};e=[];var f=function(a,b,f){e.push({subject:d(a),predicate:d(b),object:d(f),graph:c})},m;for(m in h)for(var n=h[m],l=0;l<n.length;l++){var q=n[l];f(q.subject,q.predicate,q.object)}a(null,e)}})};y.JSONLDParser={};r=y.JSONLDParser;r.parser={async:!0,parse:function(b,c,a,e){try{"string"===
typeof b&&(b=JSON.parse(b)),q(b,c,e)}catch(g){e(g)}}};B.exports={JSONLDParser:r}},{jsonld:32}],42:[function(r,B,y){var l=r("./utils"),q=r("./btree").Tree;Lexicon=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;l.seq(function(a){new q(2,function(b){c.uris=b;a()})},function(a){new q(2,function(b){c.literals=b;a()})},
function(a){new q(2,function(b){c.knownGraphs=b;a()})},function(a){new q(2,function(b){c.oidUris=b;a()})},function(a){new q(2,function(b){c.oidLiterals=b;a()})},function(a){new q(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b(c)})};Lexicon.prototype.registerGraph=function(b,c,a){b!=this.defaultGraphOid?this.knownGraphs.insert(b,c,function(){a()}):a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[];this.knownGraphs.walk(function(c){!0===b?a.push(c.data):a.push(c.key)},function(){c(a)})};
Lexicon.prototype.registerUri=function(b,c){var a=this;b===this.defaultGraphUri?c(this.defaultGraphOid):this.uris.search(b,function(e){if(null==e){var g=a.oidCounter,h="u"+g;a.oidCounter++;l.seq(function(c){a.uris.insert(b,[g,0],function(){c()})},function(c){a.oidUris.insert(h,b,function(){c()})})(function(){c(g)})}else g=e[0],e[1]+=1,c(g)})};Lexicon.prototype.resolveUri=function(b,c){b===this.defaultGraphUri?c(this.defaultGraphOid):this.uris.search(b,function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveUriCost=
function(b,c){b===this.defaultGraphUri?c(0):this.uris.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.registerBlank=function(b){var c=this.oidCounter;this.oidCounter++;var a=""+c;this.oidBlanks.insert(a,a,function(){b(c)})};Lexicon.prototype.resolveBlank=function(b,c){var a=this;this.oidBlanks.search(b,function(b){null!=b?c(b):(b=a.oidCounter,this.oidCounter++,c(""+b))})};Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this;
this.literals.search(b,function(e){if(null==e){var g=a.oidCounter,h="l"+g;a.oidCounter++;l.seq(function(c){a.literals.insert(b,[g,0],function(){c()})},function(c){a.oidLiterals.insert(h,b,function(){c()})})(function(){c(g)})}else g=e[0],e[1]+=1,c(g)})};Lexicon.prototype.resolveLiteral=function(b,c){this.literals.search(b,function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveLiteralCost=function(b,c){this.literals.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.parseLiteral=
function(b){var c=b.lastIndexOf("@");if(-1!=c&&'"'===b[c-1]&&null!=b.substring(c,b.length).match(/^@[a-zA-Z\-]+$/g)){var a=b.substring(1,c-1);b=b.substring(c+1,b.length);return{token:"literal",value:a,lang:b}}c=b.lastIndexOf("^^");if(-1!=c&&'"'===b[c-1]&&"<"===b[c+2]&&">"===b[b.length-1])return a=b.substring(1,c-1),b=b.substring(c+3,b.length-1),{token:"literal",value:a,type:b};a=b.substring(1,b.length-1);return{token:"literal",value:a}};Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};
Lexicon.prototype.retrieve=function(b,c){var a=this;b===this.defaultGraphOid?c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):l.seq(function(c,g){a.oidUris.search("u"+b,function(b){null!=b?g(null,a.parseUri(b)):g(null,null)})},function(c,g){null==c?a.oidLiterals.search("l"+b,function(b){null!=b?g(null,a.parseLiteral(b)):g(null,null)}):g(null,c)},function(c,g){null==c?a.oidBlanks.search(""+b,function(a){null!=a?g(null,{token:"blank",value:"_:"+b}):g(null,null)}):
g(null,c)})(null,function(a,b){c(b)})};Lexicon.prototype.clear=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;l.seq(function(a){new q(2,function(b){c.uris=b;a()})},function(a){new q(2,function(b){c.literals=b;a()})},function(a){new q(2,function(b){c.knownGraphs=b;a()})},function(a){new q(2,function(b){c.oidUris=
b;a()})},function(a){new q(2,function(b){c.oidLiterals=b;a()})},function(a){new q(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,c,a){var e=this;l.seq(function(a){e._unregisterTerm(b.subject.token,c.subject,a)},function(a){e._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){e._unregisterTerm(b.object.token,c.object,a)},function(a){null!=b.graph?e._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=
function(b,c,a){var e=this;if("uri"===b)if(c!=this.defaultGraphOid){var g="u"+c;e.oidUris.search(g,function(b){e.uris.search(b,function(d){var f=d[1];""+d[0]===""+c?0===f?l.seq(function(a){e.oidUris.delete(g,function(){a()})},function(a){e.uris.delete(b,function(){a()})},function(a){e.knownGraphs.delete(c,function(){a()})})(function(){a()}):e.uris.insert(b,[c,f-1],function(){a()}):a()})})}else a();else"literal"===b?(this.oidCounter++,g="l"+c,e.oidLiterals.search(g,function(b){e.literals.search(b,
function(d){var f=d[1];""+d[0]===""+c?0===f?l.seq(function(a){e.oidLiterals.delete(g,function(){a()})},function(a){e.literals.delete(b,function(){a()})})(function(){a()}):e.literals.insert(b,[c,f-1],function(){a()}):a()})})):"blank"===b?e.oidBlanks.delete(""+c,function(){a()}):a()};B.exports={Lexicon:Lexicon}},{"./btree":38,"./utils":55}],43:[function(r,B,y){var l=r("http"),q=r("https"),b=r("url");NetworkTransport={load:function(c,a,e,g){var h=null==g?3:g;c=b.parse(c,!0,!0);g={host:c.host,hostname:c.hostname,
method:"GET",path:c.path,headers:{host:c.hostname,Accept:a}};var d=null;"http:"===c.protocol?(g.port=c.port||80,d=l):"https:"===c.protocol&&(g.port=c.port||443,d=q);c=d.request(g,function(b){var c=b.headers,d="";"2"==(""+b.statusCode)[0]?(b.on("end",function(){e(null,{headers:c,data:d})}),b.on("data",function(a){d+=a})):"3"==(""+b.statusCode)[0]?0==h?e(Error("Too many redirections")):(b=c.Location||c.location,null!=b?NetworkTransport.load(b,a,e,h-1):e(Error("Redirection without location header"))):
e(Error("HTTP error: "+b.statusCode))});c.on("error",e);c.end()}};B.exports={NetworkTransport:NetworkTransport}},{http:6,https:10,url:28}],44:[function(r,B,y){B.exports=function(){function l(l,b,c,a,e,g){this.message=l;this.expected=b;this.found=c;this.offset=a;this.line=e;this.column=g;this.name="SyntaxError"}(function(l,b){function c(){this.constructor=l}c.prototype=b.prototype;l.prototype=new c})(l,Error);return{SyntaxError:l,parse:function(q){function b(a){if(C!==a){C>a&&(C=0,A={line:1,column:1,
seenCR:!1});var b=A,c,d;for(c=C;c<a;c++)d=q.charAt(c),"\n"===d?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1);C=a}return A}function c(a){t<v||(t>v&&(v=t,r=[]),r.push(a))}function a(a){var b=Array(a.length),c;for(c=0;c<a.length;c++)b[c]=a.charCodeAt(c)-32;return b}function e(a){function b(a){return"[object Array]"===Object.prototype.toString.apply(a)?[]:a}a=n[a];for(var d=0,f=[],g=a.length,l=[],v=[],C,A;;){for(;d<
g;)switch(a[d]){case 0:v.push(b(m[a[d+1]]));d+=2;break;case 1:v.push(t);d++;break;case 2:v.pop();d++;break;case 3:t=v.pop();d++;break;case 4:v.length-=a[d+1];d+=2;break;case 5:v.splice(-2,1);d++;break;case 6:v[v.length-2].push(v.pop());d++;break;case 7:v.push(v.splice(v.length-a[d+1],a[d+1]));d+=2;break;case 8:v.pop();v.push(q.substring(v[v.length-1],t));d++;break;case 9:l.push(g);f.push(d+3+a[d+1]+a[d+2]);v[v.length-1]?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+2],d+=3+a[d+1]);break;case 10:l.push(g);
f.push(d+3+a[d+1]+a[d+2]);v[v.length-1]===h?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+2],d+=3+a[d+1]);break;case 11:l.push(g);f.push(d+3+a[d+1]+a[d+2]);v[v.length-1]!==h?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+2],d+=3+a[d+1]);break;case 12:v[v.length-1]!==h?(l.push(g),f.push(d),g=d+2+a[d+1],d+=2):d+=2+a[d+1];break;case 13:l.push(g);f.push(d+3+a[d+1]+a[d+2]);q.length>t?(g=d+3+a[d+1],d+=3):(g=d+3+a[d+1]+a[d+2],d+=3+a[d+1]);break;case 14:l.push(g);f.push(d+4+a[d+2]+a[d+3]);q.substr(t,m[a[d+1]].length)===m[a[d+
1]]?(g=d+4+a[d+2],d+=4):(g=d+4+a[d+2]+a[d+3],d+=4+a[d+2]);break;case 15:l.push(g);f.push(d+4+a[d+2]+a[d+3]);q.substr(t,m[a[d+1]].length).toLowerCase()===m[a[d+1]]?(g=d+4+a[d+2],d+=4):(g=d+4+a[d+2]+a[d+3],d+=4+a[d+2]);break;case 16:l.push(g);f.push(d+4+a[d+2]+a[d+3]);m[a[d+1]].test(q.charAt(t))?(g=d+4+a[d+2],d+=4):(g=d+4+a[d+2]+a[d+3],d+=4+a[d+2]);break;case 17:v.push(q.substr(t,a[d+1]));t+=a[d+1];d+=2;break;case 18:v.push(m[a[d+1]]);t+=m[a[d+1]].length;d+=2;break;case 19:v.push(h);0===D&&c(m[a[d+
1]]);d+=2;break;case 20:d+=2;break;case 21:d++;break;case 22:C=a.slice(d+4,d+4+a[d+3]);for(A=0;A<a[d+3];A++)C[A]=v[v.length-1-C[A]];v.splice(v.length-a[d+2],a[d+2],m[a[d+1]].apply(null,C));d+=4+a[d+3];break;case 23:v.push(e(a[d+1]));d+=2;break;case 24:D++;d++;break;case 25:D--;d++;break;default:throw Error("Invalid opcode: "+a[d]+".");}if(0<l.length)g=l.pop(),d=f.pop();else break}return v[0]}var g=1<arguments.length?arguments[1]:{},h={},d={DOCUMENT:0},f=0,m=[{type:"other",description:"[1] QueryUnit"},
{type:"other",description:"[2] Query"},h,function(a,b,c){return{token:"query",kind:"query",prologue:a,units:[b],inlineData:c}},{type:"other",description:"[3] Prologue"},null,[],function(a,b){return{token:"prologue",base:a,prefixes:b}},{type:"other",description:"[4] BaseDecl"},"BASE",{type:"literal",value:"BASE",description:'"BASE"'},"base",{type:"literal",value:"base",description:'"base"'},function(a){var b={token:"base"};b.value=a;return b},{type:"other",description:"[5] PrefixDecl"},"PREFIX",{type:"literal",
value:"PREFIX",description:'"PREFIX"'},"prefix",{type:"literal",value:"prefix",description:'"prefix"'},function(a,b){var c={token:"prefix"};c.prefix=a;c.local=b;return c},{type:"other",description:"[6] SelectQuery"},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
b={kind:"select",token:"executableunit"};b.dataset=e;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);null!=d&&null!=d.group&&(b.group=d.group);return b},{type:"other",description:"[7] SubSelect"},function(a,b,c){var d={kind:"select",token:"subselect"};d.projection=a.vars;d.modifier=a.modifier;d.pattern=b;null!=c&&null!=c.limit&&(d.limit=c.limit);null!=
c&&null!=c.offset&&(d.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(d.order=c.order);null!=c&&null!=c.group&&(d.group=c.group);return d},{type:"other",description:"[8] SelectClause"},"SELECT",{type:"literal",value:"SELECT",description:'"SELECT"'},"select",{type:"literal",value:"select",description:'"select"'},"DISTINCT",{type:"literal",value:"DISTINCT",description:'"DISTINCT"'},"distinct",{type:"literal",value:"distinct",description:'"distinct"'},"REDUCED",{type:"literal",value:"REDUCED",
description:'"REDUCED"'},"reduced",{type:"literal",value:"reduced",description:'"reduced"'},"(",{type:"literal",value:"(",description:'"("'},"AS",{type:"literal",value:"AS",description:'"AS"'},"as",{type:"literal",value:"as",description:'"as"'},")",{type:"literal",value:")",description:'")"'},"*",{type:"literal",value:"*",description:'"*"'},function(a,b){var c=[];if(3===b.length&&"*"===b[1])return{vars:[{token:"variable",kind:"*"}],modifier:y(a)};for(var d=0;d<b.length;d++){var e=b[d];3===e.length?
c.push({token:"variable",kind:"var",value:e[1]}):c.push({token:"variable",kind:"aliased",expression:e[3],alias:e[7]})}return{vars:c,modifier:y(a)}},{type:"other",description:"[9] ConstructQuery"},"CONSTRUCT",{type:"literal",value:"CONSTRUCT",description:'"CONSTRUCT"'},"construct",{type:"literal",value:"construct",description:'"construct"'},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&
0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};b.dataset=e;b.template=a;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);return b},"WHERE",{type:"literal",value:"WHERE",description:'"WHERE"'},"where",{type:"literal",value:"where",description:'"where"'},
"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(a,b,c){for(var d={named:[],implicit:[]},e=0;e<a.length;e++){var f=a[e];"default"===f.kind?d.implicit.push(f.graph):d.named.push(f.graph)}0===d.named.length&&0===d.implicit.length&&d.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});a={kind:"construct",token:"executableunit"};a.dataset=d;a.template=b;a.pattern={token:"basicgraphpattern",
triplesContext:b.triplesContext};null!=c&&null!=c.limit&&(a.limit=c.limit);null!=c&&null!=c.offset&&(a.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(a.order=c.order);return a},{type:"other",description:"[10] DescribeQuery"},"DESCRIBE",{type:"literal",value:"DESCRIBE",description:'"DESCRIBE"'},{type:"other",description:"[11] AskQuery"},"ASK",{type:"literal",value:"ASK",description:'"ASK"'},"ask",{type:"literal",value:"ask",description:'"ask"'},function(a,b){for(var c={named:[],implicit:[]},
d=0;d<a.length;d++){var e=a[d];"implicit"===e.kind?c.implicit.push(e.graph):c.named.push(e.graph)}0===c.named.length&&0===c.implicit.length&&c.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});d={kind:"ask",token:"executableunit"};d.dataset=c;d.pattern=b;return d},{type:"other",description:"[12] DatasetClause"},"FROM",{type:"literal",value:"FROM",description:'"FROM"'},"from",{type:"literal",value:"from",description:'"from"'},function(a){return a},
{type:"other",description:"[13] DefaultGraphClause"},function(a){return{graph:a,kind:"default",token:"graphClause"}},{type:"other",description:"[14] NamedGraphClause"},"NAMED",{type:"literal",value:"NAMED",description:'"NAMED"'},"named",{type:"literal",value:"named",description:'"named"'},function(a){return{graph:a,kind:"named",token:"graphCluase"}},{type:"other",description:"[15] SourceSelector"},{type:"other",description:"[16] WhereClause"},function(a){return a},{type:"other",description:"[17] SolutionModifier"},
function(a,b,c){var d={};null!=c&&(null!=c.limit&&(d.limit=c.limit),null!=c.offset&&(d.offset=c.offset));null!=a&&(d.group=a);d.order=b;return d},{type:"other",description:"[18] GroupClause"},"GROUP",{type:"literal",value:"GROUP",description:'"GROUP"'},"group",{type:"literal",value:"group",description:'"group"'},"BY",{type:"literal",value:"BY",description:'"BY"'},"by",{type:"literal",value:"by",description:'"by"'},function(a){return a},{type:"other",description:"[19] GroupCondition"},function(a){return a},
function(a){return a},function(a,b){return 0!=b.length?{token:"aliased_expression",expression:a,alias:b[2]}:a},function(a){return a},{type:"other",description:"[20] HavingClause"},"HAVING",{type:"literal",value:"HAVING",description:'"HAVING"'},{type:"other",description:"[21] HavingCondition"},{type:"other",description:"[22] OrderClause"},"ORDER",{type:"literal",value:"ORDER",description:'"ORDER"'},"order",{type:"literal",value:"order",description:'"order"'},function(a){return a},{type:"other",description:"[23] OrderCondition"},
"ASC",{type:"literal",value:"ASC",description:'"ASC"'},"asc",{type:"literal",value:"asc",description:'"asc"'},"DESC",{type:"literal",value:"DESC",description:'"DESC"'},"desc",{type:"literal",value:"desc",description:'"desc"'},function(a,b){return{direction:a.toUpperCase(),expression:b}},function(a){"var"===a.token&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}},{type:"other",description:"[24] LimitOffsetClauses"},function(a){for(var b=
{},c=0;c<a.length;c++){var d=a[c];null!=d&&null!=d.limit?b.limit=d.limit:null!=d&&null!=d.offset&&(b.offset=d.offset)}return b},{type:"other",description:"[25] LimitClause"},"LIMIT",{type:"literal",value:"LIMIT",description:'"LIMIT"'},"limit",{type:"literal",value:"limit",description:'"limit"'},function(a){return{limit:parseInt(a.value)}},{type:"other",description:"[26] OffsetClause"},"OFFSET",{type:"literal",value:"OFFSET",description:'"OFFSET"'},"offset",{type:"literal",value:"offset",description:'"offset"'},
function(a){return{offset:parseInt(a.value)}},{type:"other",description:"[27] BindingsClause"},"BINDINGS",{type:"literal",value:"BINDINGS",description:'"BINDINGS"'},{type:"other",description:"[28] BindingValue"},"UNDEF",{type:"literal",value:"UNDEF",description:'"UNDEF"'},{type:"other",description:"[28]  \tValuesClause\t  ::=  \t( 'VALUES' DataBlock )?"},"VALUES",{type:"literal",value:"VALUES",description:'"VALUES"'},"values",{type:"literal",value:"values",description:'"values"'},function(a){return null!=
a?a[1]:null},{type:"other",description:"[29] UpdateUnit"},{type:"other",description:"[30] Update"},";",{type:"literal",value:";",description:'";"'},function(a,b,c){var d={token:"query",kind:"update"};d.prologue=a;a=[b];null!=c&&null!=c.length&&null!=c[3]&&null!=c[3].units&&(a=a.concat(c[3].units));d.units=a;return d},{type:"other",description:"[31] Update1"},{type:"other",description:"[32] Load"},"LOAD",{type:"literal",value:"LOAD",description:'"LOAD"'},"load",{type:"literal",value:"load",description:'"load"'},
"INTO",{type:"literal",value:"INTO",description:'"INTO"'},"into",{type:"literal",value:"into",description:'"into"'},function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;null!=b&&(c.destinyGraph=b[2]);return c},{type:"other",description:"[33] Clear"},"CLEAR",{type:"literal",value:"CLEAR",description:'"CLEAR"'},"clear",{type:"literal",value:"clear",description:'"clear"'},"SILENT",{type:"literal",value:"SILENT",description:'"SILENT"'},"silent",{type:"literal",value:"silent",description:'"silent"'},
function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[34] Drop"},"DROP",{type:"literal",value:"DROP",description:'"DROP"'},"drop",{type:"literal",value:"drop",description:'"drop"'},function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[35] Create"},"CREATE",{type:"literal",value:"CREATE",description:'"CREATE"'},"create",{type:"literal",value:"create",description:'"create"'},function(a){var b=
{kind:"create",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[36] InsertData"},"INSERT",{type:"literal",value:"INSERT",description:'"INSERT"'},"insert",{type:"literal",value:"insert",description:'"insert"'},"DATA",{type:"literal",value:"DATA",description:'"DATA"'},"data",{type:"literal",value:"data",description:'"data"'},function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[37] DeleteData"},"DELETE",{type:"literal",
value:"DELETE",description:'"DELETE"'},"delete",{type:"literal",value:"delete",description:'"delete"'},function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[38] DeleteWhere"},function(a){var b={kind:"modify"};b.pattern=a;b.with=null;b.using=null;var c=[];a=a.patterns[0];a=null==a.triplesContext&&null!=a.patterns?a.patterns[0].triplesContext:a.triplesContext;for(var d=0;d<a.length;d++){var e={},f=a[d];e.subject=f.subject;e.predicate=f.predicate;
e.object=f.object;e.graph=f.graph;c.push(e)}b.delete=c;return b},{type:"other",description:"[39] Modify"},"WITH",{type:"literal",value:"WITH",description:'"WITH"'},"with",{type:"literal",value:"with",description:'"with"'},function(a,b,c,d){var e={kind:"modify"};e.with=""!=a&&null!=a?a[2]:null;3!==b.length||""!==b[2]&&null!=b[2]?3===b.length&&null!=b[0].length&&null!=b[1].length&&null!=b[2].length?(e.delete=b[0],e.insert=b[2]):(e.insert=b,e.delete=null):(e.delete=b[0],e.insert=null);""!=c&&(e.using=
c);e.pattern=d;return e},{type:"other",description:"[40] DeleteClause"},function(a){return a},{type:"other",description:"[41] InsertClause"},{type:"other",description:"[42] UsingClause"},"USING",{type:"literal",value:"USING",description:'"USING"'},"using",{type:"literal",value:"using",description:'"using"'},function(a){return null!=a.length?{kind:"named",uri:a[2]}:{kind:"default",uri:a}},{type:"other",description:"[43] GraphRef"},"GRAPH",{type:"literal",value:"GRAPH",description:'"GRAPH"'},"graph",
{type:"literal",value:"graph",description:'"graph"'},function(a){return a},{type:"other",description:"[44] GraphRefAll"},"DEFAULT",{type:"literal",value:"DEFAULT",description:'"DEFAULT"'},"default",{type:"literal",value:"default",description:'"default"'},function(){return"default"},function(){return"named"},"ALL",{type:"literal",value:"ALL",description:'"ALL"'},"all",{type:"literal",value:"all",description:'"all"'},function(){return"all"},{type:"other",description:"[45] QuadPattern"},function(a){return a.quadsContext},
{type:"other",description:"[46] QuadData"},{type:"other",description:"[47] Quads"},".",{type:"literal",value:".",description:'"."'},function(a,b){var c=[];if(null!=a&&null!=a.triplesContext)for(var d=0;d<a.triplesContext.length;d++){var e=a.triplesContext[d];e.graph=null;c.push(e)}if(b&&0<b.length&&0<b[0].length&&(c=c.concat(b[0][0].quadsContext),null!=b[0][2]&&null!=b[0][2].triplesContext))for(d=0;d<b[0][2].triplesContext.length;d++)e=b[0][2].triplesContext[d],e.graph=null,c.push(e);return{token:"quads",
quadsContext:c}},{type:"other",description:"[48] QuadsNotTriples"},function(a,b){var c=[];if(null!=b)for(var d=0;d<b.triplesContext.length;d++){var e=b.triplesContext[d];e.graph=a;c.push(e)}return{token:"quadsnottriples",quadsContext:c}},{type:"other",description:"[49] TriplesTemplate"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",
description:"[50] GroupGraphPattern"},function(a){return a},{type:"other",description:"[51] GroupGraphPatternSub"},function(a,b){var c=[];null!=a&&a!=[]&&c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)null!=b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);for(var f=[],g=[],n=[],d=0;d<c.length;d++)if("triplespattern"!=c[d].token&&"filter"!=c[d].token){if(0!=g.length||0!=n.length){for(var h=[],e=0;e<g.length;e++)h=h.concat(g[e].triplesContext);0<h.length&&f.push({token:"basicgraphpattern",
triplesContext:h});g=[]}f.push(c[d])}else"triplespattern"===c[d].token?g.push(c[d]):n.push(c[d]);if(0!=g.length||0!=n.length){h=[];for(e=0;e<g.length;e++)h=h.concat(g[e].triplesContext);0<h.length&&f.push({token:"basicgraphpattern",triplesContext:h})}return{token:"groupgraphpattern",patterns:f,filters:n}},{type:"other",description:"[54] TriplesBlock"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b&&null!=b.length&&null!=b[2]&&null!=b[2].triplesContext&&(c=c.concat(b[2].triplesContext));
return{token:"triplespattern",triplesContext:c}},{type:"other",description:"[53] GraphPatternNotTriples"},{type:"other",description:"[54] OptionalGraphPattern"},"OPTIONAL",{type:"literal",value:"OPTIONAL",description:'"OPTIONAL"'},"optional",{type:"literal",value:"optional",description:'"optional"'},function(a){return{token:"optionalgraphpattern",value:a}},{type:"other",description:"[55] GraphGraphPattern"},function(a,b){for(var c=0;c<b.patterns.length;c++)for(var d=b.patterns[c],e=0;e<d.triplesContext.length;e++)d.triplesContext[e].graph=
a;b.token="groupgraphpattern";return b},{type:"other",description:"[56] ServiceGraphPattern"},"SERVICE",{type:"literal",value:"SERVICE",description:'"SERVICE"'},function(a,b){return{token:"servicegraphpattern",status:"todo",value:[a,b]}},{type:"other",description:"[57] MinusGraphPattern"},"MINUS",{type:"literal",value:"MINUS",description:'"MINUS"'},"minus",{type:"literal",value:"minus",description:'"minus"'},function(a){return{token:"minusgraphpattern",status:"todo",value:a}},{type:"other",description:"[58] GroupOrUnionGraphPattern"},
"UNION",{type:"literal",value:"UNION",description:'"UNION"'},"union",{type:"literal",value:"union",description:'"union"'},function(a,b){if(0===b.length)return a;for(var c={token:"graphunionpattern",value:[a]},d=0;d<b.length;d++)d==b.length-1?c.value.push(b[d][3]):(c.value.push(b[d][3]),c={token:"graphunionpattern",value:[c]});return c},{type:"other",description:"[59] Filter"},"FILTER",{type:"literal",value:"FILTER",description:'"FILTER"'},"filter",{type:"literal",value:"filter",description:'"filter"'},
function(a){return{token:"filter",value:a}},{type:"other",description:"[60] Bind"},"BIND",{type:"literal",value:"BIND",description:'"BIND"'},"bind",{type:"literal",value:"bind",description:'"bind"'},function(a,b){return{token:"bind",expresision:a,as:b}},{type:"other",description:"[60] Constraint"},{type:"other",description:"[61] InlineData"},function(a){return a},{type:"other",description:"[62] DataBlock"},{type:"other",description:"[63] InlineDataOneVar"},function(a,b){return{token:"inlineData",
values:[{"var":a,value:b}]}},{type:"other",description:"[64] InlineDataFull"},function(a,b){return{token:"inlineData",values:[],todo:!0}},{type:"other",description:"[65] DataBlockValue"},{type:"other",description:"[61] FunctionCall"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[62] ArgList"},function(){return{token:"args",value:[]}},",",{type:"literal",value:",",description:'","'},function(a,b,c){for(var d=
[],e=0;e<c.length;e++)d.push(c[e][1]);c={token:"args"};c.value=[b].concat(d);null!=a&&"DISTINCT"===a.toUpperCase()?c.distinct=!0:c.distinct=!1;return c},{type:"other",description:"[63] ExpressionList"},function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"args"};d.value=[a].concat(c);return d},{type:"other",description:"[64] ConstructTemplate"},function(a){return a},{type:"other",description:"[65] ConstructTriples"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&
null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[66] TriplesSameSubject"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],
object:e[1]},c.push(f))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var n=d[g];if(null!=n.triplesContext){var h={subject:n.chainSubject,predicate:f[0],object:f[1]};c.concat(n.triplesContext)}else h={subject:d[g],predicate:f[0],object:f[1]},c.push(h)}else h=
{subject:d,predicate:f[0],object:f[1]},c.push(h)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[83] PropertyListPathNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];
a=b[0];b=b[2]||[];for(var n=0;n<b.length;n++)null!=b[n].triplesContext?(e=e.concat(b[n].triplesContext),f.push([a,b[n].chainSubject])):f.push([a,b[n]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[67] PropertyListNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):
f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var n=0;n<b.length;n++)null!=b[n].triplesContext?(e=e.concat(b[n].triplesContext),f.push([a,b[n].chainSubject])):f.push([a,b[n]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[68] PropertyList"},{type:"other",description:"[86] ObjectListPath"},function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},
{type:"other",description:"[69] ObjectList"},function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[87] ObjectPath"},{type:"other",description:"[70] Object"},{type:"other",description:"[71] Verb"},"a",{type:"literal",value:"a",description:'"a"'},function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},{type:"other",
description:"[72] TriplesSameSubjectPath"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=f.predicate.value),c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&
(f.predicate=f.predicate.value),c.push(f))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(null!=b&&null!=b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var n=d[g];if(null!=n.triplesContext){var h={subject:n.chainSubject,predicate:f[0],object:f[1]};c.concat(n.triplesContext)}else h={subject:d[g],predicate:f[0],
object:f[1]},c.push(h)}else h={subject:d,predicate:f[0],object:f[1]},c.push(h)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[73] PropertyListNotEmptyPath"},function(a,b,c){token={token:"propertylist"};for(var d=[],e=[],f=0;f<b.length;f++)null!=b[f].triplesContext?(d=d.concat(b[f].triplesContext),"triplesnodecollection"===b[f].token&&null!=b[f].chainSubject.length?e.push([a,b[f].chainSubject[0]]):e.push([a,b[f].chainSubject])):e.push([a,b[f]]);
for(f=0;f<c.length;f++){b=c[f][3];a=b[0];b=b[1]||[];for(var g=0;g<b.length;g++)null!=b[g].triplesContext?(d=d.concat(b[g].triplesContext),e.push([a,b[g].chainSubject])):e.push([a,b[g]])}token.pairs=e;token.triplesContext=d;return token},{type:"other",description:"[74] PropertyListPath"},{type:"other",description:"[75]"},function(a){return a},{type:"other",description:"[76] VerbSimple"},{type:"other",description:"[77] Path"},{type:"other",description:"[78] PathAlternative"},"|",{type:"literal",value:"|",
description:'"|"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[],d=0;d<b.length;d++)c.push(b[1]);d={token:"path",kind:"alternative"};d.value=c;return d},{type:"other",description:"[79] PathSequence"},"/",{type:"literal",value:"/",description:'"/"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[a],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"path",kind:"sequence"};d.value=c;return d},{type:"other",description:"[88] PathElt"},function(a,b){if(a.token&&"path"!=a.token&&""==
b)return a;if(a.token&&a.token!=c&&""!=b){var c={token:"path",kind:"element"};c.value=a;c.modifier=b;return c}a.modifier=b;return a},{type:"other",description:"[81] PathEltOrInverse"},"^",{type:"literal",value:"^",description:'"^"'},function(a){var b={token:"path",kind:"inversePath"};b.value=a;return b},{type:"other",description:"[82] PathMod"},"?",{type:"literal",value:"?",description:'"?"'},"+",{type:"literal",value:"+",description:'"+"'},{type:"other",description:"[83] PathPrimary"},"!",{type:"literal",
value:"!",description:'"!"'},{type:"other",description:"[85] PathOneInPropertySet"},{type:"other",description:"[86] Integer"},{type:"other",description:"[100] TriplesNodePath"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)K++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(a[e].triplesContext)),d={subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(K+1)}},b.push(d);return{token:"triplesnodecollection",
triplesContext:b,chainSubject:c}},{type:"other",description:"[87] TriplesNode"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)K++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(d.triplesContext)),d={subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",
prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(K+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[101] BlankNodePropertyListPath"},
"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},function(a){K++;for(var b={token:"blank",value:"_:"+K},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[88] BlankNodePropertyList"},function(a){K++;for(var b={token:"blank",
value:"_:"+K},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[103] CollectionPath"},function(a){return a},{type:"other",description:"[89] Collection"},{type:"other",description:"[105] GraphNodePath"},function(a){return a[1]},{type:"other",description:"[90] GraphNode"},
{type:"other",description:"[91] VarOrTerm"},{type:"other",description:"[92] VarOrIRIref"},{type:"other",description:"[93] Var"},function(a){var b={token:"var"};b.value=a;return b},{type:"other",description:"[94] GraphTerm"},{type:"other",description:"[95] Expression"},{type:"other",description:"[96] ConditionalOrExpression"},"||",{type:"literal",value:"||",description:'"||"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionalor"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);
c.operands=d;return c},{type:"other",description:"[97] ConditionalAndExpression"},"&&",{type:"literal",value:"&&",description:'"&&"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionaland"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);c.operands=d;return c},{type:"other",description:"[98] ValueLogical"},{type:"other",description:"[99] RelationalExpression"},"=",{type:"literal",value:"=",description:'"="'},"!=",{type:"literal",value:"!=",description:'"!="'},
"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"<=",{type:"literal",value:"<=",description:'"<="'},">=",{type:"literal",value:">=",description:'">="'},"I",{type:"literal",value:"I",description:'"I"'},"i",{type:"literal",value:"i",description:'"i"'},"N",{type:"literal",value:"N",description:'"N"'},"n",{type:"literal",value:"n",description:'"n"'},"O",{type:"literal",value:"O",description:'"O"'},"o",{type:"literal",value:"o",description:'"o"'},"T",{type:"literal",
value:"T",description:'"T"'},"t",{type:"literal",value:"t",description:'"t"'},function(a,b){if(0===b.length)return a;if("i"===b[0][1]||"I"===b[0][1]||"n"===b[0][1]||"N"===b[0][1]){var c={};if("i"===b[0][1]||"I"===b[0][1]){var d="=";c.expressionType="conditionalor"}else d="!=",c.expressionType="conditionaland";for(var e=[],f=0;f<b[0].length;f++)if("args"===b[0][f].token){e=b[0][f].value;break}c.token="expression";c.operands=[];for(f=0;f<e.length;f++){var g={token:"expression",expressionType:"relationalexpression"};
g.operator=d;g.op1=a;g.op2=e[f];c.operands.push(g)}}else c={expressionType:"relationalexpression"},c.operator=b[0][1],c.op1=a,c.op2=b[0][3],c.token="expression";return c},{type:"other",description:"[100] NumericExpression"},{type:"other",description:"[101] AdditiveExpression"},"-",{type:"literal",value:"-",description:'"-"'},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var d=0;d<b.length;d++){var e=b[d],f={};if(4==
e.length&&"string"===typeof e[1])f.operator=e[1],f.expression=e[3];else{var e={},g=f[0],n=f[1][1],h=f[1][3],n=null;0>g.value?(f.operator="-",g.value=-g.value):f.operator="+";e.token="expression";e.expressionType="multiplicativeexpression";e.operator=g;e.factors=[{operator:n,expression:h}];f.expression=e}c.summands.push(f)}return c},{type:"other",description:"[102] MultiplicativeExpression"},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};
c.factor=a;c.factors=[];for(var d=0;d<b.length;d++){var e=b[d],f={};f.operator=e[1];f.expression=e[3];c.factors.push(f)}return c},{type:"other",description:"[103] UnaryExpression"},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};
b.expression=a;return b},{type:"other",description:"[104] PrimaryExpression"},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};
b.value=a;return b},{type:"other",description:"[105] BrackettedExpression"},function(a){return a},{type:"other",description:"[106] BuiltInCall"},"STR",{type:"literal",value:"STR",description:'"STR"'},"str",{type:"literal",value:"str",description:'"str"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b},"LANG",{type:"literal",value:"LANG",description:'"LANG"'},"lang",{type:"literal",value:"lang",description:'"lang"'},function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b},"LANGMATCHES",{type:"literal",value:"LANGMATCHES",description:'"LANGMATCHES"'},"langmatches",{type:"literal",value:"langmatches",description:'"langmatches"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c},"DATATYPE",{type:"literal",value:"DATATYPE",description:'"DATATYPE"'},"datatype",{type:"literal",value:"datatype",description:'"datatype"'},function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b},"BOUND",{type:"literal",value:"BOUND",description:'"BOUND"'},"bound",{type:"literal",value:"bound",description:'"bound"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b},"IRI",{type:"literal",value:"IRI",description:'"IRI"'},"iri",{type:"literal",value:"iri",description:'"iri"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"iri"};b.args=[a];return b},"URI",{type:"literal",value:"URI",description:'"URI"'},"uri",{type:"literal",value:"uri",description:'"uri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b},"BNODE",{type:"literal",value:"BNODE",description:'"BNODE"'},"bnode",{type:"literal",value:"bnode",description:'"bnode"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=5===a.length?[a[2]]:null;return b},
"COALESCE",{type:"literal",value:"COALESCE",description:'"COALESCE"'},"coalesce",{type:"literal",value:"coalesce",description:'"coalesce"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b},"IF",{type:"literal",value:"IF",description:'"IF"'},"if",{type:"literal",value:"if",description:'"if"'},function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d},"ISLITERAL",{type:"literal",value:"ISLITERAL",
description:'"ISLITERAL"'},"isliteral",{type:"literal",value:"isliteral",description:'"isliteral"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b},"ISBLANK",{type:"literal",value:"ISBLANK",description:'"ISBLANK"'},"isblank",{type:"literal",value:"isblank",description:'"isblank"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b},"SAMETERM",{type:"literal",value:"SAMETERM",
description:'"SAMETERM"'},"sameterm",{type:"literal",value:"sameterm",description:'"sameterm"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c},"ISURI",{type:"literal",value:"ISURI",description:'"ISURI"'},"isuri",{type:"literal",value:"isuri",description:'"isuri"'},"ISIRI",{type:"literal",value:"ISIRI",description:'"ISIRI"'},"isiri",{type:"literal",value:"isiri",description:'"isiri"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"isuri"};b.args=[a];return b},"custom:",{type:"literal",value:"custom:",description:'"custom:"'},"CUSTOM:",{type:"literal",value:"CUSTOM:",description:'"CUSTOM:"'},/^[a-zA-Z0-9_]/,{type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},function(a,b,c){var d={token:"expression",expressionType:"custom"};d.name=a.join("");a=[];for(var e=0;e<b.length;e++)a.push(b[e][1]);a.push(c);d.args=a;return d},{type:"other",description:"[107] RegexExpression"},"REGEX",{type:"literal",value:"REGEX",
description:'"REGEX"'},"regex",{type:"literal",value:"regex",description:'"regex"'},function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d},{type:"other",description:"[108] ExistsFunc"},"EXISTS",{type:"literal",value:"EXISTS",description:'"EXISTS"'},"exists",{type:"literal",value:"exists",description:'"exists"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b},{type:"other",description:"[109] NotExistsFunc"},
"NOT",{type:"literal",value:"NOT",description:'"NOT"'},"not",{type:"literal",value:"not",description:'"not"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b},{type:"other",description:"[110] Aggregate"},"COUNT",{type:"literal",value:"COUNT",description:'"COUNT"'},"count",{type:"literal",value:"count",description:'"count"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"count"};c.distinct=""!=a?"DISTINCT":
a;c.expression=b;return c},"GROUP_CONCAT",{type:"literal",value:"GROUP_CONCAT",description:'"GROUP_CONCAT"'},"group_concat",{type:"literal",value:"group_concat",description:'"group_concat"'},"SEPARATOR",{type:"literal",value:"SEPARATOR",description:'"SEPARATOR"'},function(a,b,c){var d={token:"expression",expressionType:"aggregate",aggregateType:"group_concat"};d.distinct=""!=a?"DISTINCT":a;d.expression=b;d.separator=c;return d},"SUM",{type:"literal",value:"SUM",description:'"SUM"'},"sum",{type:"literal",
value:"sum",description:'"sum"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"sum"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MIN",{type:"literal",value:"MIN",description:'"MIN"'},"min",{type:"literal",value:"min",description:'"min"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"min"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MAX",{type:"literal",value:"MAX",description:'"MAX"'},"max",{type:"literal",
value:"max",description:'"max"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"max"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"AVG",{type:"literal",value:"AVG",description:'"AVG"'},"avg",{type:"literal",value:"avg",description:'"avg"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"avg"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},{type:"other",description:"[117] IRIrefOrFunction"},function(a,b){var c=
{token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[112] RDFLiteral"},"^^",{type:"literal",value:"^^",description:'"^^"'},function(a,b){return"string"===typeof b&&0<b.length?{token:"literal",value:a.value,lang:b.slice(1),type:null}:null!=b&&"object"===typeof b?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}},{type:"other",description:"[113] NumericLiteral"},{type:"other",
description:"[114] NumericLiteralUnsigned"},{type:"other",description:"[115] NumericLiteralPositive"},{type:"other",description:"[116] NumericLiteralNegative"},{type:"other",description:"[117] BooleanLiteral"},"TRUE",{type:"literal",value:"TRUE",description:'"TRUE"'},"true",{type:"literal",value:"true",description:'"true"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}},"FALSE",{type:"literal",value:"FALSE",description:'"FALSE"'},"false",{type:"literal",
value:"false",description:'"false"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}},{type:"other",description:"[118] String"},function(a){return{token:"string",value:a}},{type:"other",description:"[119] IRIref"},function(a){return{token:"uri",prefix:null,suffix:null,value:a}},function(a){return a},{type:"other",description:"[120] PrefixedName"},function(a){return{token:"uri",prefix:a[0],suffix:a[1],value:null}},function(a){return{token:"uri",
prefix:a,suffix:"",value:null}},{type:"other",description:"[121] BlankNode"},function(a){return{token:"blank",value:a}},function(){K++;return{token:"blank",value:"_:"+K}},{type:"other",description:"[122] IRI_REF"},/^[^<>"{}|\^`\\]/,{type:"class",value:'[^<>"{}|\\^`\\\\]',description:'[^<>"{}|\\^`\\\\]'},function(a){return a.join("")},{type:"other",description:"[123] PNAME_NS"},":",{type:"literal",value:":",description:'":"'},{type:"other",description:"[124] PNAME_LN"},function(a,b){return[a,b]},{type:"other",
description:"[125] BLANK_NODE_LABEL"},"_:",{type:"literal",value:"_:",description:'"_:"'},function(a){return a},{type:"other",description:"[126] VAR1"},function(a){return a},{type:"other",description:"[127] VAR2"},"$",{type:"literal",value:"$",description:'"$"'},{type:"other",description:"[128] LANGTAG"},"@",{type:"literal",value:"@",description:'"@"'},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},function(a,
b){return 0===b.length?("@"+a.join("")).toLowerCase():("@"+a.join("")+"-"+b[0][1].join("")).toLowerCase()},{type:"other",description:"[129] INTEGER"},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},function(a){var b={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};b.value=G(a);return b},{type:"other",description:"[130] DECIMAL"},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};d.value=G([a,b,c]);return d},function(a,
b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};c.value=G([a,b]);return c},{type:"other",description:"[131] DOUBLE"},function(a,b,c,d){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};e.value=G([a,b,c,d]);return e},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};d.value=G([a,b,c]);return d},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};
c.value=G([a,b]);return c},{type:"other",description:"[132] INTEGER_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[133] DECIMAL_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[134] DOUBLE_POSITIVE"},{type:"other",description:"[135] INTEGER_NEGATIVE"},function(a){a.value="-"+a.value;return a},{type:"other",description:"[136] DECIMAL_NEGATIVE"},{type:"other",description:"[137] DOUBLE_NEGATIVE"},{type:"other",description:"[138] EXPONENT"},
/^[eE]/,{type:"class",value:"[eE]",description:"[eE]"},/^[+\-]/,{type:"class",value:"[+\\-]",description:"[+\\-]"},function(a,b,c){return G([a,b,c])},{type:"other",description:"[139] STRING_LITERAL1"},"'",{type:"literal",value:"'",description:'"\'"'},/^[^'\\\n\r]/,{type:"class",value:"[^'\\\\\\n\\r]",description:"[^'\\\\\\n\\r]"},function(a){return G(a)},{type:"other",description:"[140] STRING_LITERAL2"},'"',{type:"literal",value:'"',description:'"\\""'},/^[^"\\\n\r]/,{type:"class",value:'[^"\\\\\\n\\r]',
description:'[^"\\\\\\n\\r]'},{type:"other",description:"[141] STRING_LITERAL_LONG1"},"'''",{type:"literal",value:"'''",description:"\"'''\""},/^[^'\\]/,{type:"class",value:"[^'\\\\]",description:"[^'\\\\]"},{type:"other",description:"[142] STRING_LITERAL_LONG2"},'"""',{type:"literal",value:'"""',description:'"\\"\\"\\""'},/^[^"\\]/,{type:"class",value:'[^"\\\\]',description:'[^"\\\\]'},{type:"other",description:"[143] ECHAR"},"\\",{type:"literal",value:"\\",description:'"\\\\"'},/^[tbnrf"']/,{type:"class",
value:"[tbnrf\"']",description:"[tbnrf\"']"},{type:"other",description:"[144] NIL"},function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},{type:"other",description:"[145] WS"},/^[ ]/,{type:"class",value:"[ ]",description:"[ ]"},/^[\t]/,{type:"class",value:"[\\t]",description:"[\\t]"},/^[\r]/,{type:"class",value:"[\\r]",description:"[\\r]"},/^[\n]/,{type:"class",value:"[\\n]",description:"[\\n]"},{type:"other",
description:" COMMENT"},"#",{type:"literal",value:"#",description:'"#"'},/^[^\n\r]/,{type:"class",value:"[^\\n\\r]",description:"[^\\n\\r]"},{type:"other",description:"[146] ANON"},{type:"other",description:"[147] PN_CHARS_BASE"},/^[A-Z]/,{type:"class",value:"[A-Z]",description:"[A-Z]"},/^[a-z]/,{type:"class",value:"[a-z]",description:"[a-z]"},/^[\xC0-\xD6]/,{type:"class",value:"[\\xC0-\\xD6]",description:"[\\xC0-\\xD6]"},/^[\xD8-\xF6]/,{type:"class",value:"[\\xD8-\\xF6]",description:"[\\xD8-\\xF6]"},
/^[\xF8-\u02FF]/,{type:"class",value:"[\\xF8-\\u02FF]",description:"[\\xF8-\\u02FF]"},/^[\u0370-\u037D]/,{type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},/^[\u037F-\u1FFF]/,{type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},/^[\u200C-\u200D]/,{type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},/^[\u2070-\u218F]/,{type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},/^[\u2C00-\u2FEF]/,{type:"class",value:"[\\u2C00-\\u2FEF]",
description:"[\\u2C00-\\u2FEF]"},/^[\u3001-\uD7FF]/,{type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},/^[\uF900-\uFDCF]/,{type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},/^[\uFDF0-\uFFFD]/,{type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},/^[\u1000-\uEFFF]/,{type:"class",value:"[\\u1000-\\uEFFF]",description:"[\\u1000-\\uEFFF]"},{type:"other",description:"[148] PN_CHARS_U"},"_",{type:"literal",value:"_",description:'"_"'},{type:"other",
description:"[149] VARNAME"},/^[\xB7]/,{type:"class",value:"[\\xB7]",description:"[\\xB7]"},/^[\u0300-\u036F]/,{type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},/^[\u203F-\u2040]/,{type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},function(a,b){return a+b.join("")},{type:"other",description:"[150] PN_CHARS"},{type:"other",description:"[151] PN_PREFIX"},function(a,b){if("."==b[b.length-1])throw Error("Wrong PN_PREFIX, cannot finish with '.'");return a+b.join("")},
{type:"other",description:"[152] PN_LOCAL"},function(a,b){return a+(b||[]).join("")},{type:"other",description:"[170] PLX"},{type:"other",description:"[171] PERCENT"},"%",{type:"literal",value:"%",description:'"%"'},function(a){return a.join("")},{type:"other",description:"[172] HEX"},/^[A-F]/,{type:"class",value:"[A-F]",description:"[A-F]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},{type:"other",description:"[173] PN_LOCAL_ESC"},"~",{type:"literal",value:"~",description:'"~"'},"&",
{type:"literal",value:"&",description:'"&"'},function(a){return"\\"+a}],n=[a("7!"),a('7"*# "7?'),a('87#9*" 3 '),a('8!7$+P$7\'*/ "7**) "7+*# "7,+4%7>+*%4#6###"! %$## "$"# ""# "9*" 3!'),a('8!7%*# " %+M$ &7\u00c0,#&7\u00c0"+;% &7&,#&7&"+)%4#6\'#"" %$## "$"# ""# "9*" 3$'),a('8! &7\u00c0,#&7\u00c0"+`$.)""2)3**) ".+""2+3,+D% &7\u00c0,#&7\u00c0"+2%7\u00a9+(%4$6-$! %$$# "$## "$"# ""# "9*" 3('),a('8! &7\u00c0,#&7\u00c0"+}$./""2/30*) ".1""2132+a% &7\u00c0,#&7\u00c0"+O%7\u00aa+E% &7\u00c0,#&7\u00c0"+3%7\u00a9+)%4&63&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3.'),
a('8!7)+\u00a3$ &7\u00c0,#&7\u00c0"+\u0091% &7-,#&7-"+\u007f% &7\u00c0,#&7\u00c0"+m%71+c% &7\u00c0,#&7\u00c0"+Q%72+G% &7\u00c0,#&7\u00c0"+5%7<++%4)65)$(&$"%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 34'),a('8!7)+>$71+4%72+*%4#67##"! %$## "$"# ""# "9*" 36'),a('8! &7\u00c0,#&7\u00c0"+\u02db$.9""293:*) ".;""2;3<+\u02bf% &7\u00c0,#&7\u00c0"+\u02ad%.=""2=3>*) ".?""2?3@*5 ".A""2A3B*) ".C""2C3D*# " %+\u0273% &7\u00c0,#&7\u00c0"+\u0261% &! &7\u00c0,#&7\u00c0"+?$7\u008c+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*\u00e0 "! &7\u00c0,#&7\u00c0"+\u00cd$.E""2E3F+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008e+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.G""2G3H*) ".I""2I3J+s% &7\u00c0,#&7\u00c0"+a%7\u008c+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'+%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "+\u0118$,\u0115&! &7\u00c0,#&7\u00c0"+?$7\u008c+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*\u00e0 "! &7\u00c0,#&7\u00c0"+\u00cd$.E""2E3F+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008e+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.G""2G3H*) ".I""2I3J+s% &7\u00c0,#&7\u00c0"+a%7\u008c+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'+%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# """" "*X "! &7\u00c0,#&7\u00c0"+E$.M""2M3N+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+)%4&6O&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 38'),
a('8! &7\u00c0,#&7\u00c0"+\u00bf$.Q""2Q3R*) ".S""2S3T+\u00a3% &7\u00c0,#&7\u00c0"+\u0091%7h+\u0087% &7\u00c0,#&7\u00c0"+u% &7-,#&7-"+c% &7\u00c0,#&7\u00c0"+Q%71+G% &7\u00c0,#&7\u00c0"+5%72++%4*6U*$&$" %$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u012d "! &7\u00c0,#&7\u00c0"+\u011a$.Q""2Q3R*) ".S""2S3T+\u00fe% &7\u00c0,#&7\u00c0"+\u00ec% &7-,#&7-"+\u00da% &7\u00c0,#&7\u00c0"+\u00c8%.V""2V3W*) ".X""2X3Y+\u00ac% &7\u00c0,#&7\u00c0"+\u009a%.Z""2Z3[+\u008a% &7\u00c0,#&7\u00c0"+x%7S*# " %+h% &7\u00c0,#&7\u00c0"+V%.\\""2\\3]+F% &7\u00c0,#&7\u00c0"+4%72+*%4.6^.#*$ %$.# "$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3P'),
a('8!.`""2`3a+t$ &7\u008b+&$,#&7\u008b""" "*) ".M""2M3N+O% &7-,#&7-"+=%71*# " %+-%72+#%\'%%$%# "$$# "$## "$"# ""# "9*" 3_'),a('8! &7\u00c0,#&7\u00c0"+\u0085$.c""2c3d*) ".e""2e3f+i% &7\u00c0,#&7\u00c0"+W% &7-,#&7-"+E% &7\u00c0,#&7\u00c0"+3%71+)%4&6g&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3b'),a('8!.i""2i3j*) ".k""2k3l+\\$ &7\u00c0,#&7\u00c0"+J%7.*# "7/+:% &7\u00c0,#&7\u00c0"+(%4$6m$!!%$$# "$## "$"# ""# "9*" 3h'),a('8! &7\u00c0,#&7\u00c0"+2$70+(%4"6o"! %$"# ""# "9*" 3n'),a('8!.q""2q3r*) ".s""2s3t+D$ &7\u00c0,#&7\u00c0"+2%70+(%4#6u#! %$## "$"# ""# "9*" 3p'),
a('87\u00a69*" 3v'),a('8!.V""2V3W*) ".X""2X3Y*# " %+V$ &7\u00c0,#&7\u00c0"+D%7T+:% &7\u00c0,#&7\u00c0"+(%4$6x$!!%$$# "$## "$"# ""# "9*" 3w'),a('8!73*# " %+Z$75*# " %+J%77*# " %+:%79*# " %+*%4$6z$##! %$$# "$## "$"# ""# "9*" 3y'),a('8!.|""2|3}*) ".~""2~3\u007f+\u0081$ &7\u00c0,#&7\u00c0"+o%.\u0080""2\u00803\u0081*) ".\u0082""2\u00823\u0083+S% &7\u00c0,#&7\u00c0"+A% &74+&$,#&74""" "+(%4%6\u0084%! %$%# "$$# "$## "$"# ""# "9*" 3{'),a('8! &7\u00c0,#&7\u00c0"+D$7\u0099+:% &7\u00c0,#&7\u00c0"+(%4#6\u0086#!!%$## "$"# ""# "*\u016b "! &7\u00c0,#&7\u00c0"+D$7e+:% &7\u00c0,#&7\u00c0"+(%4#6\u0087#!!%$## "$"# ""# "*\u0131 "! &7\u00c0,#&7\u00c0"+\u00e4$.E""2E3F+\u00d4% &7\u00c0,#&7\u00c0"+\u00c2%7\u008e+\u00b8% &7\u00c0,#&7\u00c0"+\u00a6%!.G""2G3H*) ".I""2I3J+?$ &7\u00c0,#&7\u00c0"+-%7\u008c+#%\'#%$## "$"# ""# "*# " %+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4)6\u0088)"%#%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*W "! &7\u00c0,#&7\u00c0"+D$7\u008c+:% &7\u00c0,#&7\u00c0"+(%4#6\u0089#!!%$## "$"# ""# "9*" 3\u0085'),
a('8!.\u008b""2\u008b3\u008c+<$ &76+&$,#&76""" "+#%\'"%$"# ""# "9*" 3\u008a'),a('87_9*" 3\u008d'),a('8!.\u008f""2\u008f3\u0090*) ".\u0091""2\u00913\u0092+\u0093$ &7\u00c0,#&7\u00c0"+\u0081%.\u0080""2\u00803\u0081*) ".\u0082""2\u00823\u0083+e% &7\u00c0,#&7\u00c0"+S% &78+&$,#&78""" "+:% &7\u00c0,#&7\u00c0"+(%4&6\u0093&!!%$&# "$%# "$$# "$## "$"# ""# "9*" 3\u008e'),a('8!.\u0095""2\u00953\u0096*A ".\u0097""2\u00973\u0098*5 ".\u0099""2\u00993\u009a*) ".\u009b""2\u009b3\u009c+W$ &7\u00c0,#&7\u00c0"+E%7\u0098+;% &7\u00c0,#&7\u00c0"+)%4$6\u009d$"#!%$$# "$## "$"# ""# "*K "!7_*# "7\u008c+:$ &7\u00c0,#&7\u00c0"+(%4"6\u009e"!!%$"# ""# "9*" 3\u0094'),
a('8!!7:+3$7;*# " %+#%\'"%$"# ""# "*> "!7;+3$7:*# " %+#%\'"%$"# ""# "+\' 4!6\u00a0!! %9*" 3\u009f'),a('8!.\u00a2""2\u00a23\u00a3*) ".\u00a4""2\u00a43\u00a5+V$ &7\u00c0,#&7\u00c0"+D%7\u00b0+:% &7\u00c0,#&7\u00c0"+(%4$6\u00a6$!!%$$# "$## "$"# ""# "9*" 3\u00a1'),a('8!.\u00a8""2\u00a83\u00a9*) ".\u00aa""2\u00aa3\u00ab+V$ &7\u00c0,#&7\u00c0"+D%7\u00b0+:% &7\u00c0,#&7\u00c0"+(%4$6\u00ac$!!%$$# "$## "$"# ""# "9*" 3\u00a7'),a('8!.\u00ae""2\u00ae3\u00af+\u00e7$ &7\u008c,#&7\u008c"+\u00d5%.Z""2Z3[+\u00c5% &!.E""2E3F+L$ &7=+&$,#&7=""" "+3%.K""2K3L+#%\'#%$## "$"# ""# "*# "7\u00bf,c&!.E""2E3F+L$ &7=+&$,#&7=""" "+3%.K""2K3L+#%\'#%$## "$"# ""# "*# "7\u00bf"+3%.\\""2\\3]+#%\'%%$%# "$$# "$## "$"# ""# "*# " %9*" 3\u00ad'),
a('87\u00a6*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) ".\u00b1""2\u00b13\u00b29*" 3\u00b0'),a('8!!.\u00b4""2\u00b43\u00b5*) ".\u00b6""2\u00b63\u00b7+-$7a+#%\'"%$"# ""# "*# " %+\' 4!6\u00b8!! %9*" 3\u00b3'),a('87@9*" 3\u00b9'),a('8!7$+\u009b$ &7\u00c0,#&7\u00c0"+\u0089%7A+\u007f%! &7\u00c0,#&7\u00c0"+U$.\u00bb""2\u00bb3\u00bc+E% &7\u00c0,#&7\u00c0"+3%7@*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+*%4$6\u00bd$##! %$$# "$## "$"# ""# "9*" 3\u00ba'),a('87B*G "7C*A "7D*; "7E*5 "7F*/ "7G*) "7H*# "7I9*" 3\u00be'),a('8!.\u00c0""2\u00c03\u00c1*) ".\u00c2""2\u00c23\u00c3+\u00a0$ &7\u00c0,#&7\u00c0"+\u008e%7\u00a6+\u0084% &7\u00c0,#&7\u00c0"+r%!.\u00c4""2\u00c43\u00c5*) ".\u00c6""2\u00c63\u00c7+?$ &7\u00c0,#&7\u00c0"+-%7M+#%\'#%$## "$"# ""# "*# " %+)%4%6\u00c8%"" %$%# "$$# "$## "$"# ""# "9*" 3\u00bf'),
a('8!.\u00ca""2\u00ca3\u00cb*) ".\u00cc""2\u00cc3\u00cd+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7N+(%4%6\u00d2%! %$%# "$$# "$## "$"# ""# "9*" 3\u00c9'),a('8!.\u00d4""2\u00d43\u00d5*) ".\u00d6""2\u00d63\u00d7+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7N+(%4%6\u00d8%! %$%# "$$# "$## "$"# ""# "9*" 3\u00d3'),a('8!.\u00da""2\u00da3\u00db*) ".\u00dc""2\u00dc3\u00dd+x$ &7\u00c0,#&7\u00c0"+f%.\u00ce""2\u00ce3\u00cf*) ".\u00d0""2\u00d03\u00d1*# " %+D% &7\u00c0,#&7\u00c0"+2%7M+(%4%6\u00de%! %$%# "$$# "$## "$"# ""# "9*" 3\u00d9'),
a('8!.\u00e0""2\u00e03\u00e1*) ".\u00e2""2\u00e23\u00e3+r$ &7\u00c0,#&7\u00c0"+`%.\u00e4""2\u00e43\u00e5*) ".\u00e6""2\u00e63\u00e7+D% &7\u00c0,#&7\u00c0"+2%7P+(%4%6\u00e8%! %$%# "$$# "$## "$"# ""# "9*" 3\u00df'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+`$ &7\u00c0,#&7\u00c0"+N%.\u00e4""2\u00e43\u00e5*) ".\u00e6""2\u00e63\u00e7+2%7P+(%4$6\u00ee$! %$$# "$## "$"# ""# "9*" 3\u00e9'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+r$ &7\u00c0,#&7\u00c0"+`%.V""2V3W*) ".X""2X3Y+D% &7\u00c0,#&7\u00c0"+2%7T+(%4%6\u00f0%! %$%# "$$# "$## "$"# ""# "9*" 3\u00ef'),
a('8!!.\u00f2""2\u00f23\u00f3*) ".\u00f4""2\u00f43\u00f5+?$ &7\u00c0,#&7\u00c0"+-%7\u00a6+#%\'#%$## "$"# ""# "*# " %+\u00fa$ &7\u00c0,#&7\u00c0"+\u00e8%!7J+E$ &7\u00c0,#&7\u00c0"+3%7K*# " %+#%\'#%$## "$"# ""# "*# "7K+\u00ab% &7\u00c0,#&7\u00c0"+\u0099% &7L,#&7L"+\u0087% &7\u00c0,#&7\u00c0"+u%.V""2V3W*) ".X""2X3Y+Y% &7\u00c0,#&7\u00c0"+G%7T+=% &7\u00c0,#&7\u00c0"++%4*6\u00f6*$)\'%!%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u00f1'),a('8!.\u00ea""2\u00ea3\u00eb*) ".\u00ec""2\u00ec3\u00ed+2$7O+(%4"6\u00f8"! %$"# ""# "9*" 3\u00f7'),
a('8!.\u00e0""2\u00e03\u00e1*) ".\u00e2""2\u00e23\u00e3+2$7O+(%4"6\u00f8"! %$"# ""# "9*" 3\u00f9'),a('8! &7\u00c0,#&7\u00c0"+\u009f$.\u00fb""2\u00fb3\u00fc*) ".\u00fd""2\u00fd3\u00fe+\u0083% &7\u00c0,#&7\u00c0"+q%7\u00a6*\\ "!.q""2q3r*) ".s""2s3t+?$ &7\u00c0,#&7\u00c0"+-%7\u00a6+#%\'#%$## "$"# ""# "+(%4$6\u00ff$! %$$# "$## "$"# ""# "9*" 3\u00fa'),a('8!.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+D$ &7\u00c0,#&7\u00c0"+2%7\u00a6+(%4#6\u0105#! %$## "$"# ""# "9*" 3\u0100'),a('8!7M+\' 4!6x!! %*\u0086 "!.\u0107""2\u01073\u0108*) ".\u0109""2\u01093\u010a+& 4!6\u010b! %*c "!.q""2q3r*) ".s""2s3t+& 4!6\u010c! %*@ "!.\u010d""2\u010d3\u010e*) ".\u010f""2\u010f3\u0110+& 4!6\u0111! %9*" 3\u0106'),
a('8! &7\u00c0,#&7\u00c0"+\u0088$.Z""2Z3[+x% &7\u00c0,#&7\u00c0"+f%7Q+\\% &7\u00c0,#&7\u00c0"+J%.\\""2\\3]+:% &7\u00c0,#&7\u00c0"+(%4\'6\u0113\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0112'),a('8! &7\u00c0,#&7\u00c0"+\u0088$.Z""2Z3[+x% &7\u00c0,#&7\u00c0"+f%7Q+\\% &7\u00c0,#&7\u00c0"+J%.\\""2\\3]+:% &7\u00c0,#&7\u00c0"+(%4\'6\u0113\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0114'),a('8!7S*# " %+\u009d$ &!7R+I$.\u0116""2\u01163\u0117*# " %+3%7S*# " %+#%\'#%$## "$"# ""# ",T&!7R+I$.\u0116""2\u01163\u0117*# " %+3%7S*# " %+#%\'#%$## "$"# ""# ""+)%4"6\u0118""! %$"# ""# "9*" 3\u0115'),
a('8! &7\u00c0,#&7\u00c0"+\u00d9$.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+\u00bd% &7\u00c0,#&7\u00c0"+\u00ab%7\u008b+\u00a1% &7\u00c0,#&7\u00c0"+\u008f%.Z""2Z3[+\u007f% &7\u00c0,#&7\u00c0"+m%7S*# " %+]% &7\u00c0,#&7\u00c0"+K%.\\""2\\3]+;% &7\u00c0,#&7\u00c0"+)%4+6\u011a+"\'#%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0119'),a('8!7j+~$! &7\u00c0,#&7\u00c0"+U$.\u0116""2\u01163\u0117+E% &7\u00c0,#&7\u00c0"+3%7S*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+)%4"6\u011c""! %$"# ""# "9*" 3\u011b'),
a('8!.Z""2Z3[+f$ &7\u00c0,#&7\u00c0"+T%7(+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u011e%!"%$%# "$$# "$## "$"# ""# "*w "!.Z""2Z3[+f$ &7\u00c0,#&7\u00c0"+T%7U+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u011e%!"%$%# "$$# "$## "$"# ""# "9*" 3\u011d'),a('8!7V*# " %+\u00f7$ &7\u00c0,#&7\u00c0"+\u00e5% &!7W+m$ &7\u00c0,#&7\u00c0"+[%.\u0116""2\u01163\u0117*# " %+E% &7\u00c0,#&7\u00c0"+3%7V*# " %+#%\'%%$%# "$$# "$## "$"# ""# ",x&!7W+m$ &7\u00c0,#&7\u00c0"+[%.\u0116""2\u01163\u0117*# " %+E% &7\u00c0,#&7\u00c0"+3%7V*# " %+#%\'%%$%# "$$# "$## "$"# ""# ""+)%4#6\u0120#"" %$## "$"# ""# "9*" 3\u011f'),
a('8!7s+l$! &7\u00c0,#&7\u00c0"+C$.\u0116""2\u01163\u0117+3%7V*# " %+#%\'#%$## "$"# ""# "*# " %+)%4"6\u0122""! %$"# ""# "9*" 3\u0121'),a('87\\*G "7X*A "7[*; "7Y*5 "7Z*/ "7]*) "7^*# "7`9*" 3\u0123'),a('8! &7\u00c0,#&7\u00c0"+`$.\u0125""2\u01253\u0126*) ".\u0127""2\u01273\u0128+D% &7\u00c0,#&7\u00c0"+2%7T+(%4$6\u0129$! %$$# "$## "$"# ""# "9*" 3\u0124'),a('8! &7\u00c0,#&7\u00c0"+}$.\u0101""2\u01013\u0102*) ".\u0103""2\u01033\u0104+a% &7\u00c0,#&7\u00c0"+O%7\u008b+E% &7\u00c0,#&7\u00c0"+3%7T+)%4&6\u012b&"" %$&# "$%# "$$# "$## "$"# ""# "9*" 3\u012a'),
a('8!.\u012d""2\u012d3\u012e+=$7\u008b+3%7T+)%4#6\u012f#"! %$## "$"# ""# "9*" 3\u012c'),a('8!.\u0131""2\u01313\u0132*) ".\u0133""2\u01333\u0134+D$ &7\u00c0,#&7\u00c0"+2%7T+(%4#6\u0135#! %$## "$"# ""# "9*" 3\u0130'),a('8!7T+\u00d1$ &! &7\u00c0,#&7\u00c0"+[$.\u0137""2\u01373\u0138*) ".\u0139""2\u01393\u013a+?% &7\u00c0,#&7\u00c0"+-%7T+#%\'$%$$# "$## "$"# ""# ",n&! &7\u00c0,#&7\u00c0"+[$.\u0137""2\u01373\u0138*) ".\u0139""2\u01393\u013a+?% &7\u00c0,#&7\u00c0"+-%7T+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u013b""! %$"# ""# "9*" 3\u0136'),
a('8! &7\u00c0,#&7\u00c0"+`$.\u013d""2\u013d3\u013e*) ".\u013f""2\u013f3\u0140+D% &7\u00c0,#&7\u00c0"+2%7_+(%4$6\u0141$! %$$# "$## "$"# ""# "9*" 3\u013c'),a('8! &7\u00c0,#&7\u00c0"+\u00ef$.\u0143""2\u01433\u0144*) ".\u0145""2\u01453\u0146+\u00d3% &7\u00c0,#&7\u00c0"+\u00c1%.E""2E3F+\u00b1% &7\u00c0,#&7\u00c0"+\u009f%7\u008e+\u0095% &7\u00c0,#&7\u00c0"+\u0083%.I""2I3J*) ".G""2G3H+g% &7\u00c0,#&7\u00c0"+U%7\u008c+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4,6\u0147,"&"%$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0142'),
a('87\u0098*) "7\u0099*# "7e9*" 3\u0148'),a('8! &7\u00c0,#&7\u00c0"+`$.\u00b4""2\u00b43\u00b5*) ".\u00b6""2\u00b63\u00b7+D% &7\u00c0,#&7\u00c0"+2%7a+(%4$6\u014a$! %$$# "$## "$"# ""# "9*" 3\u0149'),a('87b*# "7c9*" 3\u014b'),a('8! &7\u00c0,#&7\u00c0"+\u0089$7\u008c+\u007f% &7\u00c0,#&7\u00c0"+m%.Z""2Z3[+]% &7\u00c0,#&7\u00c0"+K% &7d,#&7d"+9%.\\""2\\3]+)%4\'6\u014d\'"%!%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u014c'),a('8! &7\u00c0,#&7\u00c0"+\u01fa$7\u00bf*z "!.E""2E3F+i$ &7\u00c0,#&7\u00c0"+W% &7\u008c,#&7\u008c"+E% &7\u00c0,#&7\u00c0"+3%.K""2K3L+#%\'%%$%# "$$# "$## "$"# ""# "+\u0193% &7\u00c0,#&7\u00c0"+\u0181%.Z""2Z3[+\u0171% &7\u00c0,#&7\u00c0"+\u015f% &! &7\u00c0,#&7\u00c0"+\u008b$.E""2E3F+{% &7\u00c0,#&7\u00c0"+i% &7d,#&7d"+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'\'%$\'# "$&# "$%# "$$# "$## "$"# ""# "*# "7\u00bf,\u00a4&! &7\u00c0,#&7\u00c0"+\u008b$.E""2E3F+{% &7\u00c0,#&7\u00c0"+i% &7d,#&7d"+W% &7\u00c0,#&7\u00c0"+E%.K""2K3L+5% &7\u00c0,#&7\u00c0"+#%\'\'%$\'# "$&# "$%# "$$# "$## "$"# ""# "*# "7\u00bf"+K% &7\u00c0,#&7\u00c0"+9%.\\""2\\3]+)%4(6\u014f("&"%$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u014e'),
a('8! &7\u00c0,#&7\u00c0"+b$7\u00a9*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) ".\u00b1""2\u00b13\u00b2+:% &7\u00c0,#&7\u00c0"+(%4#6\u0089#!!%$## "$"# ""# "9*" 3\u0150'),a('8!7\u00a6+3$7f+)%4"6\u0152""! %$"# ""# "9*" 3\u0151'),a('8!7\u00bf+& 4!6\u0154! %*\u00bf "!.E""2E3F+\u00ae$.=""2=3>*) ".?""2?3@*# " %+\u008c%7\u008e+\u0082% &!.\u0155""2\u01553\u0156+-$7\u008e+#%\'"%$"# ""# ",>&!.\u0155""2\u01553\u0156+-$7\u008e+#%\'"%$"# ""# ""+:%.K""2K3L+*%4%6\u0157%##"!%$%# "$$# "$## "$"# ""# "9*" 3\u0153'),a('8!7\u00bf+& 4!6\u0154! %*\u00ae "!.E""2E3F+\u009d$7\u00a6*# "7\u008e+\u008d% &!.\u0155""2\u01553\u0156+3$7\u00a6*# "7\u008e+#%\'"%$"# ""# ",D&!.\u0155""2\u01553\u0156+3$7\u00a6*# "7\u008e+#%\'"%$"# ""# ""+9%.K""2K3L+)%4$6\u0159$""!%$$# "$## "$"# ""# "9*" 3\u0158'),
a('8!.Z""2Z3[+l$ &7\u00c0,#&7\u00c0"+Z%7i*# " %+J% &7\u00c0,#&7\u00c0"+8%.\\""2\\3]+(%4%6\u015b%!"%$%# "$$# "$## "$"# ""# "9*" 3\u015a'),a('8!7j+~$! &7\u00c0,#&7\u00c0"+U$.\u0116""2\u01163\u0117+E% &7\u00c0,#&7\u00c0"+3%7i*# " %+#%\'$%$$# "$## "$"# ""# "*# " %+)%4"6\u015d""! %$"# ""# "9*" 3\u015c'),a('8! &7\u00c0,#&7\u00c0"+O$7\u008a+E% &7\u00c0,#&7\u00c0"+3%7l+)%4$6\u015f$"" %$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$7\u0083+E% &7\u00c0,#&7\u00c0"+3%7m+)%4$6\u0160$"" %$$# "$## "$"# ""# "9*" 3\u015e'),
a('8!7v*# "7w+\u013c$ &7\u00c0,#&7\u00c0"+\u012a%7n+\u0120% &! &7\u00c0,#&7\u00c0"+\u0082$.\u00bb""2\u00bb3\u00bc+r% &7\u00c0,#&7\u00c0"+`%!7v*# "7w+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u0095&! &7\u00c0,#&7\u00c0"+\u0082$.\u00bb""2\u00bb3\u00bc+r% &7\u00c0,#&7\u00c0"+`%!7v*# "7w+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0162$##! %$$# "$## "$"# ""# "9*" 3\u0161'),a('8!7r+\u0130$ &7\u00c0,#&7\u00c0"+\u011e%7o+\u0114% &! &7\u00c0,#&7\u00c0"+|$.\u00bb""2\u00bb3\u00bc+l% &7\u00c0,#&7\u00c0"+Z%!7r+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u008f&! &7\u00c0,#&7\u00c0"+|$.\u00bb""2\u00bb3\u00bc+l% &7\u00c0,#&7\u00c0"+Z%!7r+?$ &7\u00c0,#&7\u00c0"+-%7o+#%\'#%$## "$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0164$##! %$$# "$## "$"# ""# "9*" 3\u0163'),
a('87l*# " %9*" 3\u0165'),a('8!7p+\u00a7$ &7\u00c0,#&7\u00c0"+\u0095% &!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7p+#%\'#%$## "$"# ""# ",P&!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7p+#%\'#%$## "$"# ""# ""+)%4#6\u0167#"" %$## "$"# ""# "9*" 3\u0166'),a('8!7q+\u00a7$ &7\u00c0,#&7\u00c0"+\u0095% &!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7q+#%\'#%$## "$"# ""# ",P&!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7q+#%\'#%$## "$"# ""# ""+)%4#6\u0169#"" %$## "$"# ""# "9*" 3\u0168'),
a('87\u00889*" 3\u016a'),a('87\u00899*" 3\u016b'),a('87\u008b*4 "!.\u016d""2\u016d3\u016e+& 4!6\u016f! %9*" 3\u016c'),a('8! &7\u00c0,#&7\u00c0"+O$7\u008a+E% &7\u00c0,#&7\u00c0"+3%7t+)%4$6\u0171$"" %$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$7\u0082+E% &7\u00c0,#&7\u00c0"+3%7u+)%4$6\u0172$"" %$$# "$## "$"# ""# "9*" 3\u0170'),a('8!7v*# "7w+\u0118$ &7\u00c0,#&7\u00c0"+\u0106%7n+\u00fc% &! &7\u00c0,#&7\u00c0"+p$.\u00bb""2\u00bb3\u00bc+`% &7\u00c0,#&7\u00c0"+N%!7v*# "7w+-$7o+#%\'"%$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ",\u0083&! &7\u00c0,#&7\u00c0"+p$.\u00bb""2\u00bb3\u00bc+`% &7\u00c0,#&7\u00c0"+N%!7v*# "7w+-$7o+#%\'"%$"# ""# "*# " %+#%\'$%$$# "$## "$"# ""# ""+*%4$6\u0174$##! %$$# "$## "$"# ""# "9*" 3\u0173'),
a('87k*# " %9*" 3\u0175'),a("8!7x+' 4!6\u0177!! %9*\" 3\u0176"),a('87\u008c9*" 3\u0178'),a('87y9*" 3\u0179'),a('8!7z+q$ &!.\u017b""2\u017b3\u017c+-$7z+#%\'"%$"# ""# ",>&!.\u017b""2\u017b3\u017c+-$7z+#%\'"%$"# ""# ""+)%4"6\u017d""! %$"# ""# "9*" 3\u017a'),a('8!7|+q$ &!.\u017f""2\u017f3\u0180+-$7|+#%\'"%$"# ""# ",>&!.\u017f""2\u017f3\u0180+-$7|+#%\'"%$"# ""# ""+)%4"6\u0181""! %$"# ""# "9*" 3\u017e'),a('8!7~+9$7}*# " %+)%4"6\u0183""! %$"# ""# "9*" 3\u0182'),a('87{*C "!.\u0185""2\u01853\u0186+2$7{+(%4"6\u0187"! %$"# ""# "9*" 3\u0184'),
a('8.M""2M3N*\u00ea ".\u0189""2\u01893\u018a*\u00de ".\u018b""2\u018b3\u018c*\u00d2 "!.Z""2Z3[+\u00c1$!7\u0081+{$!.\u0155""2\u01553\u0156+T$.\\""2\\3]*> "!7\u0081+3$.\\""2\\3]+#%\'"%$"# ""# "+#%\'"%$"# ""# "*) ".\\""2\\3]+#%\'"%$"# ""# "*N "!.\u0155""2\u01553\u0156+=$7\u0081+3%.\\""2\\3]+#%\'#%$## "$"# ""# "+#%\'"%$"# ""# "9*" 3\u0188'),a('87\u00a6*\u008b "!.\u016d""2\u016d3\u016e+& 4!6\u016f! %*t "!.\u018e""2\u018e3\u018f+-$7\u007f+#%\'"%$"# ""# "*S "!.E""2E3F+B$7x+8%.K""2K3L+(%4#6\u011e#!!%$## "$"# ""# "9*" 3\u018d'),
a('7\u0080*\u00a7 "!.E""2E3F+\u0096$!7\u0080+k$ &!.\u017b""2\u017b3\u017c+-$7\u0080+#%\'"%$"# ""# ",>&!.\u017b""2\u017b3\u017c+-$7\u0080+#%\'"%$"# ""# ""+#%\'"%$"# ""# "*# " %+3%.K""2K3L+#%\'#%$## "$"# ""# "'),a('87\u00a6*V ".\u016d""2\u016d3\u016e*J "!.\u0185""2\u01853\u0186+9$7\u00a6*) ".\u016d""2\u016d3\u016e+#%\'"%$"# ""# "9*" 3\u0190'),a('87\u00b09*" 3\u0191'),a('8!7\u0086+\' 4!6\u0193!! %*# "7\u00849*" 3\u0192'),a('8!7\u0087+\' 4!6\u0195!! %*# "7\u00859*" 3\u0194'),a('8! &7\u00c0,#&7\u00c0"+v$.\u0197""2\u01973\u0198+f% &7\u00c0,#&7\u00c0"+T%7t+J%.\u0199""2\u01993\u019a+:% &7\u00c0,#&7\u00c0"+(%4&6\u019b&!"%$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0196'),
a('8! &7\u00c0,#&7\u00c0"+\u0088$.\u0197""2\u01973\u0198+x% &7\u00c0,#&7\u00c0"+f%7l+\\% &7\u00c0,#&7\u00c0"+J%.\u0199""2\u01993\u019a+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019d\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u019c'),a('8! &7\u00c0,#&7\u00c0"+\u0097$.E""2E3F+\u0087% &7\u00c0,#&7\u00c0"+u% &7\u0088+&$,#&7\u0088""" "+\\% &7\u00c0,#&7\u00c0"+J%.K""2K3L+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019f\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u019e'),a('8! &7\u00c0,#&7\u00c0"+\u0097$.E""2E3F+\u0087% &7\u00c0,#&7\u00c0"+u% &7\u0089+&$,#&7\u0089""" "+\\% &7\u00c0,#&7\u00c0"+J%.K""2K3L+:% &7\u00c0,#&7\u00c0"+(%4\'6\u019f\'!#%$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u01a0'),
a('8!! &7\u00c0,#&7\u00c0"+?$7\u008a+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*R "! &7\u00c0,#&7\u00c0"+?$7\u0082+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+\' 4!6\u01a2!! %9*" 3\u01a1'),a('8!! &7\u00c0,#&7\u00c0"+?$7\u008a+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "*R "! &7\u00c0,#&7\u00c0"+?$7\u0083+5% &7\u00c0,#&7\u00c0"+#%\'#%$## "$"# ""# "+\' 4!6\u01a2!! %9*" 3\u01a3'),a('87\u008c*# "7\u008d9*" 3\u01a4'),a('87\u008c*# "7\u00a69*" 3\u01a5'),a('8! &7\u00c0,#&7\u00c0"+J$7\u00ad*# "7\u00ae+:% &7\u00c0,#&7\u00c0"+(%4#6\u01a7#!!%$## "$"# ""# "9*" 3\u01a6'),
a('87\u00a6*; "7\u009f*5 "7\u00a0*/ "7\u00a4*) "7\u00a8*# "7\u00bf9*" 3\u01a8'),a('87\u008f9*" 3\u01a9'),a('8!7\u0090+\u00b9$ &! &7\u00c0,#&7\u00c0"+O$.\u01ab""2\u01ab3\u01ac+?% &7\u00c0,#&7\u00c0"+-%7\u0090+#%\'$%$$# "$## "$"# ""# ",b&! &7\u00c0,#&7\u00c0"+O$.\u01ab""2\u01ab3\u01ac+?% &7\u00c0,#&7\u00c0"+-%7\u0090+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01ad""! %$"# ""# "9*" 3\u01aa'),a('8!7\u0091+\u00b9$ &! &7\u00c0,#&7\u00c0"+O$.\u01af""2\u01af3\u01b0+?% &7\u00c0,#&7\u00c0"+-%7\u0091+#%\'$%$$# "$## "$"# ""# ",b&! &7\u00c0,#&7\u00c0"+O$.\u01af""2\u01af3\u01b0+?% &7\u00c0,#&7\u00c0"+-%7\u0091+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01b1""! %$"# ""# "9*" 3\u01ae'),
a('87\u00929*" 3\u01b2'),a('8!7\u0093+\u05eb$ &! &7\u00c0,#&7\u00c0"+O$.\u01b4""2\u01b43\u01b5+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u02b6 "! &7\u00c0,#&7\u00c0"+O$.\u01b6""2\u01b63\u01b7+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u0271 "! &7\u00c0,#&7\u00c0"+O$.\u01b8""2\u01b83\u01b9+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u022c "! &7\u00c0,#&7\u00c0"+O$.\u01ba""2\u01ba3\u01bb+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01e7 "! &7\u00c0,#&7\u00c0"+O$.\u01bc""2\u01bc3\u01bd+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01a2 "! &7\u00c0,#&7\u00c0"+O$.\u01be""2\u01be3\u01bf+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u015d "! &7\u00c0,#&7\u00c0"+w$.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\'%%$%# "$$# "$## "$"# ""# "*\u00f0 "! &7\u00c0,#&7\u00c0"+\u00dd$.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+\u00c1%.\u01c8""2\u01c83\u01c9*) ".\u01ca""2\u01ca3\u01cb+\u00a5%.\u01cc""2\u01cc3\u01cd*) ".\u01ce""2\u01ce3\u01cf+\u0089% &7\u00c0,#&7\u00c0"+w%.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\')%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# ",\u02fb&! &7\u00c0,#&7\u00c0"+O$.\u01b4""2\u01b43\u01b5+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u02b6 "! &7\u00c0,#&7\u00c0"+O$.\u01b6""2\u01b63\u01b7+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u0271 "! &7\u00c0,#&7\u00c0"+O$.\u01b8""2\u01b83\u01b9+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u022c "! &7\u00c0,#&7\u00c0"+O$.\u01ba""2\u01ba3\u01bb+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01e7 "! &7\u00c0,#&7\u00c0"+O$.\u01bc""2\u01bc3\u01bd+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u01a2 "! &7\u00c0,#&7\u00c0"+O$.\u01be""2\u01be3\u01bf+?% &7\u00c0,#&7\u00c0"+-%7\u0093+#%\'$%$$# "$## "$"# ""# "*\u015d "! &7\u00c0,#&7\u00c0"+w$.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\'%%$%# "$$# "$## "$"# ""# "*\u00f0 "! &7\u00c0,#&7\u00c0"+\u00dd$.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+\u00c1%.\u01c8""2\u01c83\u01c9*) ".\u01ca""2\u01ca3\u01cb+\u00a5%.\u01cc""2\u01cc3\u01cd*) ".\u01ce""2\u01ce3\u01cf+\u0089% &7\u00c0,#&7\u00c0"+w%.\u01c0""2\u01c03\u01c1*) ".\u01c2""2\u01c23\u01c3+[%.\u01c4""2\u01c43\u01c5*) ".\u01c6""2\u01c63\u01c7+?% &7\u00c0,#&7\u00c0"+-%7g+#%\')%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# ""+)%4"6\u01d0""! %$"# ""# "9*" 3\u01b3'),
a('87\u00949*" 3\u01d1'),a('8!7\u0095+\u0299$ &! &7\u00c0,#&7\u00c0"+O$.\u018b""2\u018b3\u018c+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u010d "! &7\u00c0,#&7\u00c0"+O$.\u01d3""2\u01d33\u01d4+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u00c8 "!7\u00a3*# "7\u00a3+\u00b7$! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*# " %+#%\'"%$"# ""# ",\u0152&! &7\u00c0,#&7\u00c0"+O$.\u018b""2\u018b3\u018c+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u010d "! &7\u00c0,#&7\u00c0"+O$.\u01d3""2\u01d33\u01d4+?% &7\u00c0,#&7\u00c0"+-%7\u0095+#%\'$%$$# "$## "$"# ""# "*\u00c8 "!7\u00a3*# "7\u00a3+\u00b7$! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*# " %+#%\'"%$"# ""# ""+)%4"6\u01d5""! %$"# ""# "9*" 3\u01d2'),
a('8!7\u0096+\u0143$ &! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# ",\u00a7&! &7\u00c0,#&7\u00c0"+O$.M""2M3N+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# "*b "! &7\u00c0,#&7\u00c0"+O$.\u017f""2\u017f3\u0180+?% &7\u00c0,#&7\u00c0"+-%7\u0096+#%\'$%$$# "$## "$"# ""# ""+)%4"6\u01d7""! %$"# ""# "9*" 3\u01d6'),a('8!.\u018e""2\u018e3\u018f+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01d9#! %$## "$"# ""# "*\u0093 "!.\u018b""2\u018b3\u018c+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01da#! %$## "$"# ""# "*[ "!.\u01d3""2\u01d33\u01d4+D$ &7\u00c0,#&7\u00c0"+2%7\u0097+(%4#6\u01db#! %$## "$"# ""# "*# "7\u00979*" 3\u01d8'),
a('87\u0098*w "7\u0099*q "7\u009e*k "!7\u009f+\' 4!6\u01dd!! %*Y "!7\u00a0+\' 4!6\u01de!! %*G "!7\u00a4+\' 4!6\u01df!! %*5 "7\u009d*/ "!7\u008c+\' 4!6\u01e0!! %9*" 3\u01dc'),a('8!.E""2E3F+f$ &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4%6\u01e2%!"%$%# "$$# "$## "$"# ""# "9*" 3\u01e1'),a('8!.\u01e4""2\u01e43\u01e5*) ".\u01e6""2\u01e63\u01e7+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01e8\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0913 "!.\u01e9""2\u01e93\u01ea*) ".\u01eb""2\u01eb3\u01ec+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01ed\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u088b "!.\u01ee""2\u01ee3\u01ef*) ".\u01f0""2\u01f03\u01f1+\u00c7$ &7\u00c0,#&7\u00c0"+\u00b5%.E""2E3F+\u00a5% &7\u00c0,#&7\u00c0"+\u0093%7\u008e+\u0089% &7\u00c0,#&7\u00c0"+w%.\u0155""2\u01553\u0156+g% &7\u00c0,#&7\u00c0"+U%7\u008e+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4+6\u01f2+"&"%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u07c4 "!.\u01f3""2\u01f33\u01f4*) ".\u01f5""2\u01f53\u01f6+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01f7\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u073c "!.\u01f8""2\u01f83\u01f9*) ".\u01fa""2\u01fa3\u01fb+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008c+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u01fc\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u06b4 "!.\u01fd""2\u01fd3\u01fe*) ".\u01ff""2\u01ff3\u0200+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u0201\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u062c "!.\u0202""2\u02023\u0203*) ".\u0204""2\u02043\u0205+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u0206\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u05a4 "!.\u0207""2\u02073\u0208*) ".\u0209""2\u02093\u020a+\u0099$ &7\u00c0,#&7\u00c0"+\u0087%!.E""2E3F+a$ &7\u00c0,#&7\u00c0"+O%7\u008e+E% &7\u00c0,#&7\u00c0"+3%.K""2K3L+#%\'%%$%# "$$# "$## "$"# ""# "*# "7\u00bf+(%4#6\u020b#! %$## "$"# ""# "*\u050b "!.\u020c""2\u020c3\u020d*) ".\u020e""2\u020e3\u020f+D$ &7\u00c0,#&7\u00c0"+2%7g+(%4#6\u0210#! %$## "$"# ""# "*\u04c7 "!.\u0211""2\u02113\u0212*) ".\u0213""2\u02133\u0214+\u0106$ &7\u00c0,#&7\u00c0"+\u00f4%.E""2E3F+\u00e4% &7\u00c0,#&7\u00c0"+\u00d2%7\u008e+\u00c8% &7\u00c0,#&7\u00c0"+\u00b6%.\u0155""2\u01553\u0156+\u00a6% &7\u00c0,#&7\u00c0"+\u0094%7\u008e+\u008a% &7\u00c0,#&7\u00c0"+x%.\u0155""2\u01553\u0156+h% &7\u00c0,#&7\u00c0"+V%7\u008e+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4/6\u0215/#*&"%$/# "$.# "$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u03c1 "!.\u0216""2\u02163\u0217*) ".\u0218""2\u02183\u0219+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u021a\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0339 "!.\u021b""2\u021b3\u021c*) ".\u021d""2\u021d3\u021e+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u021f\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u02b1 "!.\u0220""2\u02203\u0221*) ".\u0222""2\u02223\u0223+\u00c7$ &7\u00c0,#&7\u00c0"+\u00b5%.E""2E3F+\u00a5% &7\u00c0,#&7\u00c0"+\u0093%7\u008e+\u0089% &7\u00c0,#&7\u00c0"+w%.\u0155""2\u01553\u0156+g% &7\u00c0,#&7\u00c0"+U%7\u008e+K% &7\u00c0,#&7\u00c0"+9%.K""2K3L+)%4+6\u0224+"&"%$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u01ea "!.\u0225""2\u02253\u0226*A ".\u0227""2\u02273\u0228*5 ".\u0229""2\u02293\u022a*) ".\u022b""2\u022b3\u022c+\u0088$ &7\u00c0,#&7\u00c0"+v%.E""2E3F+f% &7\u00c0,#&7\u00c0"+T%7\u008e+J% &7\u00c0,#&7\u00c0"+8%.K""2K3L+(%4\'6\u022d\'!"%$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u014a "!.\u022e""2\u022e3\u022f*) ".\u0230""2\u02303\u0231+\u011b$ &0\u0232""1!3\u0233+,$,)&0\u0232""1!3\u0233""" "+\u00f6% &7\u00c0,#&7\u00c0"+\u00e4%.E""2E3F+\u00d4% &! &7\u00c0,#&7\u00c0"+=$7\u008e+3%.\u0155""2\u01553\u0156+#%\'#%$## "$"# ""# ",P&! &7\u00c0,#&7\u00c0"+=$7\u008e+3%.\u0155""2\u01553\u0156+#%\'#%$## "$"# ""# ""+h% &7\u00c0,#&7\u00c0"+V%7\u008e+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4)6\u0234)#\'$"%$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*/ "7\u009a*) "7\u009b*# "7\u009c9*" 3\u01e3'),
a('8!.\u0236""2\u02363\u0237*) ".\u0238""2\u02383\u0239+\u0117$ &7\u00c0,#&7\u00c0"+\u0105%.E""2E3F+\u00f5% &7\u00c0,#&7\u00c0"+\u00e3%7\u008e+\u00d9% &7\u00c0,#&7\u00c0"+\u00c7%.\u0155""2\u01553\u0156+\u00b7% &7\u00c0,#&7\u00c0"+\u00a5%7\u008e+\u009b% &7\u00c0,#&7\u00c0"+\u0089%!.\u0155""2\u01553\u0156+?$ &7\u00c0,#&7\u00c0"+-%7\u008e+#%\'#%$## "$"# ""# "*# " %+L% &7\u00c0,#&7\u00c0"+:%.K""2K3L+*%4-6\u023a-#($"%$-# "$,# "$+# "$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0235'),a('8!.\u023c""2\u023c3\u023d*) ".\u023e""2\u023e3\u023f+D$ &7\u00c0,#&7\u00c0"+2%7T+(%4#6\u0240#! %$## "$"# ""# "9*" 3\u023b'),
a('8!.\u0242""2\u02423\u0243*) ".\u0244""2\u02443\u0245+r$ &7\u00c0,#&7\u00c0"+`%.\u023c""2\u023c3\u023d*) ".\u023e""2\u023e3\u023f+D% &7\u00c0,#&7\u00c0"+2%7T+(%4%6\u0246%! %$%# "$$# "$## "$"# ""# "9*" 3\u0241'),a('8!.\u0248""2\u02483\u0249*) ".\u024a""2\u024a3\u024b+\u00db$ &7\u00c0,#&7\u00c0"+\u00c9%.E""2E3F+\u00b9% &7\u00c0,#&7\u00c0"+\u00a7%.=""2=3>*) ".?""2?3@*# " %+\u0085% &7\u00c0,#&7\u00c0"+s%.M""2M3N*# "7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u024c*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u04aa "!.\u024d""2\u024d3\u024e*) ".\u024f""2\u024f3\u0250+\u0151$ &7\u00c0,#&7\u00c0"+\u013f%.E""2E3F+\u012f% &7\u00c0,#&7\u00c0"+\u011d%.=""2=3>*) ".?""2?3@*# " %+\u00fb% &7\u00c0,#&7\u00c0"+\u00e9%7\u008e+\u00df%!.\u00bb""2\u00bb3\u00bc+\u0095$ &7\u00c0,#&7\u00c0"+\u0083%.\u0251""2\u02513\u0252+s% &7\u00c0,#&7\u00c0"+a%.\u01b4""2\u01b43\u01b5+Q% &7\u00c0,#&7\u00c0"+?%7\u00a5+5% &7\u00c0,#&7\u00c0"+#%\'(%$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*# " %+L%.K""2K3L+<% &7\u00c0,#&7\u00c0"+*%4*6\u0253*#%#"%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u0359 "!.\u0254""2\u02543\u0255*) ".\u0256""2\u02563\u0257+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0258*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u028a "!.\u0259""2\u02593\u025a*) ".\u025b""2\u025b3\u025c+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u025d*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u01bb "!.\u025e""2\u025e3\u025f*) ".\u0260""2\u02603\u0261+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0262*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "*\u00ec "!.\u0263""2\u02633\u0264*) ".\u0265""2\u02653\u0266+\u00cf$ &7\u00c0,#&7\u00c0"+\u00bd%.E""2E3F+\u00ad% &7\u00c0,#&7\u00c0"+\u009b%.=""2=3>*) ".?""2?3@*# " %+y% &7\u00c0,#&7\u00c0"+g%7\u008e+]% &7\u00c0,#&7\u00c0"+K%.K""2K3L+;% &7\u00c0,#&7\u00c0"+)%4*6\u0267*"%#%$*# "$)# "$(# "$\'# "$&# "$%# "$$# "$## "$"# ""# "9*" 3\u0247'),
a('8!7\u00a6+9$7f*# " %+)%4"6\u0269""! %$"# ""# "9*" 3\u0268'),a('8!7\u00a5+Z$7\u00af*> "!.\u026b""2\u026b3\u026c+-$7\u00a6+#%\'"%$"# ""# "*# " %+)%4"6\u026d""! %$"# ""# "9*" 3\u026a'),a('87\u00a1*) "7\u00a2*# "7\u00a39*" 3\u026e'),a('87\u00b2*) "7\u00b1*# "7\u00b09*" 3\u026f'),a('87\u00b5*) "7\u00b4*# "7\u00b39*" 3\u0270'),a('87\u00b8*) "7\u00b7*# "7\u00b69*" 3\u0271'),a('8!.\u0273""2\u02733\u0274*) ".\u0275""2\u02753\u0276+& 4!6\u0277! %*@ "!.\u0278""2\u02783\u0279*) ".\u027a""2\u027a3\u027b+& 4!6\u027c! %9*" 3\u0272'),
a("8!7\u00bc+' 4!6\u027e!! %*S \"!7\u00bd+' 4!6\u027e!! %*A \"!7\u00ba+' 4!6\u027e!! %*/ \"!7\u00bb+' 4!6\u027e!! %9*\" 3\u027d"),a("8!7\u00a9+' 4!6\u0280!! %*/ \"!7\u00a7+' 4!6\u0281!! %9*\" 3\u027f"),a("8!7\u00ab+' 4!6\u0283!! %*/ \"!7\u00aa+' 4!6\u0284!! %9*\" 3\u0282"),a('8!7\u00ac+\' 4!6\u0286!! %*. "!7\u00c2+& 4!6\u0287! %9*" 3\u0285'),a('8!.\u01b8""2\u01b83\u01b9+V$ &0\u0289""1!3\u028a,)&0\u0289""1!3\u028a"+8%.\u01ba""2\u01ba3\u01bb+(%4#6\u028b#!!%$## "$"# ""# "9*" 3\u0288'),a('8!7\u00c7*# " %+8$.\u028d""2\u028d3\u028e+(%4"6\u0281"!!%$"# ""# "9*" 3\u028c'),
a('8!7\u00aa+3$7\u00c8+)%4"6\u0290""! %$"# ""# "9*" 3\u028f'),a('8!.\u0292""2\u02923\u0293+2$7\u00c8+(%4"6\u0294"! %$"# ""# "9*" 3\u0291'),a('8!.\u0189""2\u01893\u018a+2$7\u00c5+(%4"6\u0296"! %$"# ""# "9*" 3\u0295'),a('8!.\u0298""2\u02983\u0299+2$7\u00c5+(%4"6\u0296"! %$"# ""# "9*" 3\u0297'),a('8!.\u029b""2\u029b3\u029c+\u00cc$ &0\u029d""1!3\u029e+,$,)&0\u029d""1!3\u029e""" "+\u00a7% &!.\u01d3""2\u01d33\u01d4+H$ &0\u029f""1!3\u02a0+,$,)&0\u029f""1!3\u02a0""" "+#%\'"%$"# ""# ",Y&!.\u01d3""2\u01d33\u01d4+H$ &0\u029f""1!3\u02a0+,$,)&0\u029f""1!3\u02a0""" "+#%\'"%$"# ""# ""+)%4#6\u02a1#"! %$## "$"# ""# "9*" 3\u029a'),
a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+\' 4!6\u02a5!! %9*" 3\u02a2'),a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+X$.\u0116""2\u01163\u0117+H% &0\u02a3""1!3\u02a4,)&0\u02a3""1!3\u02a4"+*%4#6\u02a7##"! %$## "$"# ""# "*_ "!.\u0116""2\u01163\u0117+N$ &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+)%4"6\u02a8""! %$"# ""# "9*" 3\u02a6'),a('8! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+c$.\u0116""2\u01163\u0117+S% &0\u02a3""1!3\u02a4,)&0\u02a3""1!3\u02a4"+5%7\u00b9++%4$6\u02aa$$#"! %$$# "$## "$"# ""# "*\u00a6 "!.\u0116""2\u01163\u0117+Y$ &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+4%7\u00b9+*%4#6\u02ab##"! %$## "$"# ""# "*Y "! &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+3$7\u00b9+)%4"6\u02ac""! %$"# ""# "9*" 3\u02a9'),
a('8!.\u018b""2\u018b3\u018c+2$7\u00b0+(%4"6\u02ae"! %$"# ""# "9*" 3\u02ad'),a('8!.\u018b""2\u018b3\u018c+2$7\u00b1+(%4"6\u02b0"! %$"# ""# "9*" 3\u02af'),a('8!.\u018b""2\u018b3\u018c+2$7\u00b2+(%4"6\u02b0"! %$"# ""# "9*" 3\u02b1'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b0+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b2'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b1+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b4'),a('8!.\u01d3""2\u01d33\u01d4+2$7\u00b2+(%4"6\u02b3"! %$"# ""# "9*" 3\u02b5'),a('8!0\u02b7""1!3\u02b8+e$0\u02b9""1!3\u02ba*# " %+O% &0\u02a3""1!3\u02a4+,$,)&0\u02a3""1!3\u02a4""" "+*%4#6\u02bb##"! %$## "$"# ""# "9*" 3\u02b6'),
a('8!.\u02bd""2\u02bd3\u02be+b$ &0\u02bf""1!3\u02c0*# "7\u00be,/&0\u02bf""1!3\u02c0*# "7\u00be"+8%.\u02bd""2\u02bd3\u02be+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02bc'),a('8!.\u02c3""2\u02c33\u02c4+b$ &0\u02c5""1!3\u02c6*# "7\u00be,/&0\u02c5""1!3\u02c6*# "7\u00be"+8%.\u02c3""2\u02c33\u02c4+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02c2'),a('8!.\u02c8""2\u02c83\u02c9+b$ &0\u02ca""1!3\u02cb*# "7\u00be,/&0\u02ca""1!3\u02cb*# "7\u00be"+8%.\u02c8""2\u02c83\u02c9+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02c7'),a('8!.\u02cd""2\u02cd3\u02ce+b$ &0\u02cf""1!3\u02d0*# "7\u00be,/&0\u02cf""1!3\u02d0*# "7\u00be"+8%.\u02cd""2\u02cd3\u02ce+(%4#6\u02c1#!!%$## "$"# ""# "9*" 3\u02cc'),
a('8!.\u02d2""2\u02d23\u02d3+3$0\u02d4""1!3\u02d5+#%\'"%$"# ""# "9*" 3\u02d1'),a('8!.E""2E3F+I$ &7\u00c0,#&7\u00c0"+7%.K""2K3L+\'%4#6\u02d7# %$## "$"# ""# "9*" 3\u02d6'),a('80\u02d9""1!3\u02da*G "0\u02db""1!3\u02dc*; "0\u02dd""1!3\u02de*/ "0\u02df""1!3\u02e0*# "7\u00c19*" 3\u02d8'),a('8!.\u02e2""2\u02e23\u02e3+A$ &0\u02e4""1!3\u02e5,)&0\u02e4""1!3\u02e5"+#%\'"%$"# ""# "9*" 3\u02e1'),a('8!.\u0197""2\u01973\u0198+E$ &7\u00c0,#&7\u00c0"+3%.\u0199""2\u01993\u019a+#%\'#%$## "$"# ""# "9*" 3\u02e6'),a('80\u02e8""1!3\u02e9*\u00b9 "0\u02ea""1!3\u02eb*\u00ad "0\u02ec""1!3\u02ed*\u00a1 "0\u02ee""1!3\u02ef*\u0095 "0\u02f0""1!3\u02f1*\u0089 "0\u02f2""1!3\u02f3*} "0\u02f4""1!3\u02f5*q "0\u02f6""1!3\u02f7*e "0\u02f8""1!3\u02f9*Y "0\u02fa""1!3\u02fb*M "0\u02fc""1!3\u02fd*A "0\u02fe""1!3\u02ff*5 "0\u0300""1!3\u0301*) "0\u0302""1!3\u03039*" 3\u02e7'),
a('87\u00c3*) ".\u0305""2\u03053\u03069*" 3\u0304'),a('8!7\u00c4*) "0\u02a3""1!3\u02a4+\u009b$ &7\u00c4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d,S&7\u00c4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d"+)%4"6\u030e""! %$"# ""# "9*" 3\u0307'),a('87\u00c4*Y ".\u01d3""2\u01d33\u01d4*M "0\u02a3""1!3\u02a4*A "0\u0308""1!3\u0309*5 "0\u030a""1!3\u030b*) "0\u030c""1!3\u030d9*" 3\u030f'),a('8!7\u00c3+S$ &7\u00c6*) ".\u0116""2\u01163\u0117,/&7\u00c6*) ".\u0116""2\u01163\u0117"+)%4"6\u0311""! %$"# ""# "9*" 3\u0310'),
a('8!7\u00c4*; "0\u02a3""1!3\u02a4*/ ".\u028d""2\u028d3\u028e*# "7\u00c9+w$ &7\u00c6*; ".\u0116""2\u01163\u0117*/ ".\u028d""2\u028d3\u028e*# "7\u00c9,A&7\u00c6*; ".\u0116""2\u01163\u0117*/ ".\u028d""2\u028d3\u028e*# "7\u00c9"+)%4"6\u0313""! %$"# ""# "9*" 3\u0312'),a('87\u00ca*# "7\u00cc9*" 3\u0314'),a('8!!.\u0316""2\u03163\u0317+7$7\u00cb+-%7\u00cb+#%\'#%$## "$"# ""# "+\' 4!6\u0318!! %9*" 3\u0315'),a('80\u02a3""1!3\u02a4*5 "0\u031a""1!3\u031b*) "0\u031c""1!3\u031d9*" 3\u0319'),a('8!.\u02d2""2\u02d23\u02d3+\u0128$.\u0305""2\u03053\u0306*\u010d ".\u031f""2\u031f3\u0320*\u0101 ".\u0116""2\u01163\u0117*\u00f5 ".\u01d3""2\u01d33\u01d4*\u00e9 ".\u018e""2\u018e3\u018f*\u00dd ".\u0298""2\u02983\u0299*\u00d1 ".\u0321""2\u03213\u0322*\u00c5 ".\u02bd""2\u02bd3\u02be*\u00b9 ".E""2E3F*\u00ad ".K""2K3L*\u00a1 ".M""2M3N*\u0095 ".\u018b""2\u018b3\u018c*\u0089 ".\u0155""2\u01553\u0156*} ".\u00bb""2\u00bb3\u00bc*q ".\u028d""2\u028d3\u028e*e ".\u01b4""2\u01b43\u01b5*Y ".\u017f""2\u017f3\u0180*M ".\u0189""2\u01893\u018a*A ".\u02e2""2\u02e23\u02e3*5 ".\u029b""2\u029b3\u029c*) ".\u0316""2\u03163\u0317+(%4"6\u0323"! %$"# ""# "9*" 3\u031e')],
t=0,C=0,A={line:1,column:1,seenCR:!1},v=0,r=[],D=0;if("startRule"in g){if(!(g.startRule in d))throw Error("Can't start parsing from rule \""+g.startRule+'".');f=d[g.startRule]}var G=function(a){for(var b="",c=0;c<a.length;c++)b="string"===typeof a[c]?b+a[c]:b+a[c].join("");return b},K=0,y=function(a){var b="";if(null==a)return null;for(var c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},g=e(f);if(g!==h&&t===q.length)return g;g!==h&&t<q.length&&c({type:"end",description:"end of input"});throw function(a,
c,d){function e(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function f(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,
function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d=Array(a.length),e;for(e=0;e<a.length;e++)d[e]=a[e].description;d=1<a.length?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0];e=b?'"'+c(b)+'"':"end of input";return"Expected "+d+" but "+e+" found."}var g=b(d),n=d<q.length?q.charAt(d):null;null!==c&&e(c);return new l(null!==a?a:f(c,n),c,n,d,g.line,g.column)}(null,r,v);}}}()},{}],45:[function(r,B,
y){r("./btree");var l=r("./utils"),q=r("./lexicon").Lexicon;Lexicon=function(b,c){var a=this;l.registerIndexedDB(a);this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;a.quadStore=c.backend;a.dbName=c.name||"rdfstorejs";var e=a.indexedDB.open(this.dbName+"_lexicon",1);e.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};
e.onsuccess=function(c){a.db=c.target.result;b(a)};e.onupgradeneeded=function(b){a.db=b.target.result;a.db.createObjectStore("knownGraphs",{keyPath:"oid"}).createIndex("uriToken","uriToken",{unique:!0});a.db.createObjectStore("uris",{keyPath:"id",autoIncrement:!0}).createIndex("uri","uri",{unique:!0});a.db.createObjectStore("blanks",{keyPath:"id",autoIncrement:!0}).createIndex("label","label",{unique:!0});a.db.createObjectStore("literals",{keyPath:"id",autoIncrement:!0}).createIndex("literal","literal",
{unique:!0})}};Lexicon.prototype.registerGraph=function(b,c,a){if(b!=this.defaultGraphOid){var e=this.db.transaction(["knownGraphs"],"readwrite");e.onerror=function(b){a(null,Error(b.target.statusCode))};e.objectStore("knownGraphs").add({oid:b,uriToken:c}).onsuccess=function(b){a(!0)}}else a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[],e=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs").openCursor();e.onsuccess=function(e){(e=e.target.result)?(!0===b?a.push(e.value.uriToken):
a.push(e.value.oid),e.continue()):c(a)};e.onerror=function(a){c(null,Error("Error retrieving data from the cursor: "+a.target.errorCode))}};Lexicon.prototype.registerUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"],"readwrite").objectStore("uris"),e=a.index("uri").get(b);e.onsuccess=function(e){if(e=e.target.result){e.counter++;var h=e.id;e=a.put(e);e.onsuccess=function(a){c(h)};e.onerror=function(a){c(null,Error("Error updating the URI data"+
a.target.errorCode))}}else e=a.add({uri:b,counter:0}),e.onsuccess=function(a){c(a.target.result)},e.onerror=function(a){c(null,Error("Error inserting the URI data"+a.target.errorCode))}};e.onerror=function(a){c(null,Error("Error retrieving the URI data"+a.target.errorCode))}}};Lexicon.prototype.resolveUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.id):
c(-1)};a.onerror=function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.resolveUriCost=function(b,c){if(b===this.defaultGraphUri)c(0);else{var a=that.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.registerBlank=function(b){var c=guid(),c=this.db.transaction(["blanks"],
"readwrite").objectStore("blanks").add({label:c,counter:0});c.onsuccess=function(a){b(a.target.result)};c.onerror=function(a){b(null,Error("Error inserting the URI data"+a.target.errorCode))}};Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this.db.transaction(["literals"],"readwrite").objectStore("literals"),e=a.index("literal").get(b);e.onsuccess=function(e){if(e=e.target.result){e.counter++;var h=e.id;e=a.put(e);e.onsuccess=function(a){c(h)};
e.onerror=function(a){c(null,Error("Error updating the literal data"+a.target.errorCode))}}else e=a.add({literal:b,counter:0}),e.onsuccess=function(a){c(a.target.result)},e.onerror=function(a){c(null,Error("Error inserting the literal data"+a.target.errorCode))}};e.onerror=function(a){c(null,Error("Error retrieving the literal data"+a.target.errorCode))}};Lexicon.prototype.resolveLiteral=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=
function(a){null!=a.target.result?c(a.target.result.id):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.resolveLiteralCost=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.parseLiteral=function(b){return q.prototype.parseLiteral(b)};
Lexicon.prototype.parseUri=function(b){return q.prototype.parseUri(b)};Lexicon.prototype.allCounts=function(b){function c(b,c,d){b=b.openCursor();b.onsuccess=function(b){(b=b.target.result)?(a[b.value[c]]=b.value.counter,b.continue()):d(a)};b.onerror=function(a){d(null,Error("Error retrieving data from the cursor: "+a.target.errorCode))}}var a={},e=this.db.transaction(["knownGraphs","blanks","uris","literals"],"readwrite");c(e.objectStore("uris"),"id",function(a,h){h?b(null,h):c(e.objectStore("blanks"),
"id",function(a,f){f?b(null,f):c(e.objectStore("literals"),"id",b)})})};Lexicon.prototype.retrieve=function(b,c){var a=this;if(b===this.defaultGraphOid)c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0});else{var e=a.db.transaction(["uris","literals","blanks"]);l.seq(function(c,h){var d=e.objectStore("uris").get(b);d.onsuccess=function(b){null!=b.target.result?h(null,a.parseUri(b.target.result.uri)):h(null,null)};d.onerror=function(a){h(Error("Error searching in URIs data "+
a.target.errorCode))}},function(c,h){if(null==c){var d=e.objectStore("literals").get(b);d.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral(b.target.result.literal)):h(null,null)};d.onerror=function(a){h(Error("Error searching in Literals data "+a.target.errorCode))}}else h(null,c)},function(c,h){if(null==c){var d=e.objectStore("blanks").get(b);d.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral({token:"blank",value:"_:"+b.target.result.id})):h(null,null)};d.onerror=
function(a){h(Error("Error searching in blanks data "+a.target.errorCode))}}else h(null,c)})(null,function(a,b){a?c(null,a):c(b)})}};Lexicon.prototype.clear=function(b){this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var c=this.db.transaction(["uris","literals","blanks"],"readwrite"),a;l.seq(function(b){a=c.objectStore("uris").clear();a.onsuccess=function(){b()};
a.onerror=function(){b()}},function(b){a=c.objectStore("literals").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}},function(b){a=c.objectStore("blanks").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,c,a){var e=this;l.seq(function(a){e._unregisterTerm(b.subject.token,c.subject,a)},function(a){e._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){e._unregisterTerm(b.object.token,c.object,a)},
function(a){null!=b.graph?e._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._dereferenceLexical=function(b,c,a){b===this.defaultGraphOid?a(this.defaultGraphOid):(c=c.delete(b),c.onsuccess=function(b){a()},c.onerror=function(c){a(null,Error("Error deleting LEXICAL data ["+b+"]"+c.target.errorCode))})};Lexicon.prototype._unregisterTerm=function(b,c,a){var e=this,g=function(){return e.db.transaction(["uris","literals","blanks","knownGraphs"],"readwrite")};e.quadStore.countReferences(c,
function(h){0===h?"uri"===b?c!=this.defaultGraphOid?e._dereferenceLexical(c,g().objectStore("uris"),function(){e._dereferenceLexical(c,g().objectStore("knownGraphs"),function(){a()})}):a():"literal"===b?e._dereferenceLexical(c,g().objectStore("literals"),function(){a()}):"blank"===b?e._dereferenceLexical(c,g().objectsStore("blanks"),function(){a()}):a():a()})};B.exports={Lexicon:Lexicon}},{"./btree":38,"./lexicon":42,"./utils":55}],46:[function(r,B,y){var l=r("./utils");QuadBackend=function(q,b){var c=
this;if(0!==arguments){l.registerIndexedDB(c);this.indexMap={};this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};c.dbName=q.name||"rdfstorejs";var a=c.indexedDB.open(this.dbName+"_db",2);a.onerror=function(a){b(null,
Error("Error opening IndexedDB: "+a.target.errorCode))};a.onsuccess=function(a){c.db=a.target.result;b(c)};a.onupgradeneeded=function(a){function b(a){l.each(c.indices,function(b){"SPOG"!==b&&a.createIndex(b,b,{unique:!1})})}function h(a){l.each(c.componentOrders.SPOG,function(b){a.createIndex(b,b,{unique:!1})})}var d=a.oldVersion||0,f=a.target.result;1>d?(a=f.createObjectStore(c.dbName,{keyPath:"SPOG"}),b(a),h(a)):2>d&&(a=a.target.transaction.objectStore(c.dbName),b(a),h(a))}}};QuadBackend.prototype.index=
function(q,b){var c=this;l.each(this.indices,function(a){q[a]=c._genMinIndexKey(q,a)});var a=c.db.transaction([c.dbName],"readwrite");a.oncomplete=function(a){};a.onerror=function(a){b(null,Error(a.target.statusCode))};a.objectStore(c.dbName).add(q).onsuccess=function(a){b(!0)}};QuadBackend.prototype.range=function(l,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._indexForPattern(l),e=this._genMinIndexKey(l,a),g=this._genMaxIndexKey(l,a),e=this.IDBKeyRange.bound(e,g,!1,
!1),h=[];("SPOG"===a?c:c.index(a)).openCursor(e).onsuccess=function(a){(a=a.target.result)?(h.push(a.value),a.continue()):b(h)}};QuadBackend.prototype.search=function(l,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._genMinIndexKey(l,"SPOG"),c=c.get(a);c.onerror=function(a){b(null,Error(a.target.statusCode))};c.onsuccess=function(a){b(null!=a.target.result)}};QuadBackend.prototype.delete=function(l,b){var c=this._genMinIndexKey(l,"SPOG"),c=this.db.transaction([this.dbName],
"readwrite").objectStore(this.dbName).delete(c);c.onsuccess=function(){b(!0)};c.onerror=function(a){b(null,Error(a.target.statusCode))}};QuadBackend.prototype._genMinIndexKey=function(q,b){return l.map(this.componentOrders[b],function(b){return"string"===typeof q[b]||null==q[b]?"-1":""+q[b]}).join(".")};QuadBackend.prototype._genMaxIndexKey=function(q,b){for(var c=this.componentOrders[b],a=[],e=!1,g=0;g<c.length;g++){var h=q[c[g]];"string"===typeof h?(!1===e&&(e=!0,0<=g-1&&(a[g-1]+=1)),a[g]=-1):a[g]=
h}return l.map(a,function(a){return""+a}).join(".")};QuadBackend.prototype._indexForPattern=function(q){q=q.indexKey;for(var b=0;b<this.indices.length;b++)for(var c=this.indices[b],a=this.componentOrders[c],e=0;e<a.length&&!1!==l.include(q,a[e]);e++)if(e==q.length-1)return c;return"SPOG"};QuadBackend.prototype.clear=function(l){var b;b=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).clear();b.onsuccess=function(){l()};b.onerror=function(){l()}};QuadBackend.prototype.countReferences=
function(l,b){var c=this,a=c.db.transaction([c.dbName],"readwrite"),e,g=[];for(key in c.componentOrders.SPOG)(function(){var h=c.componentOrders.SPOG[key];e=a.objectStore(c.dbName).index(h).count(l);e.onsuccess=function(a){g.push(a.target.result);if(g.length===c.componentOrders.SPOG.length){a=0;for(i in g)a+=g[i];b(a)}};e.onerror=function(){b()}})()};QuadBackend.prototype.allCounts=function(l){var b={};(function(c,a,e){function g(a,b,c){b=b[c];a[b]=1+(a[b]||1);return a}c=c.openCursor();c.onsuccess=
function(a){if(a=a.target.result){var c=a.value;b=g(b,c,"subject");b=g(b,c,"predicate");b=g(b,c,"object");a.continue()}else e(b)};c.onerror=function(a){e(null,Error("Error retrieving data from the cursor: "+a.target.errorCode))}})(this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName),"id",l)};B.exports.QuadBackend=QuadBackend},{"./utils":55}],47:[function(r,B,y){var l=r("./quad_index").QuadIndex,q=r("./utils"),b=r("./utils");QuadBackend=function(b,a){if(0!==arguments){this.indexMap=
{};this.treeOrder=b.treeOrder;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};var e=this;q.eachSeries(this.indices,function(a,b){new l({order:e.treeOrder,componentOrder:e.componentOrders[a]},function(c){e.indexMap[a]=
c;b()})},function(){a(e)})}};QuadBackend.prototype._indexForPattern=function(c){c=c.indexKey;for(var a=0;a<this.indices.length;a++)for(var e=this.indices[a],g=this.componentOrders[e],h=0;h<g.length&&!1!==b.include(c,g[h]);h++)if(h==c.length-1)return e;return"SPOG"};QuadBackend.prototype.index=function(b,a){var e=this;q.eachSeries(this.indices,function(a,h){e.indexMap[a].insert(b,function(){h()})},function(){a(e)})};QuadBackend.prototype.range=function(b,a){var e=this._indexForPattern(b);this.indexMap[e].range(b,
function(b){a(b)})};QuadBackend.prototype.search=function(b,a){this.indexMap.SPOG.search(b,function(b){a(null!=b)})};QuadBackend.prototype.delete=function(b,a){var e=this;q.eachSeries(this.indices,function(a,h){e.indexMap[a].delete(b,function(){h()})},function(){a(e)})};QuadBackend.prototype.clear=function(b){var a=this;q.eachSeries(this.indices,function(b,c){new l({order:a.treeOrder,componentOrder:a.componentOrders[b]},function(h){a.indexMap[b]=h;c()})},function(){b(a)})};B.exports.QuadBackend=QuadBackend},
{"./quad_index":48,"./utils":55}],48:[function(r,B,y){var l=r("./btree").Tree,q=r("./utils"),b=r("./utils");NodeKey=function(b,a){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=a};NodeKey.prototype.comparator=function(b){for(var a=0;a<this.order.length;a++){var e=this.order[a];if(null==b[e])break;else{if(this[e]<b[e])return-1;if(this[e]>b[e])return 1}}return 0};Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;
this.graph=b.graph;this.indexKey=[];this.keyComponents={};var a=[],e=[],g=this;q.forEach(["subject","predicate","object","graph"],function(b){"string"===typeof g[b]?(e.push(b),g.keyComponents[b]=null):(a.push(b),g.keyComponents[b]=g[b],g.indexKey.push(b))});this.order=a.concat(e);this.key=new NodeKey(this.keyComponents,this.order)};QuadIndex=function(b,a){0!=arguments&&(this.componentOrder=b.componentOrder,l.call(this,b.order,function(b){b.comparator=function(a,c){for(var d=0;d<b.componentOrder.length;d++){var f=
b.componentOrder[d],m=a[f],f=c[f];if(m<f)return-1;if(m>f)return 1}return 0};b.rangeComparator=function(a,c){for(var d=0;d<b.componentOrder.length;d++){var f=b.componentOrder[d];if(null==c[f]||null==a[f])break;else{if(a[f]<c[f])return-1;if(a[f]>c[f])return 1}}return 0};a(b)}))};QuadIndex.prototype=q.create(l.prototype,{constructor:l});QuadIndex.prototype.insert=function(b,a){l.prototype.insert.call(this,b,null,function(b){a(b)})};QuadIndex.prototype.search=function(b,a){l.prototype.search.call(this,
b,function(b){a(b)},!0)};QuadIndex.prototype.range=function(b,a){this._rangeTraverse(this,this.root,b,a)};QuadIndex.prototype._rangeTraverse=function(c,a,e,g){var h=e.key,d=[],f=[a];b.whilst(function(){return 0<f.length},function(a){for(var e=f.shift(),g=0;g<e.numberActives&&-1===c.rangeComparator(e.keys[g].key,h);)g++;if(!0===e.isLeaf){for(var l=g;l<e.numberActives&&0===c.rangeComparator(e.keys[l].key,h);)d.push(e.keys[l].key),l++;a()}else c._diskRead(e.children[g],function(l){f.push(l);var v=g;
b.whilst(function(){return v<e.numberActives&&0===c.rangeComparator(e.keys[v].key,h)},function(a){d.push(e.keys[v].key);v++;c._diskRead(e.children[v],function(b){f.push(b);a()})},function(){a()})})},function(){g(d)})};B.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},{"./btree":38,"./utils":55}],49:[function(r,B,y){var l=r("./abstract_query_tree").AbstractQueryTree,q=r("./abstract_query_tree").NonSupportedSparqlFeatureError,b=r("./utils"),c=r("./quad_index"),a=r("./query_plan").QueryPlan,
e=r("./query_filters").QueryFilters,g=r("./rdf_model"),h=r("./rdf_loader").RDFLoader,d=r("./graph_callbacks").CallbacksBackend,f=r("./utils"),m=r("./utils");QueryEngine=function(a){0!=arguments.length&&(this.backend=a.backend,this.lexicon=a.lexicon,this.eventsOnBatchLoad=a.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new l,this.rdfLoader=new h(a.communication),this.callbacksBackend=new d(this),this.customFns=a.customFns||{})};QueryEngine.prototype.checkIntegrity=function(a){var b=
this;b.lexicon.allCounts(function(c){b.backend.allCounts(function(b){var d={onlyExpected:{},onlyActual:{},differences:{},equal:{}};for(k in c){var e=c[k],f=b[k];void 0===f?d.onlyexpected[k]=e:f===e?d.equal[k]=e:d.differences[k]={expected:e,actual:f}}for(k in b)e=c[k],void 0===e&&(d.onlyActual[k]=b[k]);a(d)})})};QueryEngine.prototype.setCustomFunctions=function(a){this.customFns=a};QueryEngine.prototype.registerNsInEnvironment=function(a,b){var c=[];null!=a&&null!=a.prefixes&&(c=a.prefixes);var d=
{},e;for(e in this.defaultPrefixes)d[e]=this.defaultPrefixes[e];for(e=0;e<c.length;e++){var f=c[e];"prefix"===f.token&&(d[f.prefix]=f.local)}b.namespaces=d;b.base=null!=a&&a.base&&"object"===typeof a.base?a.base.value:null};QueryEngine.prototype.applyModifier=function(a,b){if("DISTINCT"==a){for(var c={},d=[],e=0;e<b.length;e++){var f=b[e],g="",h;for(h in f){var m=f[h];null==m?g=g+h+"null":"literal"==m.token?(null!=m.value&&(g+=m.value),null!=m.lang&&(g+=m.lang),null!=m.type&&(g+=m.type)):g=m.value?
g+h+m.value:g+h+m}null==c[g]&&(d.push(f),c[g]=!0)}return d}return b};QueryEngine.prototype.applyLimitOffset=function(a,b,c){if(null==b&&null==a)return c;null==a&&(a=0);b=null==b?c.length:a+b;return c.slice(a,b)};QueryEngine.prototype.applySingleOrderBy=function(a,b,c,d,g){var h=[],m=this;f.eachSeries(a,function(a,f){e.collect(a.expression,[b],c,d,m,function(a){h.push(a[0].value);f()})},function(){g({binding:b,value:h})})};QueryEngine.prototype.applyOrderBy=function(a,b,c,d,e){var g=this,h=[];null!=
a&&0<a.length?f.eachSeries(b,function(b,e){g.applySingleOrderBy(a,b,c,d,function(a){h.push(a);e()})},function(){h.sort(function(b,c){return g.compareFilteredBindings(b,c,a,d)});for(var b=[],c=0;c<h.length;c++)b.push(h[c].binding);e(b)}):e(b)};QueryEngine.prototype.compareFilteredBindings=function(a,b,c,d){for(var f=0;;){if(f==a.value.length)return 0;var g=c[f].direction;if(null==a.value[f]&&null==b.value[f])f++;else{if(null==a.value[f])a={value:!1};else if(null==b.value[f])a={value:!0};else if("blank"===
a.value[f].token&&"blank"===b.value[f].token){f++;continue}else if("blank"===a.value[f].token)a={value:!1};else if("blank"===b.value[f].token)a={value:!0};else if("uri"===a.value[f].token&&"uri"===b.value[f].token)if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);else if("uri"===a.value[f].token)a={value:!1};else if("uri"===b.value[f].token)a={value:!0};else if("literal"===a.value[f].token&&"literal"===b.value[f].token&&
null==a.value[f].type&&null==b.value[f].type)if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);else if("literal"===a.value[f].token&&null==a.value[f].type)a={value:!1};else if("literal"===b.value[f].token&&null==b.value[f].type)a={value:!0};else if(!0==e.runEqualityFunction(a.value[f],b.value[f],[],this,d).value){f++;continue}else a=e.runTotalGtFunction(a.value[f],b.value[f],[]);return!0==a.value?"ASC"===g?1:-1:
"ASC"===g?-1:1}}};QueryEngine.prototype.removeDefaultGraphBindings=function(a,b){for(var c=[],d={},e=0;e<b.named.length;e++)d[b.named[e].oid]=!0;for(e=0;e<b.implicit.length;e++)null==d[b.implicit[e].oid]&&c.push(b.implicit[e].oid);c=[];for(e=0;e<a.length;e++){var f=a[e],g=!1,h;for(h in f){for(var m=0;m<d.length;m++)if(f[h]===d[m]){g=!0;break}if(g)break}g||c.push(f)}return c};QueryEngine.prototype.aggregateBindings=function(a,b,c,d,f){this.copyDenormalizedBindings(b,d.outCache,function(b){for(var g=
{},h=0;h<a.length;h++){var m=e.runAggregator(a[h],b,this,c,d);a[h].alias?g[a[h].alias.value]=m:g[a[h].value.value]=m}f(g)})};QueryEngine.prototype.projectBindings=function(a,b,c){if("*"===a[0].kind)return b;for(var d=[],f=0;f<b.length;f++){for(var g=b[f],h={},m=!0,l=0;l<a.length;l++)if("variable"==a[l].token&&"aliased"!=a[l].kind)h[a[l].value.value]=g[a[l].value.value];else if("variable"==a[l].token&&"aliased"==a[l].kind){var q=e.runFilter(a[l].expression,g,this,c,{blanks:{},outCache:{}});if(e.isEbvError(q)){m=
!1;break}else h[a[l].alias.value]=q}!0===m&&d.push(h)}return d};QueryEngine.prototype.resolveNsInEnvironment=function(a,b){return b.namespaces[a]};QueryEngine.prototype.normalizeTerm=function(a,c,d,e){if("uri"===a.token)a=b.lexicalFormBaseUri(a,c),null==a?e(null):d?this.lexicon.registerUri(a,e):this.lexicon.resolveUri(a,e);else if("literal"===a.token)a=b.lexicalFormLiteral(a,c),d?this.lexicon.registerLiteral(a,e):this.lexicon.resolveLiteral(a,e);else if("blank"===a.token){var f=a.value;a=c.blanks[f];
null!=a?e(a):d?this.lexicon.registerBlank(function(a){c.blanks[f]=a;e(a)}):this.lexicon.resolveBlank(function(a){c.blanks[f]=a;e(a)})}else"var"===a.token?e(a.value):e(null)};QueryEngine.prototype.normalizeDatasets=function(a,b,c){var d=this;f.eachSeries(a,function(a,c){a.value===d.lexicon.defaultGraphUri?(a.oid=d.lexicon.defaultGraphOid,c()):d.normalizeTerm(a,b,!1,function(b){null!=b&&(a.oid=b);c()})},function(){c(!0)})};QueryEngine.prototype.normalizeQuad=function(a,c,d,e){var g=null,h=null,m=null,
l=null,q=this,r=!1;f.seq(function(e){if(null==a.graph||a.graph.value===q.lexicon.defaultGraphUri)l=0,e();else{var f=b.lexicalFormBaseUri(a.graph,c);q.normalizeTerm(a.graph,c,d,function(b){null!=b?(l=b,!0===d&&"var"!=a.graph.token?q.lexicon.registerGraph(b,f,function(){e()}):e()):(r=!0,e())})}},function(b){!1===r?q.normalizeTerm(a.subject,c,d,function(a){null!=a?g=a:r=!0;b()}):b()},function(b){!1===r?q.normalizeTerm(a.predicate,c,d,function(a){null!=a?h=a:r=!0;b()}):b()},function(b){!1===r?q.normalizeTerm(a.object,
c,d,function(a){null!=a?m=a:r=!0;b()}):b()})(function(){!0===r?e(null):e({subject:g,predicate:h,object:m,graph:l})})};QueryEngine.prototype.denormalizeBindingsList=function(a,b,c){var d=this,e=[];f.eachSeries(a,function(a,c){d.denormalizeBindings(a,b,function(a){e.push(a);c()})},function(){c(e)})};QueryEngine.prototype.copyDenormalizedBindings=function(a,b,c){var d=this,e=[];f.eachSeries(a,function(a,c){var g={},h=m.keys(a);f.eachSeries(h,function(c,e){var f=a[c];if(null==f)g[c]=null,e();else if("object"===
typeof f)g[c]=f,e();else{var h=b[f];null!=h?(g[c]=h,e()):d.lexicon.retrieve(f,function(a){b[f]=a;g[c]=a;e()})}},function(){e.push(g);c()})},function(){c(e)})};QueryEngine.prototype.denormalizeBindings=function(a,b,c){var d=m.keys(a),e=b.outCache,g=this;f.eachSeries(d,function(c,d){var f=a[c];null==f?(a[c]=null,d()):null!=e[f]?(a[c]=e[f],d()):g.lexicon.retrieve(f,function(e){a[c]=e;"blank"===e.token&&(b.blanks[e.value]=f);d()})},function(){c(a)})};QueryEngine.prototype.execute=function(a,c,d,e){a=
b.normalizeUnicodeLiterals(a);a=this.abstractQueryTree.parseQueryString(a);if(null==a)c(!1,"Error parsing query string");else if("query"===a.token&&"update"==a.kind){this.callbacksBackend.startGraphModification();var f=this;this.executeUpdate(a,function(a,b){f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();a?(f.callbacksBackend.cancelGraphModification(),c(a,b)):f.callbacksBackend.endGraphModification(function(){c(a,b)})})}else"query"===a.token&&"query"==a.kind&&this.executeQuery(a,c,d,e)};
QueryEngine.prototype.executeQuery=function(a,b,c,d){var e=a.units,f=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,h);var m=f.abstractQueryTree.parseExecutableUnit(e[0]);"select"===m.kind?this.executeSelect(m,h,c,d,function(a,c){null==a?"object"===typeof c&&!0===c.denorm?b(null,c.bindings):f.denormalizeBindingsList(c,h,function(a){b(null,a)}):b(a)}):"ask"===m.kind?(m.projection=[{token:"variable",kind:"*"}],this.executeSelect(m,h,c,d,function(a,c){null==a?0<c.length?b(null,
!0):b(null,!1):b(a)})):"construct"===m.kind&&(m.projection=[{token:"variable",kind:"*"}],f=this,this.executeSelect(m,h,c,d,function(a,c){null==a?f.denormalizeBindingsList(c,h,function(a){if(null!=a){var c=new g.Graph;null==m.template&&(m.template={triplesContext:m.pattern});for(var d=1,e=[],n=0;n<a.length;n++){for(var l=a[n],v=0;v<e.length;v++)delete e[v].valuetmp;for(v=0;v<m.template.triplesContext.length;v++){for(var q=["subject","predicate","object"],r=m.template.triplesContext[v],C=0;C<q.length;C++){var A=
q[C];if("blank"===r[A].token&&(!r[A].valuetmp||null==r[A].valuetmp)){var y="_:b"+d;d++;r[A].valuetmp=y;e.push(r[A])}}q=g.buildRDFResource(r.subject,l,f,h);C=g.buildRDFResource(r.predicate,l,f,h);r=g.buildRDFResource(r.object,l,f,h);null!=q&&null!=C&&null!=r&&(C=new g.Triple(q,C,r),c.add(C))}}b(null,c)}else b(Error("Error denormalizing bindings."))}):b(a)}))};QueryEngine.prototype.executeSelect=function(a,b,c,d,e){if("select"===a.kind||"ask"===a.kind||"construct"===a.kind||"modify"===a.kind){var g=
a.projection,h=a.dataset,m=a.modifier,l=a.limit,q=a.offset,s=a.order,u=this;if(null!=c||null!=d)h.implicit=c||[],h.named=d||[];null!=h.implicit&&0===h.implicit.length&&null!=h.named&&0===h.named.length&&h.implicit.push(this.lexicon.defaultGraphUriTerm);u.normalizeDatasets(h.implicit.concat(h.named),b,function(){try{u.executeSelectUnit(g,h,a.pattern,b,function(c){if(null!=c){if(null!=a.group&&""===a.group){for(var d=!1,r=0;r<a.projection.length;r++)if(null!=a.projection[r].expression&&"aggregate"===
a.projection[r].expression.expressionType){d=!0;break}!0===d&&(a.group="singleGroup")}a.group&&""!=a.group?u.checkGroupSemantics(a.group,g)?u.groupSolution(c,a.group,h,b,function(a){var c=[];f.eachSeries(a,function(a,d){u.aggregateBindings(g,a,h,b,function(a){c.push(a);d()})},function(){e(null,{bindings:c,denorm:!0})})}):e(Error("Incompatible Group and Projection variables")):u.applyOrderBy(s,c,h,b,function(a){a=u.projectBindings(g,a,h);a=u.applyModifier(m,a);a=u.applyLimitOffset(q,l,a);a=u.removeDefaultGraphBindings(a,
h);e(null,a)})}else e(Error("Error executing SELECT query."))})}catch(c){console.log(c),e(c)}})}else e(Error("Cannot execute "+a.kind+" query as a select query"))};QueryEngine.prototype.groupSolution=function(a,b,c,d,g){var h=[],m=[],l=!1,q=this;"singleGroup"===b?g([a]):f.eachSeries(a,function(a,g){var n=!0;f.eachSeries(b,function(b,f){var g=null;if("var"===b.token)g=b.value,!1==l&&h.push(g),f();else if("aliased_expression"===b.token){g=b.alias.value;!1==l&&h.push(g);if("var"===b.expression.primaryexpression)a[b.alias.value]=
a[b.expression.value.value];else{var m=q.copyDenormalizedBindings([a],d.outCache),m=e.runFilter(b.expression,m[0],q,c,d);e.isEbvError(m)?n=!1:(null!=m.value&&(m.value=""+m.value),a[b.alias.value]=m)}f()}else q.copyDenormalizedBindings([a],d.outCache,function(c){c=e.runFilter(b,c[0],q,d);e.isEbvError(c)?n=!1:(a["groupCondition"+env._i]=c,g="groupCondition"+env._i,!1==l&&h.push(g));f()})},function(){!1==l&&(l=!0);!0===n&&m.push(a);g()})},function(){for(var a={},b=0;b<m.length;b++){for(var c=m[b],d=
"",e=0;e<h.length;e++)var f=c[h[e]],d="object"===typeof f?d+f.value:d+f;null==a[d]?a[d]=[c]:a[d].push(c)}var b=[],n;for(n in a)b.push(a[n]);g(b)})};QueryEngine.prototype.executeSelectUnit=function(a,b,c,d,f){if("BGP"===c.kind)this.executeAndBGP(a,b,c,d,f);else if("UNION"===c.kind)this.executeUNION(a,b,c.value,d,f);else if("JOIN"===c.kind)this.executeJOIN(a,b,c,d,f);else if("LEFT_JOIN"===c.kind)this.executeLEFT_JOIN(a,b,c,d,f);else if("FILTER"===c.kind){var g=this;this.executeSelectUnit(a,b,c.value,
d,function(a){null!=a?e.checkFilters(c,a,!1,b,d,g,f):f([])})}else if("EMPTY_PATTERN"===c.kind)f([]);else throw new q(c.kind);};QueryEngine.prototype.executeUNION=function(b,c,d,g,h){var m=d[0],l=d[1],q=null,r,y;if(2!=d.length)throw"SPARQL algebra UNION with more than two components";var s=this;f.seq(function(a){try{s.executeSelectUnit(b,c,m,g,function(b){r=b;a()})}catch(d){q=d,a()}},function(a){if(null==q)try{s.executeSelectUnit(b,c,l,g,function(b){y=b;a()})}catch(d){q=d,a()}else a()})(function(){if(null!=
q)h(q);else{var b=a.unionBindings(r,y);e.checkFilters(d,b,!1,c,g,s,h)}})};QueryEngine.prototype.executeAndBGP=function(b,c,d,f,g){var h=this;a.executeAndBGPsDPSize(d.value,c,this,f,function(a){null!=a?e.checkFilters(d,a,!1,c,f,h,g):g(null)})};QueryEngine.prototype.executeLEFT_JOIN=function(b,c,d,g,h){var m=d.lvalue,l=d.rvalue,q=null,r=null,y=null,s=this,u,x;f.seq(function(a){try{s.executeSelectUnit(b,c,m,g,function(b){q=b;a()})}catch(d){y=d,a()}},function(a){if(null!=y)a();else try{s.executeSelectUnit(b,
c,l,g,function(b){r=b;a()})}catch(d){y=d,a()}})(function(){if(null!=y)h(y);else{var b=a.leftOuterJoinBindings(q,r);e.checkFilters(d,b,!0,c,g,s,function(a){if(1<q.length&&1<r.length){var b=[],c={},d;for(d in q[0])c[d]=!0;for(d in r[0])!0!=c[d]&&b.push(d);u=[];x={};for(c=0;c<a.length;c++)if(!0===a[c].__nullify__){for(var e=0;e<b.length;e++)a[c].bindings[b[e]]=null;var e=[],f=[];for(d in a[c].bindings)null!=a[c].bindings[d]&&(e.push(d+a[c].bindings[d]),e.sort(),f.push(e.join("")));if(null==x[e.join("")]){for(e=
0;e<f.length;e++)x[f[e]]=!0;u.push(a[c].bindings)}}else for(d in u.push(a[c]),e=[],a[c])e.push(d+a[c][d]),e.sort(),x[e.join("")]=!0;h(u)}else h(a)})}})};QueryEngine.prototype.executeJOIN=function(b,c,d,g,h){var m=d.lvalue,l=d.rvalue,q=null,r=null,y=null,s=this;f.seq(function(a){try{s.executeSelectUnit(b,c,m,g,function(b){q=b;a()})}catch(d){y=d,a()}},function(a){if(null!=y)a();else try{s.executeSelectUnit(b,c,l,g,function(b){r=b;a()})}catch(d){y=d,a()}})(function(){var b=null;if(null!=y)h(y);else if(0===
q.length||0===r.length)h([]);else{var b={},f=[],n;for(n in q[0])b[n]=!1;for(n in r[0])!1===b[n]&&f.push(n);b=0==f.length?a.joinBindings(q,r):s.abstractQueryTree.treeWithUnion(m)||s.abstractQueryTree.treeWithUnion(l)?a.joinBindings(q,r):a.joinBindings2(f,q,r);e.checkFilters(d,b,!1,c,g,s,h)}})};QueryEngine.prototype.rangeQuery=function(a,b,d){var e=this;e.normalizeQuad(a,b,!1,function(a){null!=a?e.backend.range(new c.Pattern(a),function(a){null==a||0==a.length?d([]):d(a)}):d(null)})};QueryEngine.prototype.executeUpdate=
function(a,c){var d=a.units,e=this,g={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,g);for(var h=0;h<d.length;h++){var m=e.abstractQueryTree.parseExecutableUnit(d[h]);if("insertdata"===m.kind){var l=null;f.eachSeries(m.quads,function(a,b){null===l?e._executeQuadInsert(a,g,function(a){null!=a&&(l=a);b()}):b()},function(){null===l?c(null,!0):c(l)})}else if("deletedata"===m.kind)l=null,f.eachSeries(m.quads,function(a,b){null===l?e._executeQuadDelete(a,g,function(a){null!=a&&(l=a);b()}):
b()},function(){null===l?c(null,!0):c(l)});else if("modify"===m.kind)this._executeModifyQuery(m,g,c);else if("create"===m.kind)c(!0);else if("load"===m.kind){var q={uri:b.lexicalFormBaseUri(m.sourceGraph,g)};null!=m.destinyGraph&&(q={uri:b.lexicalFormBaseUri(m.destinyGraph,g)});e=this;this.rdfLoader.load(m.sourceGraph.value,q,function(a,b){a?c(!1,"error batch loading quads"):e.batchLoad(b,function(a){c(null!=a,a||"error batch loading quads")})})}else if("drop"===m.kind)this._executeClearGraph(m.destinyGraph,
g,c);else if("clear"===m.kind)this._executeClearGraph(m.destinyGraph,g,c);else throw Error("not supported execution unit");}};QueryEngine.prototype.batchLoad=function(a,b){var e=0,g={},h=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var m=function(a,b,c,d){var e;a[b].uri||"uri"===a[b].token?h.lexicon.registerUri(a[b].uri||a[b].value,function(e){null!=a[b].uri&&(a[b]={token:"uri",value:a[b].uri},delete a[b].uri);c[b]=e;d()}):a[b].literal||"literal"===a[b].token?h.lexicon.registerLiteral(a[b].literal||
a[b].value,function(e){null!=a[b].literal&&(a[b]=h.lexicon.parseLiteral(a[b].literal),delete a[b].literal);c[b]=e;d()}):(e=g[a[b].blank||a[b].value],null==e?h.lexicon.registerBlank(function(e){g[a[b].blank||a[b].value]=e;null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank);c[b]=e;d()}):(null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank),c[b]=e,d()))};f.eachSeries(a,function(a,b){var g={};f.eachSeries(["subject","predicate","object","graph"],function(b,
c){m(a,b,g,c)},function(){var f=a;a=g;var n=new c.NodeKey(a);h.backend.search(n,function(c){c?b():h.backend.index(n,function(c){!0==c&&(h.eventsOnBatchLoad&&h.callbacksBackend.nextGraphModification(d.added,[f,a]),e+=1);b()})})})},function(){null!=h.lexicon.updateAfterWrite&&h.lexicon.updateAfterWrite();var a=function(){b(e)};h.eventsOnBatchLoad?h.callbacksBackend.endGraphModification(a()):a()})};QueryEngine.prototype._executeModifyQuery=function(a,b,c){var d=this,e=!0,g=Error("Error executing modify query"),
h=null,m=["subject","predicate","object","graph"];a.insert=null==a.insert?[]:a.insert;a.delete=null==a.delete?[]:a.delete;f.seq(function(c){var f=[],m=[];null!=a.with&&f.push(a.with);if(null!=a.using)for(var m=[],l=0;l<a.using.length;l++){var q=a.using[l];"named"===q.kind?m.push(q.uri):f.push(q.uri)}a.dataset={};a.projection=[{token:"variable",kind:"*"}];d.executeSelect(a,b,f,m,function(a,f){if(a)return g=a,e=!1,c();d.denormalizeBindingsList(f,b,function(a){null!=a?h=a:(g=Error("Error denormalizing bindings list"),
e=!1);c()})})},function(c){var g=a.with;if(e){for(var l=[],q=0;q<a.delete.length;q++)for(var r=a.delete[q],C=0;C<h.length;C++){for(var w={},y=h[C],B=0;B<m.length;B++){var F=m[B];"graph"==F&&null==r[F]?w.graph=g:w[F]="var"===r[F].token?y[r[F].value]:r[F]}l.push(w)}f.eachSeries(l,function(a,c){d._executeQuadDelete(a,b,function(){c()})},function(){c()})}else c()},function(c){var g=a.with;if(e){for(var l=[],q=0;q<a.insert.length;q++)for(var r=a.insert[q],C=0;C<h.length;C++){for(var w={},y=h[C],B=0;B<
m.length;B++){var F=m[B];"graph"==F&&null==r[F]?w.graph=g:w[F]="var"===r[F].token?y[r[F].value]:r[F]}l.push(w)}f.eachSeries(l,function(a,c){d._executeQuadInsert(a,b,function(){c()})},function(){c()})}else c()})(function(){e?c(null):c(g)})};QueryEngine.prototype._executeQuadInsert=function(a,b,e){var g=this,h,m=!1,l=null;f.seq(function(c){g.normalizeQuad(a,b,!0,function(a){null!=a?h=a:(m=!0,l="Error normalizing quad.");c()})},function(b){if(!1===m){var e=new c.NodeKey(h);g.backend.search(e,function(c){!0===
c?b():g.backend.index(e,function(){g.callbacksBackend.nextGraphModification(d.added,[a,h]);b()})})}else b()})(function(){m?e(Error(l)):e(null,!0)})};QueryEngine.prototype._executeQuadDelete=function(a,b,e){var g=this,h,m=!1,l,q;f.seq(function(c){g.normalizeQuad(a,b,!1,function(a){null!=a?h=a:(m=!0,l="Error normalizing quad.");c()})},function(a){!1===m?(q=new c.NodeKey(h),g.backend.delete(q,function(){a()})):a()},function(b){!1===m?g.lexicon.unregister(a,q,function(){g.callbacksBackend.nextGraphModification(d.deleted,
[a,h]);b()}):b()})(function(){m?e(Error(l)):e(null,!0)})};QueryEngine.prototype._executeClearGraph=function(a,c,d){var e=this;"default"===a?this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d):"named"===a?e.lexicon.registeredGraphs(!0,function(a){if(null!=a){var b=!1;f.eachSeries(a,function(a,c){b?c():e.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a,d){b=!a;c()})},function(){d(!b)})}else d(!1,"Error deleting named graphs")}):"all"===a?(e=this,this.execute("CLEAR DEFAULT",
function(a,b){a?d(!1,b):e.execute("CLEAR NAMED",d)})):"uri"==a.token?(a=b.lexicalFormBaseUri(a,c),null!=a?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a){e.callbacksBackend.ongoingModification=!1;d(a)})):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};QueryEngine.prototype.checkGroupSemantics=function(a,b){if("singleGroup"===a)return!0;for(var c={},d=0;d<a.length;d++){var e=a[d];"var"===e.token?c[e.value]=
!0:"aliased_expression"===e.token&&(c[e.alias.value]=!0)}for(d=0;d<b.length;d++)if(e=b[d],"var"===e.kind){if(null==c[e.value.value])return!1}else if("aliased"===e.kind&&e.expression&&"var"===e.expression.primaryexpression&&null==c[e.expression.value.value])return!1;return!0};QueryEngine.prototype.computeCosts=function(a,b,c){for(var d=0;d<a.length;d++)a[d]._cost=this.quadCost(a[d],b);c(a)};QueryEngine.prototype.quadCost=function(a,b){return 1};QueryEngine.prototype.registerDefaultNamespace=function(a,
b){this.defaultPrefixes[a]=b};B.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":37,"./graph_callbacks":40,"./quad_index":48,"./query_filters":50,"./query_plan":51,"./rdf_loader":52,"./rdf_model":53,"./utils":55}],50:[function(r,B,y){var l=r("./utils"),q=r("./utils");QueryFilters={checkFilters:function(b,c,a,e,g,h,d){var f=[];b.filter&&"function"!==typeof b.filter&&(f=b.filter);var m=[];if(null==f||0===f.length||null!=b.length)return d(c);q.eachSeries(f,function(b,d){QueryFilters.run(b.value,
c,a,e,g,h,function(a){var b=[];q.eachSeries(a,function(a,c){null!=a.__nullify__?m.push(a):b.push(a);c()},function(){c=b;d()})})},function(){d(c.concat(m))})},boundVars:function(b){if(null!=b.expressionType){var c=b.expressionType;if("relationalexpression"==c)return c=b.op2,QueryFilters.boundVars(b.op1)+QueryFilters.boundVars(c);if("conditionalor"==c||"conditionaland"==c){for(var a=[],c=0;c<b.operands;c++)a=a.concat(QueryFilters.boundVars(b.operands[c]));return a}if("builtincall"==c){if(null==b.args)return[];
a=[];for(c=0;c<b.args.length;c++)a=a.concat(QueryFilters.boundVars(b.args[c]));return a}if("multiplicativeexpression"==c){a=QueryFilters.boundVars(b.factor);for(c=0;c<b.factors.length;c++)a=a.concat(QueryFilters.boundVars(b.factors[c].expression));return a}if("additiveexpression"==c){a=QueryFilters.boundVars(b.summand);for(c=0;c<b.summands.length;c++)a=a.concat(QueryFilters.boundVars(b.summands[c].expression));return a}if("regex"==c)return a=QueryFilters.boundVars(b.expression1),a.concat(QueryFilters.boundVars(b.expression2));
if("unaryexpression"==c)return QueryFilters.boundVars(b.expression);if("atomic"==c)return"var"==b.primaryexpression?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";},run:function(b,c,a,e,g,h,d){h.copyDenormalizedBindings(c,g.outCache,function(f){for(var m=[],n=0;n<c.length;n++){var l=QueryFilters.runFilter(b,f[n],h,e,g),l=QueryFilters.ebv(l);QueryFilters.isEbvError(l)?a&&(l={__nullify__:!0,bindings:c[n]},m.push(l)):!0===l?m.push(c[n]):
a&&(l={__nullify__:!0,bindings:c[n]},m.push(l))}d(m)})},collect:function(b,c,a,e,g,h){g.copyDenormalizedBindings(c,e.outCache,function(d){for(var f=[],m=0;m<d.length;m++){var n=QueryFilters.runFilter(b,d[m],g,a,e);f.push({binding:c[m],value:n})}return h(f)})},runDistinct:function(b,c){},runAggregator:function(b,c,a,e,g){if(null==c||0===c.length)return QueryFilters.ebvError();if("variable"===b.token&&"var"==b.kind)return c[0][b.value.value];if("variable"===b.token&&"aliased"===b.kind){if("atomic"===
b.expression.expressionType&&"var"===b.expression.primaryexpression)return c[0][b.expression.value.value];if("aggregate"===b.expression.expressionType){if("max"===b.expression.aggregateType){for(var h=null,d=0;d<c.length;d++){var f=c[d],f=QueryFilters.runFilter(b.expression.expression,f,a,e,g);QueryFilters.isEbvError(f)||(null===h?h=f:!0===QueryFilters.runLtFunction(h,f).value&&(h=f))}return null===h?QueryFilters.ebvError():h}if("min"===b.expression.aggregateType){h=null;for(d=0;d<c.length;d++)f=
c[d],f=QueryFilters.runFilter(b.expression.expression,f,a,e,g),QueryFilters.isEbvError(f)||(null===h?h=f:!0===QueryFilters.runGtFunction(h,f).value&&(h=f));return null===h?QueryFilters.ebvError():h}if("count"===b.expression.aggregateType){var h={},m=0;if("*"===b.expression.expression)if(null!=b.expression.distinct&&""!=b.expression.distinct)for(d=0;d<c.length;d++){var f=c[d],n=l.hashTerm(f);null==h[n]&&(h[n]=!0,m++)}else m=c.length;else for(d=0;d<c.length;d++)f=c[d],f=QueryFilters.runFilter(b.expression.expression,
f,a,e,g),QueryFilters.isEbvError(f)||(null!=b.expression.distinct&&""!=b.expression.distinct?(n=l.hashTerm(f),null==h[n]&&(h[n]=!0,m++)):m++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m}}if("avg"===b.expression.aggregateType){for(var h={},t={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},d=m=0;d<c.length;d++)f=c[d],f=QueryFilters.runFilter(b.expression.expression,f,a,e,g),QueryFilters.isEbvError(f)||(null!=b.expression.distinct&&""!=
b.expression.distinct?(n=l.hashTerm(f),null==h[n]&&(h[n]=!0,QueryFilters.isNumeric(f)&&(t=QueryFilters.runSumFunction(t,f),m++))):QueryFilters.isNumeric(f)&&(t=QueryFilters.runSumFunction(t,f),m++));b=QueryFilters.runDivFunction(t,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m});b.value=""+b.value;return b}if("sum"===b.expression.aggregateType){h={};t={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(d=0;d<c.length;d++)f=c[d],f=QueryFilters.runFilter(b.expression.expression,
f,a,e,g),QueryFilters.isEbvError(f)||(null!=b.expression.distinct&&""!=b.expression.distinct?(n=l.hashTerm(f),null==h[n]&&(h[n]=!0,QueryFilters.isNumeric(f)&&(t=QueryFilters.runSumFunction(t,f)))):QueryFilters.isNumeric(f)&&(t=QueryFilters.runSumFunction(t,f)));t.value=""+t.value;return t}return f=QueryFilters.runFilter(aggregate.expression,c[0],e,{blanks:{},outCache:{}})}}},runFilter:function(b,c,a,e,g){if(null!=b.expressionType){var h=b.expressionType;if("relationalexpression"==h){var h=QueryFilters.runFilter(b.op1,
c,a,e,g),d=QueryFilters.runFilter(b.op2,c,a,e,g);return QueryFilters.runRelationalFilter(b,h,d,c,a,e,g)}if("conditionalor"==h)return QueryFilters.runOrFunction(b,c,a,e,g);if("conditionaland"==h)return QueryFilters.runAndFunction(b,c,a,e,g);if("additiveexpression"==h)return QueryFilters.runAddition(b.summand,b.summands,c,a,e,g);if("builtincall"==h)return QueryFilters.runBuiltInCall(b.builtincall,b.args,c,a,e,g);if("multiplicativeexpression"==h)return QueryFilters.runMultiplication(b.factor,b.factors,
c,a,e,g);if("unaryexpression"==h)return QueryFilters.runUnaryExpression(b.unaryexpression,b.expression,c,a,e,g);if("irireforfunction"==h)return QueryFilters.runIriRefOrFunction(b.iriref,b.args,c,a,e,g);if("regex"==h)return QueryFilters.runRegex(b.text,b.pattern,b.flags,c,a,e,g);if("custom"==h)return QueryFilters.runBuiltInCall(b.name,b.args,c,a,e,g);if("atomic"==h){if("var"==b.primaryexpression)return c[b.value.value];"object"==typeof b.value&&null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=
l.lexicalFormBaseUri(b.value.type,g));return b.value}throw"Unknown filter expression type";}throw"Cannot find bound expressions in a no expression token";},isRDFTerm:function(b){return null==b?!1:b.token&&"literal"==b.token||b.token&&"uri"==b.token||b.token&&"blank"==b.token?!0:!1},RDFTermEquality:function(b,c,a,e){return"literal"===b.token&&"literal"===c.token?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:null!=b.type&&null!=c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(b)&&null!=
c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(c)&&null!=b.type?QueryFilters.ebvError():!1:"uri"===b.token&&"uri"===c.token?l.lexicalFormBaseUri(b,e)==l.lexicalFormBaseUri(c,e):"blank"===b.token&&"blank"===c.token?b.value==c.value:!1},isInteger:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==
b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isFloat:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#float"==b.type?!0:!1:!1},isDecimal:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#decimal"==b.type?!0:!1:!1},isDouble:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#double"==b.type?!0:!1:!1},isNumeric:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==
b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isSimpleLiteral:function(b){return b&&"literal"==b.token?null==b.type&&null==b.lang?!0:!1:!1},isXsdType:function(b,c){return c&&"literal"==c.token?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1},
ebv:function(b){if(null==b||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(b.token&&"literal"===b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==
b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type){var c=parseFloat(b.value);return isNaN(c)?!1:0!=parseFloat(b.value)}return"http://www.w3.org/2001/XMLSchema#boolean"===
b.type?"true"===b.value||!0===b.value||"True"===b.value:"http://www.w3.org/2001/XMLSchema#string"===b.type?""!=b.value:"http://www.w3.org/2001/XMLSchema#dateTime"===b.type?null!=new Date(b.value):QueryFilters.isEbvError(b)?b:null==b.type?""!=b.value?!0:!1:QueryFilters.ebvError()}return!0===b.value}};QueryFilters.effectiveBooleanValue=QueryFilters.ebv;QueryFilters.ebvTrue=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};QueryFilters.ebvFalse=function(){return{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};QueryFilters.isEbvError=function(b){return"object"==typeof b&&null!=b?"https://github.com/antoniogarrote/js-tools/types#error"===b.type:!1};QueryFilters.ebvBoolean=function(b){return QueryFilters.isEbvError(b)?b:!0===b?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.runRelationalFilter=function(b,
c,a,e,g,h,d){b=b.operator;if("="===b)return QueryFilters.runEqualityFunction(c,a,e,g,h,d);if("!="===b)return c=QueryFilters.runEqualityFunction(c,a,e,g,h,d),QueryFilters.isEbvError(c)||(c.value=!c.value),c;if("<"===b)return QueryFilters.runLtFunction(c,a,e);if(">"===b)return QueryFilters.runGtFunction(c,a,e);if("<="===b)return QueryFilters.runLtEqFunction(c,a,e);if(">="===b)return QueryFilters.runGtEqFunction(c,a,e);throw"Error applying relational filter, unknown operator";};QueryFilters.effectiveTypeValue=
function(b){if("literal"==b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type)return b=parseFloat(b.value);if("http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==
b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#date"==
b.type||"http://www.w3.org/2001/XMLSchema#dateTime"==b.type)try{return l.parseISO8601(b.value)}catch(c){return null}else return"http://www.w3.org/2001/XMLSchema#boolean"==b.type?!0===b.value||"true"===b.value||"1"===b.value||1===b.value||!0===b.value?!0:!1===b.value||"false"===b.value||"0"===b.value||0===b.value||!1===b.value?!1:void 0:"http://www.w3.org/2001/XMLSchema#string"==b.type?null===b.value||void 0===b.value?void 0:""+b.value:b.value}else throw console.log("not implemented yet"),console.log(b),
"value not supported in operations yet";};QueryFilters.runOrFunction=function(b,c,a,e,g){for(var h=null,d=0;d<b.operands.length;d++){var f=QueryFilters.runFilter(b.operands[d],c,a,e,g);!1==QueryFilters.isEbvError(f)&&(f=QueryFilters.ebv(f));null==h?h=f:QueryFilters.isEbvError(f)?h=QueryFilters.isEbvError(h)?QueryFilters.ebvError():!0===h?!0:QueryFilters.ebvError():!0===f?h=!0:QueryFilters.isEbvError(h)&&(h=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(h)};QueryFilters.runAndFunction=function(b,
c,a,e,g){for(var h=null,d=0;d<b.operands.length;d++){var f=QueryFilters.runFilter(b.operands[d],c,a,e,g);!1==QueryFilters.isEbvError(f)&&(f=QueryFilters.ebv(f));null==h?h=f:QueryFilters.isEbvError(f)?h=QueryFilters.isEbvError(h)?QueryFilters.ebvError():!0===h?QueryFilters.ebvError():!1:!0===f?QueryFilters.isEbvError(h)&&(h=QueryFilters.ebvError()):h=!1}return QueryFilters.ebvBoolean(h)};QueryFilters.runEqualityFunction=function(b,c,a,e,g,h){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();
if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c))return a=QueryFilters.effectiveTypeValue(b),g=QueryFilters.effectiveTypeValue(c),isNaN(a)||isNaN(g)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,c,e,h)):QueryFilters.ebvBoolean(a==g);if((QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",b))&&(QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",c))||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)==
QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?0==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.isRDFTerm(b)&&
QueryFilters.isRDFTerm(c)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,c,e,h)):QueryFilters.ebvFalse()};QueryFilters.runGtFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",
c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?1==b?QueryFilters.ebvTrue():
QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runTotalGtFunction=function(b,c){return QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c)?QueryFilters.ebvError():QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isSimpleLiteral("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isSimpleLiteral("boolean",c)||QueryFilters.isXsdType("dateTime",
b)&&QueryFilters.isSimpleLiteral("dateTime",c)?QueryFilters.runGtFunction(b,c,[]):b.token&&"uri"===b.token&&c.token&&"uri"===c.token?QueryFilters.ebvBoolean(b.value>c.value):b.token&&"literal"===b.token&&c.token&&"literal"===c.token?QueryFilters.ebvBoolean(""+b.value+b.type+b.lang>""+c.value+c.type+c.lang):b.token&&"blank"===b.token&&c.token&&"blank"===c.token?QueryFilters.ebvBoolean(b.value>c.value):b.value&&c.value?QueryFilters.ebvBoolean(b.value>c.value):QueryFilters.ebvTrue()};QueryFilters.runLtFunction=
function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",
b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?-1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runGtEqFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||
QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>=QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",
b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?-1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runLtEqFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();
if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<=QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",
c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runAddition=function(b,c,a,e,g,h){var d=QueryFilters.runFilter(b,a,e,g,h);if(QueryFilters.isEbvError(d))return QueryFilters.ebvError();b=d;if(QueryFilters.isNumeric(d)){for(d=
0;d<c.length;d++){var f=QueryFilters.runFilter(c[d].expression,a,e,g,h);if(QueryFilters.isNumeric(f))"+"===c[d].operator?b=QueryFilters.runSumFunction(b,f):"-"===c[d].operator&&(b=QueryFilters.runSubFunction(b,f));else return QueryFilters.ebvFalse()}return b}return QueryFilters.ebvFalse()};QueryFilters.runSumFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)+QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||
QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runSubFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();
var a=QueryFilters.effectiveTypeValue(b)-QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:a}};QueryFilters.runMultiplication=function(b,c,a,e,g,h){b=QueryFilters.runFilter(b,a,e,g,h);if(QueryFilters.isEbvError(b))return b;var d=b;if(QueryFilters.isNumeric(b)){for(var f=0;f<c.length;f++){var m=QueryFilters.runFilter(c[f].expression,a,e,g,h);if(QueryFilters.isEbvError(m))return b;if(QueryFilters.isNumeric(m))"*"===c[f].operator?d=QueryFilters.runMulFunction(d,m):"/"===c[f].operator&&(d=QueryFilters.runDivFunction(d,m));else return QueryFilters.ebvFalse()}return d}return QueryFilters.ebvFalse()};
QueryFilters.runMulFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)*QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runDivFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)/QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||
QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runBuiltInCall=function(b,c,a,e,g,h){if("notexists"===b||"exists"===b){var d=l.clone(c[0],!0),d=e.abstractQueryTree.parseSelect({pattern:d},a),d=e.abstractQueryTree.bind(d.pattern,a);a=e.executeSelectUnit([{kind:"*"}],
g,d,h);return"exists"===b?QueryFilters.ebvBoolean(0!==a.length):QueryFilters.ebvBoolean(0===a.length)}for(var d=[],f=0;f<c.length;f++)if("var"===c[f].token)d.push(c[f]);else{var m=QueryFilters.runFilter(c[f],a,e,g,h);if(QueryFilters.isEbvError(m))return m;d.push(m)}if("str"===b)return"literal"===d[0].token?{token:"literal",type:null,value:""+d[0].value}:"uri"===d[0].token?{token:"literal",type:null,value:d[0].value}:QueryFilters.ebvFalse();if("lang"===b)return"literal"===d[0].token?null!=d[0].lang?
{token:"literal",value:""+d[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if("datatype"===b)return"literal"===d[0].token?(b=d[0],null!=b.type?"string"===typeof b.type?{token:"uri",value:b.type,prefix:null,suffix:null}:b.type:null==b.lang?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:QueryFilters.ebvError()):QueryFilters.ebvError();if("isliteral"===b)return"literal"===d[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isblank"===b)return"blank"===
d[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isuri"===b||"isiri"===b)return"uri"===d[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("sameterm"===b)return b=QueryFilters.RDFTermEquality(d[0],d[1],e,h),QueryFilters.isEbvError(b)&&(b=!1),QueryFilters.ebvBoolean(b);if("langmatches"===b)return b=d[0],a=d[1],"literal"===b.token&&"literal"===a.token?"*"===a.value&&""!=b.value?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(0===b.value.toLowerCase().indexOf(a.value.toLowerCase())):
QueryFilters.ebvError();if("bound"===b)return b=d[0].value,null==b?QueryFilters.ebvError():null!=a[b]?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(null!=e.customFns[b])return e.customFns[b](QueryFilters,d);throw"Builtin call "+b+" not implemented yet";};QueryFilters.runUnaryExpression=function(b,c,a,e,g,h){c=QueryFilters.runFilter(c,a,e,g,h);if(QueryFilters.isEbvError(c))return c;if("!"===b){var d=QueryFilters.ebv(c);return QueryFilters.isEbvError(d)?QueryFilters.ebvFalse():QueryFilters.ebvBoolean(!d)}if("+"===
b)return QueryFilters.isNumeric(c)?c:QueryFilters.ebvError();if("-"===b){if(QueryFilters.isNumeric(c)){b={};for(d in c)b[d]=c[d];b.value=-b.value;return b}return QueryFilters.ebvError()}};QueryFilters.runRegex=function(b,c,a,e,g,h,d){if(null!=b)b=QueryFilters.runFilter(b,e,g,h,d);else return QueryFilters.ebvError();if(null!=c)c=QueryFilters.runFilter(c,e,g,h,d);else return QueryFilters.ebvError();null!=a&&(a=QueryFilters.runFilter(a,e,g,h,d));if(null==c||"literal"!==c.token||null!=a&&"literal"!==
a.token)return QueryFilters.ebvError();c=c.value;a=null==a?null:a.value;if(null!=b&&"var"==b.token)if(null!=e[b.value])b=e[b.value];else return QueryFilters.ebvError();else if(null!=b&&"literal"===b.token)if(null==b.type||QueryFilters.isXsdType("string",b))b=b.value;else return QueryFilters.ebvError();else return QueryFilters.ebvError();return(null==a?new RegExp(c):new RegExp(c,a.toLowerCase())).exec(b)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.normalizeLiteralDatatype=function(b,
c,a){null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=l.lexicalFormBaseUri(b.value.type,a));return b};QueryFilters.runIriRefOrFunction=function(b,c,a,e,g,h){if(null==c)return b;for(var d=[],f=0;f<c.length;f++)d.push(QueryFilters.runFilter(c[f],a,e,g,h));b=l.lexicalFormBaseUri(b,h);if("http://www.w3.org/2001/XMLSchema#integer"==b||"http://www.w3.org/2001/XMLSchema#decimal"==b||"http://www.w3.org/2001/XMLSchema#double"==b||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b||"http://www.w3.org/2001/XMLSchema#negativeInteger"==
b||"http://www.w3.org/2001/XMLSchema#long"==b||"http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#short"==b||"http://www.w3.org/2001/XMLSchema#byte"==b||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b)if(d=
d[0],"literal"===d.token){d=QueryFilters.normalizeLiteralDatatype(d,e,h);if("http://www.w3.org/2001/XMLSchema#integer"==d.type||"http://www.w3.org/2001/XMLSchema#decimal"==d.type||"http://www.w3.org/2001/XMLSchema#double"==d.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==d.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#long"==d.type||"http://www.w3.org/2001/XMLSchema#int"==d.type||"http://www.w3.org/2001/XMLSchema#short"==d.type||
"http://www.w3.org/2001/XMLSchema#byte"==d.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==d.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==d.type)return d.type=b,d;if("http://www.w3.org/2001/XMLSchema#boolean"==d.type)return!0==QueryFilters.ebv(d)?
(d.type=b,d.value=1):(d.type=b,d.value=0),d;if("http://www.w3.org/2001/XMLSchema#float"==d.type||"http://www.w3.org/2001/XMLSchema#double"==d.type)return d.type=b,d.value=parseInt(d.value),d;if("http://www.w3.org/2001/XMLSchema#string"==d.type||null==d.type){if(2<d.value.split(".").length||2<d.value.split("-").length||2<d.value.split("/").length||2<d.value.split("+").length||"http://www.w3.org/2001/XMLSchema#decimal"==b&&(-1!=d.value.indexOf("e")||-1!=d.value.indexOf("E")))return QueryFilters.ebvError();
if("http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#integer"==b)if(-1!=d.value.indexOf("e")||-1!=d.value.indexOf("E")||-1!=d.value.indexOf("."))return QueryFilters.ebvError();try{d.value=parseInt(parseFloat(d.value));if(isNaN(d.value))return QueryFilters.ebvError();d.type=b;return d}catch(m){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else{if("http://www.w3.org/2001/XMLSchema#boolean"==b)return d=d[0],"literal"===
d.token&&null==d.type?"true"===d.value||"1"===d.value?QueryFilters.ebvTrue():"false"===d.value||"0"===d.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===d.token?QueryFilters.isEbvError(d)?d:QueryFilters.ebvBoolean(d):QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#string"==b)return d=d[0],"literal"===d.token?(d=QueryFilters.normalizeLiteralDatatype(d,e,h),"http://www.w3.org/2001/XMLSchema#integer"==d.type||"http://www.w3.org/2001/XMLSchema#decimal"==d.type||"http://www.w3.org/2001/XMLSchema#double"==
d.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==d.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#long"==d.type||"http://www.w3.org/2001/XMLSchema#int"==d.type||"http://www.w3.org/2001/XMLSchema#short"==d.type||"http://www.w3.org/2001/XMLSchema#byte"==d.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==d.type||
"http://www.w3.org/2001/XMLSchema#unsignedShort"==d.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==d.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==d.type||"http://www.w3.org/2001/XMLSchema#float"==d.type?(d.type=b,d.value=""+d.value,d):"http://www.w3.org/2001/XMLSchema#string"==d.type?d:"http://www.w3.org/2001/XMLSchema#boolean"==d.type?(QueryFilters.ebv(d)?(d.type=b,d.value="true"):(d.type=b,d.value="false"),d):"http://www.w3.org/2001/XMLSchema#dateTime"==d.type||"http://www.w3.org/2001/XMLSchema#date"==
d.type?(d.type=b,"string"!=typeof d.value&&(d.value=l.iso8601(d.value)),d):null==d.type?(d.value=""+d.value,d.type=b,d):QueryFilters.ebvError()):"uri"===d.token?{token:"literal",value:l.lexicalFormBaseUri(d,h),type:b,lang:null}:QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#dateTime"==b||"http://www.w3.org/2001/XMLSchema#date"==b){d=d[0];if("http://www.w3.org/2001/XMLSchema#dateTime"==d.type||"http://www.w3.org/2001/XMLSchema#date"==d.type)return d;if("http://www.w3.org/2001/XMLSchema#string"==
d.type||null==d.type)try{return d.value=l.iso8601(l.parseISO8601(d.value)),d.type=b,d}catch(n){return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if("http://www.w3.org/2001/XMLSchema#float"==b)if(d=d[0],"literal"===d.token){d=QueryFilters.normalizeLiteralDatatype(d,e,h);if("http://www.w3.org/2001/XMLSchema#decimal"==d.type||"http://www.w3.org/2001/XMLSchema#int"==d.type)return d.type=b,d.value=parseFloat(d.value),d;if("http://www.w3.org/2001/XMLSchema#boolean"==d.type)return!0==
QueryFilters.ebv(d)?(d.type=b,d.value=1):(d.type=b,d.value=0),d;if("http://www.w3.org/2001/XMLSchema#float"==d.type||"http://www.w3.org/2001/XMLSchema#double"==d.type)return d.type=b,d.value=parseFloat(d.value),d;if("http://www.w3.org/2001/XMLSchema#string"==d.type)try{d.value=parseFloat(d.value);if(isNaN(d.value))return QueryFilters.ebvError();d.type=b;return d}catch(t){return QueryFilters.ebvError()}else if(null==d.type){if(2<d.value.split(".").length||2<d.value.split("-").length||2<d.value.split("/").length||
2<d.value.split("+").length)return QueryFilters.ebvError();try{d.value=parseFloat(d.value);if(isNaN(d.value))return QueryFilters.ebvError();d.type=b;return d}catch(q){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else return QueryFilters.ebvError()}};B.exports={QueryFilters:QueryFilters}},{"./utils":55}],51:[function(r,B,y){var l=r("./utils"),q=r("./utils"),b={variablesInBGP:function(b){var a=b.variables;if(a)return a;var e=b.value||b,a=[],
g;for(g in e)e[g]&&"var"===e[g].token?a.push(e[g].value):e[g]&&"blank"===e[g].token&&a.push("blank:"+e[g].value);return b.variables=a},connected:function(b,a){for(var e="/"+b.vars.join("/")+"/",g=0;g<a.vars.length;g++)if(-1!=e.indexOf("/"+a.vars[g]+"/"))return!0;return!1},variablesIntersectionBGP:function(c,a){for(var e=b.variablesInBGP(c),g=b.variablesInBGP(a),h={},d=0;d<e.lenght;d++)h[e[d]]=1;for(d=0;d<g.length;d++)e=h[g[d]]||0,e++,h[g[d]]=e;var g=[],f;for(f in h)2==h[f]&&g.push(h[f]);return g},
executeAndBGPsGroups:function(c){for(var a={},e={},g=0,h=function(a,b){for(var c=0;c<a.length;c++)if(-1!=b.indexOf("/"+a[c]+"/"))return!0;return!1},d=function(b,c,d,f){var g=[],h="",n="",m;for(m in c)h+=m,g=g.concat(a[m]),n+=e[m];n=n+q.join("/")+"/";g.push(b);d[h]=g;f[h]=n},f=0;f<c.length;f++){var m=c[f],n={},t={},q=b.variablesInBGP(m),r={},v;for(v in e)h(q,e[v])?r[v]=!0:(n[v]=a[v],t[v]=e[v]);0===l.size(r)?(n["g"+g]=[m],t["g"+g]="/"+q.join("/")+"/",g++):d(m,r,n,t);a=n;e=t}return l.values(a)},intersectionSize:function(b,
a){for(var e=a.i.split("_"),g=0;g<e.length;g++)if(""!=e[g]&&-1!=b.i.indexOf("_"+e[g]+"_"))return 1;return 0},createJoinTree:function(b,a){for(var e="/"+b.vars.join("/")+"/",g=b.vars.concat([]),h=[],d=0;d<a.vars.length;d++)-1!=e.indexOf("/"+a.vars[d]+"/")?0==a.vars[d].indexOf("_:")?h.push("blank:"+a.vars[d]):h.push(a.vars[d]):g.push(a.vars[d]);for(var e=a.i.split("_"),f=b.i.split("_"),m={},d=0;d<e.length;d++)""!=e[d]&&(m[e[d]]=!0);for(d=0;d<f.length;d++)""!=f[d]&&(m[f[d]]=!0);d=l.keys(m);return{left:b,
right:a,cost:b.cost+a.cost,i:"_"+d.sort().join("_")+"_",vars:g,join:h}},executeBushyTree:function(c,a,e,g,h){null==c.left?b.executeEmptyJoinBGP(c.right,a,e,g,h):null==c.right?b.executeEmptyJoinBGP(c.left,a,e,g,h):b.executeBushyTree(c.left,a,e,g,function(d){null!=d?b.executeBushyTree(c.right,a,e,g,function(a){null!=a?h(b.joinBindings2(c.join,d,a)):h(null)}):h(null)})},executeAndBGPsDPSize:function(c,a,e,g,h){c=b.executeAndBGPsGroups(c);var d=[];q.eachSeries(c,function(a,c){e.computeCosts(a,g,function(a){var e=
{},f={},g={},h=1,l=null,q={};g["1"]=[];for(var r=0;r<a.length;r++){h=[];delete a[r].variables;for(var y in a[r])"_cost"!=y&&("var"===a[r][y].token?h.push(a[r][y].value):"blank"===a[r][y].token&&h.push(a[r][y].value));f["_"+r+"_"]={left:a[r],right:null,cost:a[r]._cost,i:"_"+r+"_",vars:h};h={left:a[r],right:null,cost:a[r]._cost,i:"_"+r+"_",vars:h};e["_"+r+"_"]=h;delete a[r]._cost;q["_"+r+"_"]=!0;g["1"].push("_"+r+"_");if(null==l||l.cost>h.cost)l=h}for(y=2;y<=a.length;y++)for(var B=1;B<y;B++)for(var s=
g[""+B]||[],u=g[""+(y-B)]||[],r=0;r<s.length;r++)for(var x=0;x<u.length;x++)if(s[r]!==u[x]){var z=f[s[r]],w=f[u[x]];if(0==b.intersectionSize(z,w)&&b.connected(z,w)&&(h=y,z=b.createJoinTree(e[z.i],e[w.i]),!q[z.i])){q[z.i]=!0;w=z.cost+1;null!=e[z.i]&&(w=e[z.i].cost);var M=g[y]||[];M.push(z.i);f[z.i]=z;g[y]=M;w>z.cost&&(h===y&&(l=z),e[z.i]=z)}}d.push(l);c()})},function(){var c=null;q.eachSeries(d,function(d,h){b.executeBushyTree(d,a,e,g,function(a){a?(c=null==c?a:b.crossProductBindings(c,a),h()):h("Error executing bushy tree")})},
function(a){a?h(null,a):h(c)})})},executeEmptyJoinBGP:function(c,a,e,g,h){return b.executeBGPDatasets(c,a,e,g,h)},executeBGPDatasets:function(c,a,e,g,h){var d={};if(null==c.graph){var f=[];q.eachSeries(a.implicit,function(a,h){null==d[a.oid]?(d[a.oid]=!0,c.graph=a,e.rangeQuery(c,g,function(a){a=b.buildBindingsFromRange(a,c);f.push(a);h()})):h()},function(){var a=b.unionManyBindings(f);h(a)})}else if("var"===c.graph.token){var m=c.graph.value,f=[];q.eachSeries(a.named,function(a,h){null==d[a.oid]&&
(d[a.oid]=!0,c.graph=a,null!=f?e.rangeQuery(c,g,function(d){if(null!=d){d=b.buildBindingsFromRange(d,c);for(var e=0;e<d.length;e++)d[e][m]=a.oid;f.push(d)}else f=null;h()}):h())},function(){if(null==f)h(null);else{var a=b.unionManyBindings(f);h(a)}})}else e.rangeQuery(c,g,function(a){null!=a?(a=b.buildBindingsFromRange(a,c),h(a)):h(null)})},buildBindingsFromRange:function(c,a){b.variablesInBGP(a);var e=a.value||a,g={};for(n in e)e[n]&&"var"===e[n].token?g[n]=e[n].value:e[n]&&"blank"===e[n].token&&
(g[n]="blank:"+e[n].value);e=[];if(null!=c)for(var h=0;h<c.length;h++){var d={},f=c[h],m=!1,n;for(n in g){var l=f[n];if(null==d[g[n]]||d[g[n]]===l)d[g[n]]=l;else{m=!0;break}}m||e.push(d)}return e},areCompatibleBindings:function(b,a){for(var e in b)if(null!=a[e]&&a[e]!=b[e])return!1;return!0},mergeBindings:function(b,a){var e={},g;for(g in b)e[g]=b[g];for(g in a)e[g]=a[g];return e},joinBindings2:function(c,a,e){for(var g={},h,d,f,m,n=[],l=0;l<a.length;l++){h=a[l];m=g;for(var q=0;q<c.length;q++)d=c[q],
d=h[d],q==c.length-1?(f=m[d]||[],f.push(h),m[d]=f):(f=m[d]||{},m=m[d]=f)}for(l=0;l<e.length;l++)for(h=e[l],m=g,q=0;q<c.length;q++)if(d=c[q],d=h[d],null!=m[d])if(q==c.length-1)for(a=0;a<m[d].length;a++)n.push(b.mergeBindings(m[d][a],h));else m=m[d];return n},joinBindings:function(c,a){for(var e=[],g=0;g<c.length;g++)for(var h=c[g],d=0;d<a.length;d++){var f=a[d];b.areCompatibleBindings(h,f)&&e.push(b.mergeBindings(h,f))}return e},augmentMissingBindings:function(b,a){for(var e in a)null==b[e]&&(b[e]=
null);return b},leftOuterJoinBindings:function(c,a){for(var e=[],g=0;g<c.length;g++){for(var h=c[g],d=!1,f=0;f<a.length;f++){var m=a[f];b.areCompatibleBindings(h,m)&&(d=!0,e.push(b.mergeBindings(h,m)))}!1===d&&(b.augmentMissingBindings(h,m),e.push(h))}return e},crossProductBindings:function(c,a){for(var e=[],g=0;g<c.length;g++)for(var h=c[g],d=0;d<a.length;d++)e.push(b.mergeBindings(h,a[d]));return e},unionBindings:function(b,a){return b.concat(a)},unionManyBindings:function(c){for(var a=[],e=0;e<
c.length;e++)a=b.unionBindings(a,c[e]);return a}};B.exports={QueryPlan:b}},{"./utils":55}],52:[function(r,B,y){var l=r("./network_transport").NetworkTransport,q=r("./rvn3_parser").RVN3Parser,b=r("./jsonld_parser").JSONLDParser,c=r("./utils");y=function(a){this.precedences=["text/turtle","text/n3","application/ld+json","application/json"];this.parsers={"text/turtle":q.parser,"text/n3":q.parser,"application/ld+json":b.parser,"application/json":b.parser};"undefined"!==typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),
this.parsers["application/rdf+xml"]=RDFXMLParser.parser);if(null!=a)for(var e in a.parsers)this.parsers[e]=a.parsers[e];if(a&&null!=a.precedences)for(e in this.precedences=a.precedences,a.parsers)c.include(this.precedences,e)||this.precedences.push(e);this.acceptHeaderValue="";for(a=0;a<this.precedences.length;a++)this.acceptHeaderValue=0!=a?this.acceptHeaderValue+","+this.precedences[a]:this.acceptHeaderValue+this.precedences[a]};y.prototype.registerParser=function(a,b){this.parsers[a]=b;this.precedences.push(a)};
y.prototype.unregisterParser=function(a){delete this.parsers[a];for(var b=[],c=0;c<this.precedences.length;c++)this.precedences[c]!=a&&b.push(this.precedences[c]);this.precedences=b};y.prototype.setAcceptHeaderPrecedence=function(a){this.precedences=a};y.prototype.load=function(a,b,c){var h=this;l.load(a,this.acceptHeaderValue,function(d,f){if(d)c(d);else{var m=f.headers["Content-Type"]||f.headers["content-type"],n=f.data;if(null!=m){var m=m.split(";")[0],l;for(l in h.parsers)if(-1!=l.indexOf("/")){var q=
l.split("/");if("*"===q[1]){if(-1!=m.indexOf(q[0]))return h.tryToParse(h.parsers[l],b,n,{documentURI:a},c)}else if(-1!=m.indexOf(l)||-1!=m.indexOf(q[1]))return h.tryToParse(h.parsers[l],b,n,{documentURI:a},c)}else if(-1!=m.indexOf(l))return h.tryToParse(h.parsers[l],b,n,{documentURI:a},c);c(Error("Unknown media type : "+m))}else c(Error("Uknown media type"))}})};y.prototype.loadFromFile=function(a,b,c,h){try{var d=this;r("fs").readFile(c.split("file:/")[1],function(f,n){f?h(f):(n=n.toString("utf8"),
d.tryToParse(a,b,n,{documentURI:c},h))})}catch(f){h(f)}};y.prototype.tryToParse=function(a,b,g,h,d){try{"string"===typeof g&&(g=c.normalizeUnicodeLiterals(g)),a.parse(g,b,h,d)}catch(f){console.log(f.message),console.log(f.stack),d(f)}};B.exports={RDFLoader:y}},{"./jsonld_parser":41,"./network_transport":43,"./rvn3_parser":54,"./utils":55,fs:1}],53:[function(r,B,y){var l=r("./utils"),q=r("./query_filters").QueryFilters;RDFModel={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",
owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",
ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties="get remove set setDefault addAll resolve shrink".split(" ")}};RDFModel.UrisMap.prototype.values=function(){var b={},c;for(c in this)l.include(this.interfaceProperties,c)||"function"===typeof this[c]||"defaultNs"===c||"interfaceProperties"===c||(b[c]=this[c]);return b};RDFModel.UrisMap.prototype.get=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";return this[b]};
RDFModel.UrisMap.prototype.remove=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";delete this[b];return null};RDFModel.UrisMap.prototype.set=function(b,c){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";this[b]=c};RDFModel.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};RDFModel.UrisMap.prototype.addAll=function(b,c){for(var a in b)l.include(this.interfaceProperties,a)||(null!=this[a]?!0===c&&(this[a]=b[a]):this[a]=b[a]);return this};
RDFModel.UrisMap.prototype.resolve=function(b){var c=b.split(":");b=c[0];c=c[1];return""===b?null==this.defaultNs?null:this.defaultNs+c:null!=this[b]?this[b]+c:null};RDFModel.UrisMap.prototype.shrink=function(b){for(var c in this){var a=this[c];if(0===b.indexOf(a)&&""!==a&&"defaultNs"!=c)return b=b.split(a)[1],c+":"+b}return b};RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap;this.terms=new RDFModel.UrisMap};RDFModel.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,
c);this.terms.addAll(b.terms,c)};RDFModel.Profile.prototype.resolve=function(b){return-1!=b.indexOf(":")?this.prefixes.resolve(b):null!=this.terms[b]?this.terms.resolve(b):null};RDFModel.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};RDFModel.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};RDFModel.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,c)};RDFModel.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};RDFModel.RDFEnvironment=
function(){RDFModel.Profile.call(this);this.blankNodeCounter=0;var b=this;this.filters={s:function(a){return function(b){return b.subject.equals(a)}},p:function(a){return function(b){return b.predicate.equals(a)}},o:function(a){return function(b){return b.object.equals(a)}},sp:function(a,b){return function(c){return c.subject.equals(a)&&c.predicate.equals(b)}},so:function(a,b){return function(c){return c.subject.equals(a)&&c.object.equals(b)}},po:function(a,b){return function(c){return c.predicate.equals(a)&&
c.object.equals(b)}},spo:function(a,b,c){return function(h){return h.subject.equals(a)&&h.predicate.equals(b)&&h.object.equals(c)}},describes:function(a){return function(b){return b.subject.equals(a)||b.object.equals(a)}},type:function(a){var c=b.resolve("rdf:type");return function(b){return b.predicate.equals(c)&&b.object.equals(a)}}};for(var c in RDFModel.defaultContext)this.prefixes.set(c,RDFModel.defaultContext[c])};RDFModel.RDFEnvironment.prototype=l.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment});
RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var b=new RDFModel.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};RDFModel.RDFEnvironment.prototype.createNamedNode=function(b){var c=this.resolve(b);return null!=c?new RDFModel.NamedNode(c):new RDFModel.NamedNode(b)};RDFModel.RDFEnvironment.prototype.createLiteral=function(b,c,a){return null!=a?new RDFModel.Literal(b,c,a.toString()):new RDFModel.Literal(b,c,a)};RDFModel.RDFEnvironment.prototype.createTriple=function(b,
c,a){return new RDFModel.Triple(b,c,a)};RDFModel.RDFEnvironment.prototype.createGraph=function(b){var c=new RDFModel.Graph;if(null!=b)for(var a=0;a<b.length;a++)c.add(b[a]);return c};RDFModel.RDFEnvironment.prototype.createAction=function(b,c){return function(a){return b(a)?c(a):a}};RDFModel.RDFEnvironment.prototype.createProfile=function(b){if(!0===b)return new RDFModel.RDFEnvironment.Profile;b=new RDFModel.RDFEnvironment.Profile;b.importProfile(this);return b};RDFModel.RDFEnvironment.prototype.createTermMap=
function(b){if(!0===b)return new RDFModel.UrisMap;b=this.terms.values();var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFEnvironment.prototype.createPrefixMap=function(b){if(!0===b)return new RDFModel.UrisMap;b=this.prefixes.values();var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};RDFModel.RDFNode.prototype.equals=function(b){if(null==b.interfaceName)return this.valueOf()==
b;for(var c in this.attributes){var a=this.attributes[c];if(this[a]!=b[a])return!1}return!0};RDFModel.BlankNode=function(b){RDFModel.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};RDFModel.BlankNode.prototype=l.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode});RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue};RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue};RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue};
RDFModel.Literal=function(b,c,a){RDFModel.RDFNode.call(this,"Literal");this.nominalValue=b;null!=c?this.language=c:null!=a&&(this.datatype=a)};RDFModel.Literal.prototype=l.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal});RDFModel.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';if(null!=this.language)b=b+"@"+this.language;else if(null!=this.datatype||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};RDFModel.Literal.prototype.toNT=function(){return this.toString()};
RDFModel.Literal.prototype.valueOf=function(){return q.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})};RDFModel.NamedNode=function(b){RDFModel.RDFNode.call(this,"NamedNode");this.nominalValue=null!=b.value?b.value:b};RDFModel.NamedNode.prototype=l.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode});RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue};RDFModel.NamedNode.prototype.toNT=function(){return"<"+
this.toString()+">"};RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Triple=function(b,c,a){this.subject=b;this.predicate=c;this.object=a};RDFModel.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFModel.Graph=function(){this.triples=[];this.duplicates=
{};this.actions=[];this.length=0};RDFModel.Graph.prototype.add=function(b){for(var c=0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(b));this.length=this.triples.length;return this};RDFModel.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(!0==c)for(var a=0;a<this.triples.length;a++)this.triples[a]=b(this.triples[a]);return this};RDFModel.Graph.prototype.addAll=
function(b){b=b.toArray();for(var c=0;c<b.length;c++)this.add(b[c]);this.length=this.triples.length;return this};RDFModel.Graph.prototype.remove=function(b){for(var c=null,a=0;a<this.triples.length;a++)if(this.triples[a].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];c=a;break}null!=c&&this.triples.splice(c,1);this.length=this.triples.length;return this};RDFModel.Graph.prototype.toArray=function(){return this.triples};RDFModel.Graph.prototype.some=
function(b){for(var c=0;c<this.triples.length;c++)if(!0===b(this.triples[c],this))return!0;return!1};RDFModel.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(!1===b(this.triples[c],this))return!1;return!0};RDFModel.Graph.prototype.filter=function(b){for(var c=new RDFModel.Graph,a=0;a<this.triples.length;a++)!0===b(this.triples[a],this)&&c.add(this.triples[a]);return c};RDFModel.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};
RDFModel.Graph.prototype.merge=function(b){b=new RDFModel.Graph;for(var c=0;c<this.triples.length;c++)b.add(this.triples[c]);return b};RDFModel.Graph.prototype.match=function(b,c,a,e){for(var g=new RDFModel.Graph,h=0,d=0;d<this.triples.length;d++){var f=this.triples[d];if(null==b||f.subject.equals(b))if(null==c||f.predicate.equals(c))if(null==a||f.object.equals(a))if(null==e||h<e)h++,g.add(f);else break}return g};RDFModel.Graph.prototype.removeMatches=function(b,c,a){for(var e=[],g=0;g<this.triples.length;g++){var h=
this.triples[g];if(null==b||h.subject.equals(b))null!=c&&!h.predicate.equals(c)||null!=a&&!h.object.equals(a)||e.push(h)}for(g=0;g<e.length;g++)this.remove(e[g]);return this};RDFModel.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};RDFModel.buildRDFResource=function(b,c,a,e){return"blank"===b.token?RDFModel.buildBlankNode(b,c,a,e):"literal"===b.token?RDFModel.buildLiteral(b,c,a,e):"uri"===b.token?RDFModel.buildNamedNode(b,c,a,e):"var"===b.token?(b=c[b.value],
null!=b?RDFModel.buildRDFResource(b,c,a,e):null):null};RDFModel.buildBlankNode=function(b,c,a,e){null!=b.valuetmp&&(b.value=b.valuetmp);0===b.value.indexOf("_:")&&(b.value=b.value.split("_:")[1]);return new RDFModel.BlankNode(b.value)};RDFModel.buildLiteral=function(b,c,a,e){return new RDFModel.Literal(b.value,b.lang,b.type)};RDFModel.buildNamedNode=function(b,c,a,e){null==b.value&&null!=b.prefix&&(c=a.resolveNsInEnvironment(b.prefix,e),b.value=c+b.suffix);return new RDFModel.NamedNode(b)};RDFModel.rdf=
new RDFModel.RDFEnvironment;B.exports=RDFModel},{"./query_filters":50,"./utils":55}],54:[function(r,B,y){function l(b){switch(b[0]){case '"':return 0<b.indexOf("^^")?(b=b.split("^^"),{literal:b[0]+"^^<"+b[1]+">"}):{literal:b};case "_":return{blank:b.replace("b","")};default:return{token:"uri",value:b,prefix:null,suffix:null}}}var q=r("../node_modules/n3/lib/N3Parser");B.exports={RVN3Parser:{parser:{async:!0,parse:function(b,c,a,e){e||(e=a,a=c,c=null);c&&"string"===typeof c&&(c={token:"uri",value:c,
prefix:null,suffix:null});a&&a.baseURI&&(a.documentIRI=a.baseURI);var g=[];(new q(a)).parse(b,function(a,b){a?e(a):b?g.push({subject:l(b.subject),predicate:l(b.predicate),object:l(b.object),graph:c}):e(!1,g)})},resetBlankNodeIds:function(){q._resetBlankNodeIds()}}}}},{"../node_modules/n3/lib/N3Parser":36}],55:[function(r,B,y){(function(l){var q=function(){var a=null;"undefined"!==typeof window?a=window:"undefined"!==typeof l&&(a=l);var b="undefined"!==typeof a&&a.postMessage&&a.addEventListener;if("undefined"!==
typeof a&&a.setImmediate)return function(b){return a.setImmediate(b)};if("undefined"!==a&&a.nextTick&&"function"===typeof r)return r("timers")&&r("timers").setImmediate?r("timers").setImmediate:a.nextTick;if(b){var c=[];a.addEventListener("message",function(b){var d=b.source;d!==a&&null!==d||"process-tick"!==b.data||(b.stopPropagation(),0<c.length&&c.shift()())},!0);return function(b){c.push(b);a.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),b=function(a){try{if(null==a)return"";
if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}};parseISO8601=function(a){return Date.parse(a)};Date.prototype.toISOString||function(){function a(b){return 10>b?"0"+b:b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+
":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1E3).toFixed(3).slice(2,5)+"Z"}}();iso8601=function(a){return a.toISOString()};compareDateComponents=function(a,b){var c=parseISO8601(a),d=parseISO8601(b);return c==d?0:c<d?-1:1};lexicalFormLiteral=function(a,b){var c=a.value,d=a.lang,e=a.type,g=null;null!=c&&null!=e&&"string"!=typeof e?(c=e.value,null==c&&(c=e.suffix,e=b.namespaces[e.prefix],a.type=e+c,c=e+c),g=-1!=c.indexOf("hexBinary")?'"'+a.value.toLowerCase()+
'"^^<'+c+">":'"'+a.value+'"^^<'+c+">"):g=null==d&&null==e?'"'+c+'"':null==e?'"'+c+'"@'+d:-1!=e.indexOf("hexBinary")?'"'+a.value.toLowerCase()+'"^^<'+e+">":'"'+a.value+'"^^<'+e+">";return g};normalizeUnicodeLiterals=function(a){for(var b=a.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],c={},d=0;d<b.length;d++)null==c[b[d]]&&(c[b[d]]=!0,a=a.replace(new RegExp("\\"+b[d],"g"),eval("'"+b[d]+"'")));return a};registerIndexedDB=function(a){if("undefined"===typeof window){var b=r("sqlite3"),c=r("indexeddb-js"),b=
new b.Database(":memory:"),c=c.makeScope("sqlite3",b);a.indexedDB=c.indexedDB;a.IDBKeyRange=c.IDBKeyRange}else window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB?(a.indexedDB=window.indexedDB,a.IDBKeyRange=window.IDBKeyRange):callback(null,Error("The browser does not support IndexDB."))};var b=function(a){try{if(null==a)return"";if("uri"===a.token)return"u"+
a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}},c=function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},a=function(a,b){if(a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c])};clone=function(a){return JSON.parse(JSON.stringify(a))};var e=function(){function a(){}return function(b){var c=typeof b;if("function"==
c||b&&"object"==c){a.prototype=b;var d=new a;a.prototype=null}return d||void 0}}(),g=function(a,b,c){a()?b(function(d){if(d)return c(d);g(a,b,c)}):c()},h=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},d=function(a,b,c,d){h(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};B.exports={nextTick:q,hasTerm:b,lexicalFormBaseUri:function(a,b){var c=null;b=b||{};if(null==a.value)var c=
a.prefix,d=a.suffix,e=b.namespaces[c],c=null!=e?e+d:c+":"+d;else c=a.value;if(null===c)return null;-1==c.indexOf(":")&&(c=(b.base||"")+c);return c},parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+
a()+a()},hashTerm:b,keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},size:function(a){if(a.length)return a.length;var b=0,c;for(c in a)b++;return b},map:function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d]);return c},each:a,forEach:a,reduce:d,include:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},reject:c,remove:c,clone:clone,create:e,whilst:g,eachSeries:h,seq:function(){var a=
arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),e=c.pop();d(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){e.apply(b,[a].concat(c))})}}}}).call(this,r("1YiZ5S"))},{"1YiZ5S":13,timers:26}]},{},[39])(39)});
